(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["myapp-app"]=e():t["myapp-app"]=e()})(window,(function(){return(window["webpackJsonp_myapp"]=window["webpackJsonp_myapp"]||[]).push([["app"],{0:function(t,e,a){t.exports=a("56d7")},"051b0":function(t,e,a){},"06b5":function(t,e,a){},"0731":function(t,e,a){},"115e":function(t,e,a){},"13ad":function(t,e,a){},"155c":function(t,e,a){"use strict";a("aa5c")},"1cc8":function(t,e,a){},"1e87":function(t,e,a){},"1ee7":function(t,e,a){"use strict";a("06b5")},"253c":function(t,e,a){t.exports=a.p+"assets/img/app_title.png"},"2d8d":function(t,e,a){},"31ad":function(t,e,a){"use strict";a("ed6a")},"378f":function(t,e,a){},"37bc":function(t,e,a){},"37bc0":function(t,e,a){"use strict";a("1e87")},"3ea2":function(t,e,a){},"3f48":function(t,e,a){"use strict";a.d(e,"m",(function(){return n})),a.d(e,"a",(function(){return r})),a.d(e,"q",(function(){return o})),a.d(e,"f",(function(){return l})),a.d(e,"k",(function(){return i})),a.d(e,"j",(function(){return c})),a.d(e,"e",(function(){return u})),a.d(e,"i",(function(){return p})),a.d(e,"b",(function(){return h})),a.d(e,"r",(function(){return m})),a.d(e,"g",(function(){return d})),a.d(e,"s",(function(){return f})),a.d(e,"o",(function(){return b})),a.d(e,"c",(function(){return g})),a.d(e,"l",(function(){return v})),a.d(e,"p",(function(){return C})),a.d(e,"n",(function(){return y})),a.d(e,"d",(function(){return w})),a.d(e,"h",(function(){return M}));var s=a("c73c"),n=function(t){return Object(s["a"])({method:"get",url:"/case-manager/cases",params:t,loading:{target:'[name="case-loading"]'}})},r=function(t){return Object(s["a"])({method:"post",url:"/case-manager/addCase",data:t,loading:{target:'[name="create-case-dialog"]'}})},o=function(t){return Object(s["a"])({method:"put",url:"/case-manager/updateCase",data:t,loading:{target:'[name="create-case-dialog"]'}})},l=function(t){return Object(s["a"])({method:"delete",url:"/case-manager/deleteCases",data:t})},i=function(t){return Object(s["a"])({method:"get",url:"/data-import/getCaseFile",params:t})},c=function(t){return Object(s["a"])({method:"get",url:"/data-import/billDetails",params:t,loading:!0})},u=function(t){return Object(s["a"])({method:"delete",url:"/data-import/deleteCaseFile",params:t})},p=function(t){return Object(s["a"])({method:"get",url:"/data-import/registration",params:t})},h=function(t){return Object(s["a"])({method:"post",url:"/data-import/addRegistration",data:t,loading:{target:'[name="creat-registry-loading"]'}})},m=function(t){return Object(s["a"])({method:"put",url:"/data-import/updateRegistration",data:t,loading:{target:'[name="creat-registry-loading"]'}})},d=function(t){return Object(s["a"])({method:"delete",url:"/data-import/deleteRegistration",params:t})},f=function(t,e){var a=new FormData;return a.append("files",t),e&&a.append("fileType",e),Object(s["a"])({headers:{"Content-Type":"multipart/form-data"},method:"post",url:"/data-import/upload",data:a})},b=function(t){return Object(s["a"])({method:"post",url:"/data-import/importData",data:t})},g=function(t){return Object(s["a"])({method:"post",url:"/bill-data/billStatisticsDetailExport",data:t,responseType:"blob"})},v=function(t){return Object(s["a"])({method:"get",url:"/data-import/billSummaryReport",params:t,loading:{target:'[name="summary-report-loading"]'}})},C=function(t){return Object(s["a"])({method:"get",url:"/data-import/billSummaryReportExport",params:t,responseType:"blob",loading:!0})},y=function(t){return Object(s["a"])({method:"post",url:"/data-import/importBill",data:t})},w=function(t){return Object(s["a"])({method:"get",url:"/data-import/downLoad",params:t,responseType:"blob"})},M=function(t){return Object(s["a"])({method:"get",url:"/commom/downLoad",params:t,responseType:"blob"})}},4360:function(t,e,a){"use strict";a.r(e);a("d3b7"),a("ddb0"),a("ac1f"),a("5319");var s=a("2b0e"),n=a("2f62");s["default"].use(n["b"]);var r=a("f331"),o=r.keys().reduce((function(t,e){var a=e.replace(/^\.\/(.*)\/index\.js$/,"$1"),s=r(e);return s.default&&(t[a]=s.default),t}),{});e["default"]=new n["b"].Store({modules:o})},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=r(t);return a(e)}function r(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=r,t.exports=n,n.id="4678"},4680:function(t,e,a){},"485c4":function(t,e,a){},"49e0":function(t,e,a){"use strict";a("e21a")},"4f73":function(t,e,a){},"500f":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("b0c0"),a("7db0"),a("caad");var s=a("2b0e"),n=a("4360"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app-wrap"}},[a("router-view")],1)},o=[],l={name:"App"},i=l,c=(a("5c0b"),a("2877")),u=Object(c["a"])(i,r,o,!1,null,null,null),p=u.exports,h=a("2909"),m=a("5530"),d=(a("ac1f"),a("99af"),a("8c4f")),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-wrap"},[a("div",{staticClass:"user-login-entry"},[a("h1",{staticClass:"title"},[t._v("登   录")]),a("el-input",{staticClass:"login-input-button",attrs:{"prefix-icon":"el-icon-user",placeholder:"用户名",autocomplete:"off"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("el-input",{staticClass:"login-input-button",attrs:{type:"password","prefix-icon":"el-icon-lock",placeholder:"密 码","auto-complete":"new-password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._e(),a("el-button",{staticClass:"login-input-button",on:{click:t.toLogin}},[t._v("登   录")])],1)])},b=[],g=(a("498a"),a("c740"),a("a434"),a("c73c")),v=function(){return Object(g["a"])({method:"get",url:"/commom/getDictionary"})},C=function(t){return Object(g["a"])({method:"post",url:"/user/login",data:t,loading:!0})},y=(a("de30"),{name:"HelloWorld",components:{},data:function(){return{msg:"Vue.js App",username:"",password:"",isRemember:!1,userLoginInfo:[]}},props:{testList:{type:Array,default:function(){return[]}}},mounted:function(){this.userLoginInfo=this.$storage.get("userLoginInfo")||[],document.addEventListener("keyup",this.enterToLogin)},destroyed:function(){document.removeEventListener("keyup",this.enterToLogin)},methods:{enterToLogin:function(t){console.log(t.which,t.keyCode),13!==t.which&&13!==t.keyCode||this.toLogin()},toLogin:function(){this.username.trim()?this.password.trim()?this.getMenuServer():this.$message.error("请输入密码"):this.$message.error("请输入用户名")},getMenuServer:function(){var t=this;C({userName:this.username,password:this.password}).then((function(e){if(e.success){console.log(e),t.$storage.set("menuList",e.data.menu),t.$storage.set("userInfo",e.data.user),t.$storage.set("roleInfo",e.data.roles&&e.data.roles[0]);var a=btoa(t.username)+"-u-k-"+btoa(t.password);if(t.isRemember)t.userLoginInfo.push(a);else{var s=t.userLoginInfo.findIndex((function(t){return t===a}));s>-1&&t.userLoginInfo.splice(s,1)}t.$router.push({name:e.data.menu[0].pathName})}else t.$message.error(e.msg)}))}}}),w=y,M=(a("6e17"),Object(c["a"])(w,f,b,!1,null,"3df590ae",null)),T=M.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" 404!!!!!! ")])},D=[],k={},x=k,j=Object(c["a"])(x,_,D,!1,null,null,null),z=j.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"module-wrap"},[s("div",{staticClass:"module-header"},[s("img",{attrs:{src:a("253c")}}),s("div",{staticClass:"user-module-wrapper"},[s("div",{staticClass:"user-date"},[t._v(t._s(t.dateDayWeek))]),s("div",{staticClass:"split-line"},[t._v("|")]),s("div",{staticClass:"user-info-wrapper"},[s("div",{staticClass:"user-img el-icon-user-solid"}),s("div",{staticClass:"user-name-and-dept-role"},[s("div",{staticClass:"name-role"},[s("span",[t._v(t._s(t.userInfo.name||t.userInfo.userName))]),t._v("    "),s("span",[t._v(t._s(t.roleInfo.name||"办案人员"))])]),s("div",[t._v(t._s(t.userInfo.orgName||"第一审查调查部门"))])]),s("el-button",{attrs:{type:"text"},on:{click:function(e){return e.stopPropagation(),t.exit.apply(null,arguments)}}},[t._v("退出")])],1)])]),s("div",{class:"module-mode-"+t.ModuleMode},[s("div",{staticClass:"module-menu-wrap"},[s("MenuNav",{attrs:{isCollapse:t.isCollapse,ModuleMode:t.ModuleMode,list:t.menuList}})],1),s("div",{staticClass:"module-router-view-wrap"},[s("div",{staticClass:"module-router-tag-or-bread"},[s("BreadNav")],1),t.loading?t._e():s("tagViews",{staticClass:"tag-views"})],1)])])},$=[],N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-menu",{staticClass:"el-menu-vertical-demo menu-nav-wrap",attrs:{mode:t.ModuleMode,collapse:t.isCollapse,"unique-opened":"","menu-trigger":"hover","default-active":t.$route.name},on:{open:t.handleOpen,close:t.handleClose}},[t._l(t.menuList,(function(e){return[a("menuItem",{key:e.id,attrs:{toRouter:t.toRouter,menuMap:e}})]}))],2)},O=[],R=(a("d81d"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.menuMap.isShowPage,expression:"menuMap.isShowPage"}],staticClass:"deal-menu-maximum"},[t.menuMap.isParent?a("el-submenu",{directives:[{name:"show",rawName:"v-show",value:t.menuMap.isShowPage,expression:"menuMap.isShowPage"}],key:t.menuMap.component,attrs:{"popper-append-to-body":"","popper-class":"deal-menu-maximum-popper",index:t.menuMap.component},on:{click:function(e){return t.clickRouter(t.menuMap)}}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),a("span",[t._v(t._s(t.menuMap.name))])]),t._l(t.menuMap.children,(function(e){return[e?a("menuItem",{key:e.id,attrs:{toRouter:t.toRouter,menuMap:e}}):t._e()]}))],2):a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:t.menuMap.isShowPage,expression:"menuMap.isShowPage"}],key:t.menuMap.component,attrs:{"popper-append-to-body":"",index:t.menuMap.component},on:{click:function(e){return t.clickRouter(t.menuMap)}}},[a("i",{staticClass:"el-icon-menu"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.menuMap.name))])])],1)}),E=[],A={name:"menuItem",props:{menuMap:{type:Object,default:function(){}},toRouter:Function},methods:{clickRouter:function(t){this.toRouter(t)}}},L=A,P=(a("aef0"),Object(c["a"])(L,R,E,!1,null,null,null)),I=P.exports,B={name:"menuNav",data:function(){return{changeMode:!0,menuList:this.$storage.get("menuList")}},computed:{menuData:function(){return this.$treeToList(this.menuList)}},watch:{$route:{deep:!0,immediate:!0,handler:function(t,e){var a=this;console.log(t);var s=this.menuList.map((function(t){return t.id})),n=this.menuData.find((function(e){return e.pathName===t.name})),r=n.id;if(0===n.isParent&&n.children&&n.children.length){var o=1+s.indexOf(r)||1;return n.children.forEach((function(t,e){var n=s.indexOf(t.id);-1===n?(t.isShowPage=0,a.menuList.splice(e+o,0,t)):a.menuList[n].isShowPage=0})),void this.$storage.set("menuList",this.menuList)}var l=this.menuData.find((function(t){return t.pathName===e.name}));if(l&&l.children&&l.children.length){var i=l.children.map((function(t){return t.id})),c=i.indexOf(r);-1!==c&&(l.children.forEach((function(t){var e=s.indexOf(t.id);-1!==e&&(a.menuList[e].isShowPage=1)})),this.$storage.set("menuList",this.menuList))}else;}}},props:{ModuleMode:{type:String,default:"vertical"},isCollapse:{type:Boolean,default:!1}},mounted:function(){},components:{menuItem:I},methods:{handleOpen:function(t,e){console.log(t,e,"OPEN")},handleClose:function(t,e){console.log(t,e,"CLOSE")},toRouter:function(t){t.pathName!==this.$route.name?this.$router.push({name:t.pathName}):this.$router.push({name:"refreshRouter"})}}},F=B,V=(a("db10"),Object(c["a"])(F,N,O,!1,null,null,null)),G=V.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-breadcrumb",{staticClass:"bread-nav",attrs:{separator:"/"}},t._l(t.breadList,(function(e,s){return a("el-breadcrumb-item",{key:e&&e.pathName,attrs:{to:{name:s!==t.breadList.length-1&&e.pathName}},nativeOn:{click:function(a){return t.breadEvent(e,s)}}},[t._v(t._s(e&&e.name))])})),1)},W=[],U=(a("5319"),a("2f62")),K=Object(U["a"])("app"),H=K.mapState,Y=K.mapActions,X={name:"BreadNav",computed:Object(m["a"])(Object(m["a"])({},H(["breadList"])),{},{menuData:function(){var t=this.$storage.get("menuList");return this.$treeToList(t)}}),methods:Object(m["a"])(Object(m["a"])({},Y(["getBread"])),{},{breadEvent:function(t,e){e!==this.breadList.length-1&&this.$router.replace({name:"refreshRouter"})}}),watch:{$route:{immediate:!0,deep:!0,handler:function(t){var e=this.menuData.find((function(e){return e.pathName===t.name})),a=e.pid,s=this.menuData.find((function(t){return t.id===a})),n=[e];while(s)n.unshift(s),a=s.pid,s=this.menuData.find((function(t){return t.id===a}));this.getBread(n)}}}},J=X,Z=(a("8e5d"),Object(c["a"])(J,q,W,!1,null,"6337113c",null)),Q=Z.exports,tt={components:{MenuNav:G,BreadNav:Q},mounted:function(){this.themeChange(),this.userInfo=this.$storage.get("userInfo"),this.roleInfo=this.$storage.get("roleInfo"),this.getDictionaryServer()},data:function(){return{userInfo:{},roleInfo:{},btnMsgType:["info","success","error","warning"],ModuleMode:"horizontal",isCollapse:!1,drawer:!1,themeRadio:"dark-theme-style",loading:!0}},computed:{menuList:function(){return this.$storage.get("menuList")},dateDayWeek:function(){var t=this.$moment(),e=t.format("MM月DD日"),a=t.format("E");switch(+a){case 1:a="周一";break;case 2:a="周二";break;case 3:a="周三";break;case 4:a="周四";break;case 5:a="周五";break;case 6:a="周六";break;case 7:a="周日";break;default:break}return e+" "+a}},methods:{getDictionaryServer:function(){var t=this;this.loading=!0,v().then((function(e){e.success?(console.log(e),t.$store.dispatch("bill/setConstData",e.data)):t.$message.error(e.msg||"获取系统常量失败"),t.loading=!1})).catch((function(e){console.log(e),t.loading=!1}))},changeTheme:function(){this.drawer=!0},themeChange:function(t){t&&(this.themeRadio=t),document.documentElement.dataset.theme=this.themeRadio},changeToggle:function(){this.isCollapse=!this.isCollapse},test:function(){console.log(this.$store,this.$store.state.app.appMsg,111),this.$store.commit("app/CONSOLELOG"),this.$store.dispatch("app/actionsConsoleLog")},exit:function(){var t=this;this.$confirm("确认退出?",{title:"提示"}).then((function(){t.$storage.remove("authorization"),t.$storage.remove("menuList"),t.$storage.remove("data-analysis-current-case"),t.$storage.remove("userInfo"),window.location.href="./"})).catch((function(t){console.log(t)}))}}},et=tt,at=(a("c085"),Object(c["a"])(et,S,$,!1,null,"71d0df55",null)),st=at.exports,nt=(a("d3b7"),a("3ca3"),a("ddb0"),function(){return a.e("chunk-19d96bd6").then(a.bind(null,"9383"))}),rt=[{path:"caseManage",name:"caseManage",component:nt}],ot=rt,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-analysis-wrapper"},[a("div",{staticClass:"data-tree-side"},[a("selectTree",{ref:"selectTree",on:{handleChange:t.handleChange}})],1),a("div",{staticClass:"data-table-side"},[a("div",{staticClass:"default-tabs-wrapper"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"账单数据列表",name:"1"}}),a("el-tab-pane",{attrs:{label:"账单基础统计",name:"2"}}),a("el-tab-pane",{attrs:{label:"收入类基础统计",name:"3"}}),a("el-tab-pane",{attrs:{label:"支出类基础统计",name:"4"}})],1)],1),a("div",{staticClass:"table-wrapper"},[a(t.componentsMap[t.activeComponent],{tag:"component",attrs:{tabType:t.activeName,selectTreeData:t.selectTreeData}})],1)])])},it=[],ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"select-tree-wrapper",attrs:{name:"select-tree-loading"}},[a("div",{staticClass:"select-tree-title"},[t._v("选择号码")]),a("el-input",{attrs:{size:"small",placeholder:"卡号、账号、姓名"},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},on:{click:t.getTree},slot:"suffix"})]),a("div",{staticClass:"tree-body-wrapper"},[a("el-tree",{ref:"selectTree",staticClass:"filter-tree",attrs:{data:t.dataTree,props:t.defaultProps,"show-checkbox":"","expand-on-click-node":!1,"node-key":"uid","default-expand-all":""},on:{check:t.handleCheckChange},scopedSlots:t._u([{key:"default",fn:function(e){e.node;var s=e.data;return a("span",{staticClass:"custom-tree-node",class:{"hide-check":1===s.sign},attrs:{title:s.label}},[a("span",[t._v(t._s(s.label))])])}}])})],1)],1)},ut=[],pt=function(t){return Object(g["a"])({method:"get",url:"/bill-data/billTree",params:t})},ht=function(t){return Object(g["a"])({method:"post",url:"/gangs-asset-statistic/gangTree",data:t})},mt={name:"selectTree",props:{isGroup:{type:Boolean,default:!1}},data:function(){return{searchValue:"",dataTree:[],defaultProps:{children:"children",label:"label"},loading:!1}},mounted:function(){this.getTree()},methods:{getTree:function(){var t=this,e=this.$storage.get("data-analysis-current-case");this.loading=!0;var a=this.searchValue,s=this.isGroup?ht:pt;s({caseId:e,searchValue:a}).then((function(e){e.success?t.dataTree=e.data:t.$message.error(e.msg),t.loading=!1})).catch((function(e){console.log(e),t.loading=!1}))},handleCheckChange:function(t,e){console.log(t,e);var a=e.checkedNodes,s=e.halfCheckedNodes;this.$emit("handleChange",[].concat(Object(h["a"])(a),Object(h["a"])(s)))},clearTreeChecked:function(){var t=this;this.$nextTick((function(){t.$refs.selectTree.setCheckedKeys([]),t.$emit("handleChange",[])}))}}},dt=mt,ft=(a("7f83"),Object(c["a"])(dt,ct,ut,!1,null,"96627a8e",null)),bt=ft.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{fixTable:"",optionMap:t.optionMap,name:"contact-count-table-loading"},on:{request:t.getBillPageList}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("对方账号：")]),a("div",{staticClass:"search-value"},[a("el-input",{attrs:{size:"small",placeholder:"请填写"},model:{value:t.optionMap.jydfzh,callback:function(e){t.$set(t.optionMap,"jydfzh",e)},expression:"optionMap.jydfzh"}})],1)])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("借贷标志：")]),a("div",{staticClass:"search-value"},[a("el-select",{attrs:{size:"small"},model:{value:t.optionMap.jdbz,callback:function(e){t.$set(t.optionMap,"jdbz",e)},expression:"optionMap.jdbz"}},t._l(t.BORROW_OR_LEND_SELECT,(function(e,s){return a("el-option",{key:t.commonTableRefName+"_"+e.label+"_"+e.value+"_"+s,attrs:{label:e.label,value:e.value}})})),1)],1)])]),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易金额(万元)：")]),a("div",{staticClass:"search-value"},[a("VCountNumPick",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("取消")])],1)])])],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易时间：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v("账单数据列表")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.exportReport}},[t._v("导出")])],1)]),a("template",{slot:"common-table"},[a("el-table",{attrs:{height:"100%","empty-text":"暂无数据",data:t.tableData}},[a("el-table-column",{attrs:{fixed:"",type:"index",label:"序号",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index)))]}}])}),a("el-table-column",{attrs:{fixed:"","min-width":"100",prop:"bfkh",label:"本方卡号"}}),a("el-table-column",{attrs:{fixed:"",prop:"bfzh","min-width":"100",label:"本方账号"}}),a("el-table-column",{attrs:{fixed:"",prop:"bfhm","min-width":"100",label:"本方户名"}}),a("el-table-column",{attrs:{prop:"bfkhh","min-width":"120",label:"本方开户银行"}}),a("el-table-column",{attrs:{prop:"jysj","min-width":"100",label:"交易时间"}}),a("el-table-column",{attrs:{prop:"jyje","min-width":"120",label:"交易金额(元)"}}),a("el-table-column",{attrs:{prop:"jyye","min-width":"120",label:"交易余额(元)"}}),a("el-table-column",{attrs:{prop:"biz","min-width":"100",label:"币种"}}),a("el-table-column",{attrs:{prop:"jdbz","min-width":"100",label:"借贷标志"}}),a("el-table-column",{attrs:{prop:"jydfzh","min-width":"100",label:"对方账号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.jydfzh))])]}}])}),a("el-table-column",{attrs:{prop:"jydfkh","min-width":"100",label:"对方卡号"}}),a("el-table-column",{attrs:{prop:"jydfmc","min-width":"100",label:"对方名称"}}),a("el-table-column",{attrs:{prop:"jydfzhkhh","min-width":"100",label:"对方开户行"}}),a("el-table-column",{attrs:{prop:"jywdmc","min-width":"100",label:"交易网点"}}),a("el-table-column",{attrs:{prop:"jyzy","min-width":"100",label:"交易摘要"}}),a("el-table-column",{attrs:{prop:"bz","min-width":"100",label:"备注"}})],1)],1)],2)},vt=[],Ct=(a("841c"),a("4de4"),{data:function(){return{commonTableRefName:this.$vnode.tag,currentCaseId:this.$storage.get("data-analysis-current-case"),showChartsMap:!1}},props:{selectTreeData:{type:Array,default:function(){return[]}}},computed:{selectAccountList:function(){return this.selectTreeData.filter((function(t){return 3===t.sign}))},selectCardList:function(){return this.selectTreeData.filter((function(t){return 4===t.sign}))},selectBillList:function(){return this.selectTreeData.filter((function(t){return 5===t.sign}))},switchBtnName:function(){return this.showChartsMap?"列表展示":"图形展示"}}}),yt=(a("ac16"),new s["default"]),wt=function(t){return Object(g["a"])({method:"post",url:"/bill-data/billPage",data:t,loading:!0})},Mt=function(t){return Object(g["a"])({method:"get",url:"/bill-data/billBack",params:t,loading:!0})},Tt=function(t){return Object(g["a"])({method:"post",url:"/bill-data/billRemark",data:t,loading:!0})},_t=function(t){return Object(g["a"])({method:"post",url:"/bill-data/billStatisticsPage",data:t,loading:!0})},Dt=function(t){return Object(g["a"])({method:"post",url:"/bill-data/saveRelation",data:t,loading:{target:'[name="judge-relation-dialog-loading"]'}})},kt=function(t){return Object(g["a"])({method:"post",url:"/bill-data/billStatisticsDetail",data:t,loading:{target:'[name="data-detail-loading"]'}})},xt=function(t){var e=yt.$deepClone(t);return Reflect.deleteProperty(e,"pageSize"),Reflect.deleteProperty(e,"pageNo"),Object(g["a"])({method:"post",url:"/bill-data/billStatisticsPageChart",data:e,loading:!0})},jt=function(t){return Object(g["a"])({method:"post",url:"/bill-data/billDataExport",data:t,responseType:"blob",loading:!0})},zt=function(t){return Object(g["a"])({method:"post",url:"/fund-flow/page",data:t,loading:!0})},St=function(t){return Object(g["a"])({method:"post",url:"/fund-flow/chart",data:t,loading:!0})},$t=function(t){return Object(g["a"])({method:"post",url:"/fund-flow/export",data:t,responseType:"blob",loading:!0})},Nt={name:"billDataListTable",mixins:[Ct],data:function(){return{optionMap:{total:0,jdbz:"",jydfzh:"",min:void 0,max:void 0,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],checkList:[],remarkDep:[],params:{}}},computed:{BORROW_OR_LEND_SELECT:function(){return this.$store.state.bill.BORROW_OR_LEND_SELECT}},mounted:function(){console.log(this.commonTableRefName,"this"),console.log(this.$refs[this.commonTableRefName],"this")},methods:{getBillPageList:function(t){var e=this;t.list&&0!==t.list.length&&(this.params=this.$deepClone(t),this.params.jydfzh||(this.params.jydfzh=void 0),wt(this.params).then((function(t){t.success?(e.tableData=t.data.records,e.optionMap.total=t.data.total,e.optionMap.currentPageNo=t.data.current,e.optionMap.pageSize=t.data.size):(e.$message.error(t.msg),e.tableData=[])})))},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?(this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()},exportReport:function(){var t=this,e=Object(m["a"])(Object(m["a"])({},this.params),{},{tabType:this.$options.name});0!==this.tableData.length&&jt(e).then((function(e){t.$fileStreamDownload(e)}))}}},Ot=Nt,Rt=(a("31ad"),Object(c["a"])(Ot,gt,vt,!1,null,"d79d6682",null)),Et=Rt.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("对方账号：")]),a("div",{staticClass:"search-value"},[a("el-input",{attrs:{size:"small",placeholder:"请填写"},model:{value:t.optionMap.jydfzh,callback:function(e){t.$set(t.optionMap,"jydfzh",e)},expression:"optionMap.jydfzh"}})],1)])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("总交易笔数：")]),a("div",{staticClass:"search-value"},[a("el-select",{attrs:{size:"small"},model:{value:t.optionMap.count,callback:function(e){t.$set(t.optionMap,"count",e)},expression:"optionMap.count"}},t._l(t.TRANSACTION_SELECT,(function(e,s){return a("el-option",{key:t.commonTableRefName+"_"+e.label+"_"+e.value+"_"+s,attrs:{label:e.label,value:e.value}})})),1)],1)])]),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("总交易金额(万元)：")]),a("div",{staticClass:"search-value"},[a("VCountNumPick",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("取消")])],1)])])],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易时间：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v("账单基础统计")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.exportReport}},[t._v("导出")]),a("el-button",{attrs:{size:"small",type:"text",disabled:0===t.chartsMapData.length},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),a("template",{slot:"common-table"},[t.showChartsMap?a("billBaseCharts",{attrs:{chartsMapData:t.chartsMapData}}):a("el-table",{attrs:{height:"100%",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index)))]}}],null,!1,2933862790)}),a("el-table-column",{attrs:{prop:"bfzh",label:"本方账号"}}),a("el-table-column",{attrs:{prop:"bfhm",label:"本方户名"}}),a("el-table-column",{attrs:{prop:"jydfzh",label:"对方账号"}}),a("el-table-column",{attrs:{prop:"jydfmc",label:"对方名称"}}),a("el-table-column",{attrs:{prop:"count",label:"总交易笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row)}}},[t._v(t._s(e.row.count))])]}}],null,!1,4101944237)}),a("el-table-column",{attrs:{prop:"transactionAmount",label:"总交易金额(万元)"}}),a("el-table-column",{attrs:{prop:"revenueAmount",label:"总收入金额(万元)"}}),a("el-table-column",{attrs:{prop:"expenditureAmount",label:"总支出金额(万元)"}}),a("el-table-column",{attrs:{prop:"netIncome",label:"净收入(万元)"}}),a("el-table-column",{attrs:{prop:"relation",label:"办案人员判定关系"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("relationFilters")(e.row.relation,t.relationList))+" ")]}}],null,!1,4042077695)}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.$refs.judgeRelation.show(e.row)}}},[t._v("编辑")])]}}],null,!1,302113516)})],1),a("judgeRelation",{ref:"judgeRelation",on:{search:t.search}}),a("dataDetailDialog",{ref:"dataDetailDialog"})],1)],2)},Lt=[],Pt=a("1da1"),It=(a("96cf"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"编辑",width:"800px",visible:t.visible,"before-close":t.handleClose,name:"judge-relation-dialog-loading"},on:{"update:visible":function(e){t.visible=e}}},[a("div",{staticClass:"form-wrapper"},[a("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,"label-width":"140px",rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"本方账号",prop:"bfzh"}},[a("el-input",{attrs:{disabled:"",size:"small",maxlength:"50"},model:{value:t.ruleForm.bfzh,callback:function(e){t.$set(t.ruleForm,"bfzh",e)},expression:"ruleForm.bfzh"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"本方户名",prop:"bfhm"}},[a("el-input",{attrs:{disabled:"",size:"small",maxlength:"50"},model:{value:t.ruleForm.bfhm,callback:function(e){t.$set(t.ruleForm,"bfhm",e)},expression:"ruleForm.bfhm"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"对方账号",prop:"jydfzh"}},[a("el-input",{attrs:{disabled:"",size:"small",maxlength:"50"},model:{value:t.ruleForm.jydfzh,callback:function(e){t.$set(t.ruleForm,"jydfzh",e)},expression:"ruleForm.jydfzh"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"对方名称",prop:"jydfmc"}},[a("el-input",{attrs:{disabled:"",size:"small",maxlength:"50"},model:{value:t.ruleForm.jydfmc,callback:function(e){t.$set(t.ruleForm,"jydfmc",e)},expression:"ruleForm.jydfmc"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"交易笔数",prop:"count"}},[a("el-input",{attrs:{disabled:"",size:"small",maxlength:"50"},model:{value:t.ruleForm.count,callback:function(e){t.$set(t.ruleForm,"count",e)},expression:"ruleForm.count"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"总交易金额(万元)",prop:"transactionAmount"}},[a("el-input",{attrs:{disabled:"",size:"small",maxlength:"50"},model:{value:t.ruleForm.transactionAmount,callback:function(e){t.$set(t.ruleForm,"transactionAmount",e)},expression:"ruleForm.transactionAmount"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"总收入金额(万元)",prop:"revenueAmount"}},[a("el-input",{attrs:{disabled:"",size:"small",maxlength:"50"},model:{value:t.ruleForm.revenueAmount,callback:function(e){t.$set(t.ruleForm,"revenueAmount",e)},expression:"ruleForm.revenueAmount"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"总支出金额(万元)",prop:"expenditureAmount"}},[a("el-input",{attrs:{disabled:"",size:"small",maxlength:"50"},model:{value:t.ruleForm.expenditureAmount,callback:function(e){t.$set(t.ruleForm,"expenditureAmount",e)},expression:"ruleForm.expenditureAmount"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"净收入(万元)",prop:"count"}},[a("el-input",{attrs:{disabled:"",size:"small",maxlength:"50"},model:{value:t.ruleForm.netIncome,callback:function(e){t.$set(t.ruleForm,"netIncome",e)},expression:"ruleForm.netIncome"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"办案人员判定关系",prop:"code"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",maxlength:"50"},model:{value:t.ruleForm.code,callback:function(e){t.$set(t.ruleForm,"code",e)},expression:"ruleForm.code"}},t._l(t.relationList,(function(t){return a("el-option",{key:t.type+"_"+t.id,attrs:{label:t.name,value:t.code}})})),1)],1)],1)],1)],1)],1),a("div",{attrs:{slot:"footer",align:"center"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.submitData}},[t._v("确认")]),a("el-button",{attrs:{size:"small"},on:{click:t.handleClose}},[t._v("关闭")])],1)])}),Bt=[],Ft={name:"judgeRelation",data:function(){return{visible:!1,ruleForm:{code:""},rules:{code:[{required:!0,message:"请选择判定关系"}]}}},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation}},methods:{show:function(t){this.visible=!0,this.ruleForm.bfzh=t.bfzh,this.ruleForm.bfkh=t.bfkh,this.ruleForm.bfhm=t.bfhm,this.ruleForm.bfkhh=t.bfkhh,this.ruleForm.jydfzh=t.jydfzh,this.ruleForm.jydfmc=t.jydfmc,this.ruleForm.jydfkhh=t.jydfkhh,this.ruleForm.count=t.count,this.ruleForm.transactionAmount=t.transactionAmount,this.ruleForm.revenueAmount=t.revenueAmount,this.ruleForm.expenditureAmount=t.expenditureAmount,this.ruleForm.netIncome=t.netIncome,this.ruleForm.code=t.relation||""},submitData:function(){var t=this;this.$refs.ruleForm.validate((function(e){if(!e)return console.log("error submit!!"),!1;var a={code:t.ruleForm.code,bfzh:t.ruleForm.bfzh,jydfzh:t.ruleForm.jydfzh,caseId:t.$storage.get("data-analysis-current-case")};Dt(a).then((function(e){e.success?(t.$message.success(e.msg),t.$emit("search",!1),t.handleClose()):t.$message.error(e.msg)}))}))},handleClose:function(t){this.$refs.ruleForm.resetFields(),this.ruleForm.bfzh="",this.ruleForm.bfkh="",this.ruleForm.bfhm="",this.ruleForm.bfkhh="",this.ruleForm.jydfzh="",this.ruleForm.jydfmc="",this.ruleForm.jydfkhh="",this.ruleForm.count="",this.ruleForm.transactionAmount="",this.ruleForm.revenueAmount="",this.ruleForm.expenditureAmount="",this.ruleForm.netIncome="",this.ruleForm.code="",this.visible=!1,t instanceof Function&&t()}}},Vt=Ft,Gt=(a("b136"),Object(c["a"])(Vt,It,Bt,!1,null,"5f54980e",null)),qt=Gt.exports,Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"数据详情",top:"7vh",width:"calc(100% - 20px)",visible:t.visible,"before-close":t.handleClose,"custom-class":"detail-table-dialog",name:"data-detail-loading"},on:{"update:visible":function(e){t.visible=e}}},[a("div",{staticClass:"multi-common-page-wrapper"},[t.visible?a("VCommonSearchTablePage",{ref:"billDetailDataCommonTable",attrs:{isContain:"",showSearch:!1,optionMap:t.optionMap},on:{request:t.getDetail}},[a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v("账单统计详情")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.callExportOperation}},[t._v("导出")])],1)]),a("template",{slot:"common-table"},[a("el-table",{attrs:{height:"100%",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index))+" ")]}}],null,!1,246434189)}),a("el-table-column",{attrs:{prop:"bfkh",label:"本方卡号"}}),a("el-table-column",{attrs:{prop:"bfzh",label:"本方账号"}}),a("el-table-column",{attrs:{prop:"bfhm",label:"本方户名"}}),a("el-table-column",{attrs:{prop:"bfkhh",label:"本方开户银行"}}),a("el-table-column",{attrs:{prop:"jysj",label:"交易时间"}}),a("el-table-column",{attrs:{prop:"jyje",label:"交易金额(元)"}}),a("el-table-column",{attrs:{prop:"jyye",label:"交易余额(元)"}}),a("el-table-column",{attrs:{prop:"biz",label:"币种"}}),a("el-table-column",{attrs:{prop:"jdbz",label:"借贷标志"}}),a("el-table-column",{attrs:{prop:"jydfzh",label:"对方账号"}}),a("el-table-column",{attrs:{prop:"jydfkh",label:"对方卡号"}}),a("el-table-column",{attrs:{prop:"jydfmc",label:"对方名称"}}),a("el-table-column",{attrs:{prop:"jydfzhkhh",label:"对方开户行"}}),a("el-table-column",{attrs:{prop:"jywdmc",label:"交易网点"}}),a("el-table-column",{attrs:{prop:"jyzy",label:"交易摘要"}}),a("el-table-column",{attrs:{prop:"bz",label:"备注"}})],1)],1)],2):t._e()],1),a("div",{attrs:{slot:"footer",align:"center"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.handleClose}},[t._v("关闭")])],1)])},Ut=[],Kt=a("3f48"),Ht={name:"dataDetailDialog",props:{currentCaseId:{type:String,default:""}},data:function(){return{visible:!1,tableData:[],currentBill:{},optionMap:{total:0,currentPageNo:1,pageSize:10},params:{}}},methods:{show:function(t){for(var e in this.currentBill=t,t)this.optionMap[e]=this.optionMap[e]||t[e];this.visible=!0},getDetail:function(t){var e=this;this.params=t,kt(t).then((function(t){t.success?(e.tableData=t.data.records,e.optionMap.total=t.data.total,e.optionMap.currentPageNo=t.data.current,e.optionMap.pageSize=t.data.size):(e.$message.error(t.msg),e.tableData=[])}))},search:function(){this.$refs.billDetailDataCommonTable.search()},refreshSearch:function(){this.$refs.billDetailDataCommonTable.refreshSearch()},callExportOperation:function(){var t=this,e=this.currentBill.id,a=this.currentCaseId;0!==this.tableData.length&&Object(Kt["c"])({fileId:e,caseId:a}).then((function(e){t.$fileStreamDownload(e)}))},handleClose:function(t){t instanceof Function&&t(),this.visible=!1,this.optionMap.currentPageNo=1,this.optionMap.pageSize=10,this.optionMap.total=0,this.optionMap.jydfzh="",this.tableData=[]}}},Yt=Ht,Xt=(a("e53f"),Object(c["a"])(Yt,Wt,Ut,!1,null,"5122e076",null)),Jt=Xt.exports,Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"charts-map-wrapper"},[a("div",{staticClass:"search-chart-map-header"},[a("div",{staticClass:"label"},[t._v(" 本方账号 ")]),a("div",{staticClass:"value"},[a("el-select",{attrs:{size:"small"},model:{value:t.currentPersonCardNumber,callback:function(e){t.currentPersonCardNumber=e},expression:"currentPersonCardNumber"}},t._l(t.chartsMapData,(function(t){return a("el-option",{key:"currentPersonCardNumber_"+t.bfzh,attrs:{value:t.bfzh,label:t.bfzh}})})),1)],1),a("div",{staticClass:"label"},[t._v(" 显示条数 ")]),a("div",{staticClass:"value"},[a("el-select",{attrs:{size:"small"},model:{value:t.showSize,callback:function(e){t.showSize=e},expression:"showSize"}},[a("el-option",{attrs:{value:5,label:"前5条"}}),a("el-option",{attrs:{value:10,label:"前10条"}}),a("el-option",{attrs:{value:20,label:"前20条"}})],1)],1)]),a("div",{staticClass:"charts-map-content",attrs:{id:"billBaseCharts"}},[t._v("contactTimesCharts")])])},Qt=[],te=(a("fb6a"),{name:"billBaseCharts",data:function(){return{myCharts:null,showSize:10,currentPersonCardNumber:""}},props:{chartsMapData:{type:Array,default:function(){return[]}},seriesOption:{type:Array,default:function(){return[{name:"总收入金额(万元)",type:"bar",stack:"1",barMaxWidth:"100",dataKey:"revenueAmount"},{name:"总支出金额(万元)",type:"bar",stack:"1",barMaxWidth:"100",dataKey:"expenditureAmount"},{name:"净收入(万元)",type:"bar",stack:"2",barMaxWidth:"100",dataKey:"netIncome"},{name:"交易笔数",type:"line",stack:"3",dataKey:"count"}]}}},computed:{optionData:function(){var t=this;return this.chartsMapData.length?this.chartsMapData.find((function(e){return e.bfzh===t.currentPersonCardNumber})).data:[]}},watch:{currentPersonCardNumber:function(){var t=this;console.log(this),this.$nextTick((function(){t.renderEcharts()}))},showSize:function(){var t=this;console.log(this),this.$nextTick((function(){t.renderEcharts()}))},chartsMapData:{deep:!0,handler:function(){this.optionData=this.chartsMapData,this.renderEcharts()}}},mounted:function(){this.currentPersonCardNumber=this.chartsMapData.length&&this.chartsMapData[0].bfzh,this.renderEcharts()},methods:{renderEcharts:function(){var t=this.optionData.slice(0,this.showSize);this.seriesOption.forEach((function(e){e.data=t.map((function(t){return t[e.dataKey]}))}));var e={legend:{y:"top",data:this.seriesOption.map((function(t){return t.name}))},tooltip:{trigger:"axis",order:"seriesAsc",formatter:function(t){var e="";return t.forEach((function(t){e+=t.marker+" "+t.seriesName+" : "+t.value+"<br>"})),e},axisPointer:{type:"shadow"}},toolbox:{feature:{saveAsImage:{type:"png",name:"账单基础统计"}}},xAxis:[{type:"category",data:t.map((function(t){return t.jydfzh})),axisLabel:{formatter:function(e,a){var s=t[a].jydfmc||"";return s+"\n"+e}}}],dataZoom:[{type:"slider",show:!0,xAxisIndex:[0],bottom:-5,start:0,end:100}],yAxis:[{type:"value",barMinHeight:10,splitLine:{lineStyle:{type:"dashed"}},max:function(t){return Math.floor(t.max)+1},min:function(t){return t.min<0?Math.floor(t.min)-1:0}}],series:this.seriesOption},a=echarts.init(document.getElementById("billBaseCharts"));a.setOption(e),window.onresize=function(){a.resize()}}}}),ee=te,ae=(a("cd31"),Object(c["a"])(ee,Zt,Qt,!1,null,"174e69ce",null)),se=ae.exports,ne={name:"billBaseCountListTable",mixins:[Ct],components:{judgeRelation:qt,dataDetailDialog:Jt,billBaseCharts:se},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},TRANSACTION_SELECT:function(){return this.$store.state.bill.TRANSACTION_SELECT}},filters:{relationFilters:function(t,e){return t?e.find((function(e){return e.code===t})).name:""}},data:function(){return{optionMap:{total:0,jydfzh:"",type:"",count:"",min:void 0,max:void 0,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:[]}},methods:{getData:function(t){var e=this;return Object(Pt["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.list&&0!==t.list.length){a.next=2;break}return a.abrupt("return");case 2:return e.params=e.$deepClone(t),e.params.jydfzh||(e.params.jydfzh=void 0),a.next=6,_t(e.params);case 6:return s=a.sent,s.success?(e.tableData=s.data.records,e.optionMap.total=s.data.total,e.optionMap.currentPageNo=s.data.current,e.optionMap.pageSize=s.data.size):(e.$message.error(s.msg),e.tableData=[]),a.next=10,xt(e.params);case 10:n=a.sent,n.success?e.chartsMapData=n.data:(e.$message.error(n.msg),e.chartsMapData=[]);case 12:case"end":return a.stop()}}),a)})))()},showDetail:function(t){var e={};for(var a in this.params)e[a]=this.params[a];e.bfzh=t.bfzh,e.jydfzh=t.jydfzh,this.$dataDetailDialog.show(e)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?(this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()},exportReport:function(){var t=this,e=Object(m["a"])(Object(m["a"])({},this.params),{},{tabType:this.$options.name});0!==this.tableData.length&&jt(e).then((function(e){t.$fileStreamDownload(e)}))}}},re=ne,oe=(a("7bc8"),Object(c["a"])(re,At,Lt,!1,null,"21ac2aed",null)),le=oe.exports,ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("对方账号：")]),a("div",{staticClass:"search-value"},[a("el-input",{attrs:{size:"small",placeholder:"请填写"},model:{value:t.optionMap.jydfzh,callback:function(e){t.$set(t.optionMap,"jydfzh",e)},expression:"optionMap.jydfzh"}})],1)])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("总收入笔数：")]),a("div",{staticClass:"search-value"},[a("el-select",{attrs:{size:"small"},model:{value:t.optionMap.count,callback:function(e){t.$set(t.optionMap,"count",e)},expression:"optionMap.count"}},t._l(t.TRANSACTION_SELECT,(function(e,s){return a("el-option",{key:t.commonTableRefName+"_"+e.label+"_"+e.value+"_"+s,attrs:{label:e.label,value:e.value}})})),1)],1)])]),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("总收入金额(万元)：")]),a("div",{staticClass:"search-value"},[a("VCountNumPick",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("取消")])],1)])])],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易时间：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v("收入类基础统计")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.exportReport}},[t._v("导出")]),a("el-button",{attrs:{size:"small",type:"text",disabled:0===t.chartsMapData.length},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),a("template",{slot:"common-table"},[t.showChartsMap?a("billBaseCharts",{attrs:{chartsMapData:t.chartsMapData,seriesOption:[{name:"总收入金额(万元)",type:"bar",stack:"1",barMaxWidth:"100",dataKey:"revenueAmount"},{name:"总收入笔数",type:"line",stack:"3",dataKey:"count"}]}}):a("el-table",{attrs:{height:"100%",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index))+" ")]}}],null,!1,246434189)}),a("el-table-column",{attrs:{prop:"bfzh",label:"本方账号"}}),a("el-table-column",{attrs:{prop:"bfhm",label:"本方户名"}}),a("el-table-column",{attrs:{prop:"jydfzh",label:"对方账号"}}),a("el-table-column",{attrs:{prop:"jydfmc",label:"对方名称"}}),a("el-table-column",{attrs:{prop:"count",label:"总收入笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row)}}},[t._v(t._s(e.row.count))])]}}],null,!1,4101944237)}),a("el-table-column",{attrs:{prop:"revenueAmount",label:"总收入金额(万元)"}}),a("el-table-column",{attrs:{prop:"netIncome",label:"净收入(万元)"}}),a("el-table-column",{attrs:{prop:"relation",label:"办案人员判定关系"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("relationFilters")(e.row.relation,t.relationList))+" ")]}}],null,!1,4042077695)})],1),a("dataDetailDialog",{ref:"dataDetailDialog"})],1)],2)},ce=[],ue={name:"incomeBaseListTable",mixins:[Ct],components:{dataDetailDialog:Jt,billBaseCharts:se},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},TRANSACTION_SELECT:function(){return this.$store.state.bill.TRANSACTION_SELECT},BORROW_OR_LEND_SELECT:function(){return this.$store.state.bill.BORROW_OR_LEND_SELECT}},filters:{relationFilters:function(t,e){return t?e.find((function(e){return e.code===t})).name:""}},data:function(){return{optionMap:{total:0,jydfzh:"",type:"",count:"",min:void 0,max:void 0,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:[]}},methods:{getData:function(t){var e=this;return Object(Pt["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.list&&0!==t.list.length){a.next=2;break}return a.abrupt("return");case 2:return e.params=e.$deepClone(t),e.params.jydfzh||(e.params.jydfzh=void 0),a.next=6,_t(e.params);case 6:return s=a.sent,s.success?(e.tableData=s.data.records,e.optionMap.total=s.data.total,e.optionMap.currentPageNo=s.data.current,e.optionMap.pageSize=s.data.size):(e.$message.error(s.msg),e.tableData=[]),a.next=10,xt(e.params);case 10:n=a.sent,n.success?e.chartsMapData=n.data:(e.$message.error(n.msg),e.chartsMapData=[]);case 12:case"end":return a.stop()}}),a)})))()},showDetail:function(t){var e={};for(var a in this.params)e[a]=this.params[a];e.bfzh=t.bfzh,e.jydfzh=t.jydfzh,this.$dataDetailDialog.show(e)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?(this.optionMap.type=this.BORROW_OR_LEND_SELECT.find((function(t){return"贷"===t.label})).value,this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()},exportReport:function(){var t=this,e=Object(m["a"])(Object(m["a"])({},this.params),{},{tabType:this.$options.name});0!==this.tableData.length&&jt(e).then((function(e){t.$fileStreamDownload(e)}))}}},pe=ue,he=(a("cb09"),Object(c["a"])(pe,ie,ce,!1,null,"7f8e2f58",null)),me=he.exports,de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("对方账号：")]),a("div",{staticClass:"search-value"},[a("el-input",{attrs:{size:"small",placeholder:"请填写"},model:{value:t.optionMap.jydfzh,callback:function(e){t.$set(t.optionMap,"jydfzh",e)},expression:"optionMap.jydfzh"}})],1)])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("总支出笔数：")]),a("div",{staticClass:"search-value"},[a("el-select",{attrs:{size:"small"},model:{value:t.optionMap.count,callback:function(e){t.$set(t.optionMap,"count",e)},expression:"optionMap.count"}},t._l(t.TRANSACTION_SELECT,(function(e,s){return a("el-option",{key:t.commonTableRefName+"_"+e.label+"_"+e.value+"_"+s,attrs:{label:e.label,value:e.value}})})),1)],1)])]),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("总支出金额(万元)：")]),a("div",{staticClass:"search-value"},[a("VCountNumPick",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("取消")])],1)])])],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易时间：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v("支出类基础统计")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.exportReport}},[t._v("导出")]),a("el-button",{attrs:{size:"small",type:"text",disabled:0===t.chartsMapData.length},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),a("template",{slot:"common-table"},[t.showChartsMap?a("billBaseCharts",{attrs:{chartsMapData:t.chartsMapData,seriesOption:[{name:"总支出金额(万元)",type:"bar",stack:"1",barMaxWidth:"100",dataKey:"expenditureAmount"},{name:"总支出笔数",type:"line",stack:"3",dataKey:"count"}]}}):a("el-table",{attrs:{height:"100%",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index)))]}}],null,!1,2933862790)}),a("el-table-column",{attrs:{prop:"bfzh",label:"本方账号"}}),a("el-table-column",{attrs:{prop:"bfhm",label:"本方户名"}}),a("el-table-column",{attrs:{prop:"jydfzh",label:"对方账号"}}),a("el-table-column",{attrs:{prop:"jydfmc",label:"对方名称"}}),a("el-table-column",{attrs:{prop:"count",label:"总支出笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row)}}},[t._v(t._s(e.row.count))])]}}],null,!1,4101944237)}),a("el-table-column",{attrs:{prop:"expenditureAmount",label:"总支出金额(万元)"}}),a("el-table-column",{attrs:{prop:"netIncome",label:"净收入(万元)"}}),a("el-table-column",{attrs:{prop:"relation",label:"办案人员判定关系"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("relationFilters")(e.row.relation,t.relationList))+" ")]}}],null,!1,4042077695)})],1),a("dataDetailDialog",{ref:"dataDetailDialog"})],1)],2)},fe=[],be={name:"expenditureBaseListTable",mixins:[Ct],components:{dataDetailDialog:Jt,billBaseCharts:se},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},TRANSACTION_SELECT:function(){return this.$store.state.bill.TRANSACTION_SELECT},BORROW_OR_LEND_SELECT:function(){return this.$store.state.bill.BORROW_OR_LEND_SELECT}},filters:{relationFilters:function(t,e){return t?e.find((function(e){return e.code===t})).name:""}},data:function(){return{optionMap:{total:0,jydfzh:"",count:"",min:void 0,max:void 0,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:[]}},methods:{getData:function(t){var e=this;return Object(Pt["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.list&&0!==t.list.length){a.next=2;break}return a.abrupt("return");case 2:return e.params=e.$deepClone(t),e.params.jydfzh||(e.params.jydfzh=void 0),a.next=6,_t(e.params);case 6:return s=a.sent,s.success?(e.tableData=s.data.records,e.optionMap.total=s.data.total,e.optionMap.currentPageNo=s.data.current,e.optionMap.pageSize=s.data.size):(e.$message.error(s.msg),e.tableData=[]),a.next=10,xt(e.params);case 10:n=a.sent,n.success?e.chartsMapData=n.data:(e.$message.error(n.msg),e.chartsMapData=[]);case 12:case"end":return a.stop()}}),a)})))()},showDetail:function(t){var e={};for(var a in this.params)e[a]=this.params[a];e.bfzh=t.bfzh,e.jydfzh=t.jydfzh,this.$dataDetailDialog.show(e)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?(this.optionMap.type=this.BORROW_OR_LEND_SELECT.find((function(t){return"借"===t.label})).value,this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()},exportReport:function(){var t=this,e=Object(m["a"])(Object(m["a"])({},this.params),{},{tabType:this.$options.name});0!==this.tableData.length&&jt(e).then((function(e){t.$fileStreamDownload(e)}))}}},ge=be,ve=(a("c636"),Object(c["a"])(ge,de,fe,!1,null,"04fd38c3",null)),Ce=ve.exports,ye={name:"baseCountAnalysis",components:{selectTree:bt,billDataListTable:Et,billBaseCountListTable:le,incomeBaseListTable:me,expenditureBaseListTable:Ce},data:function(){return{activeName:"1",selectTreeData:[],componentsMap:{1:Et,2:le,3:me,4:Ce},activeComponent:"1"}},methods:{handleClick:function(t){this.activeComponent=this.activeName},handleChange:function(t){this.selectTreeData=t,this.activeComponent=this.activeName}}},we=ye,Me=(a("d1a6"),Object(c["a"])(we,lt,it,!1,null,"a69758ec",null)),Te=Me.exports,_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-analysis-wrapper"},[a("div",{staticClass:"data-tree-side"},[a("selectTree",{ref:"selectTree",on:{handleChange:t.handleChange}})],1),a("div",{staticClass:"data-table-side"},[a("div",{staticClass:"default-tabs-wrapper"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"资产变化",name:"1"}}),a("el-tab-pane",{attrs:{label:"收入渠道统计",name:"2"}}),a("el-tab-pane",{attrs:{label:"支出渠道统计",name:"3"}}),a("el-tab-pane",{attrs:{label:"高频交易",name:"4"}}),a("el-tab-pane",{attrs:{label:"高额交易",name:"5"}}),a("el-tab-pane",{attrs:{label:"中转资金分析",name:"6"}})],1)],1),a("div",{staticClass:"table-wrapper"},[a(t.componentsMap[t.activeComponent],{tag:"component",attrs:{tabType:t.componentsMap[t.activeComponent].name,selectTreeData:t.selectTreeData}})],1)])])},De=[],ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易时间：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("重置")])],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v(" "+t._s(t.showChartsMap?"资产变化-总余额(万元)":"资产统计列表")+" ")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.downloadResult}},[t._v("导出")]),a("el-button",{attrs:{size:"small",type:"text",disabled:t.handleChartsMapData},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),a("template",{slot:"common-table"},[t.showChartsMap?a("AssetChangeCharts",{attrs:{chartsMapData:t.chartsMapData}}):a("el-table",{attrs:{height:"100%",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index)))]}}],null,!1,282622886)}),a("el-table-column",{attrs:{prop:"bfzh",label:"本方账号"}}),a("el-table-column",{attrs:{prop:"bfhm",label:"本方户名"}}),a("el-table-column",{attrs:{prop:"month",label:"月份"}}),a("el-table-column",{attrs:{prop:"count",label:"总交易笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row)}}},[t._v(t._s(e.row.count))])]}}],null,!1,4101944237)}),a("el-table-column",{attrs:{prop:"transactionAmount",label:"总交易金额(万元)"}}),a("el-table-column",{attrs:{prop:"revenueAmount",label:"总收入金额(万元)"}}),a("el-table-column",{attrs:{prop:"expenditureAmount",label:"总支出金额(万元)"}}),a("el-table-column",{attrs:{prop:"netIncome",label:"净收入(万元)"}}),a("el-table-column",{attrs:{prop:"jyye",label:"总余额(万元)"}})],1)],1)],2)},xe=[],je=function(t){return Object(g["a"])({method:"post",url:"/feature-analysis/assetsChange",data:t,loading:!0})},ze=function(t){return Object(g["a"])({method:"post",url:"/feature-analysis/assetsChangeChart",data:t,loading:!0})},Se=function(t){return Object(g["a"])({method:"post",url:"/feature-analysis/revenueChannel",data:t,loading:!0})},$e=function(t){return Object(g["a"])({method:"post",url:"/feature-analysis/revenueChannelChart",data:t,loading:!0})},Ne=function(t){return Object(g["a"])({method:"post",url:"/feature-analysis/highFrequencyTrading",data:t,loading:!0})},Oe=function(t){return Object(g["a"])({method:"post",url:"/feature-analysis/highFrequencyTradingChart",data:t,loading:!0})},Re=function(t){return Object(g["a"])({method:"post",url:"/feature-analysis/highValueTransaction",data:t,loading:!0})},Ee=function(t){return Object(g["a"])({method:"post",url:"/feature-analysis/transferFundsAnalysis",data:t,loading:!0})},Ae=function(t){return Object(g["a"])({method:"post",url:"/feature-analysis/transferFundsAnalysisChart",data:t,loading:!0})},Le=function(t){return Object(g["a"])({method:"post",url:"/feature-analysis/featureAnalysisExport",data:t,responseType:"blob"})},Pe={data:function(){return{commonTableRefName:this.$vnode.tag,currentCaseId:this.$storage.get("data-analysis-current-case"),showChartsMap:!1}},props:{selectTreeData:{type:Array,default:function(){return[]}},tabType:{type:String}},computed:{selectAccountList:function(){return this.selectTreeData.filter((function(t){return 3===t.sign}))},selectCardList:function(){return this.selectTreeData.filter((function(t){return 4===t.sign}))},selectBillList:function(){return this.selectTreeData.filter((function(t){return 5===t.sign}))},selectCaseList:function(){return this.selectTreeData.filter((function(t){return 2===t.sign}))},switchBtnName:function(){return this.showChartsMap?"列表展示":"图形展示"}},methods:{downloadResult:function(){this.featureAnalysisExportOperation()},featureAnalysisExportOperation:function(){var t=this,e=this.$deepClone(this.params);0!==this.tableData.length&&(Reflect.deleteProperty(e,"pageNo"),Reflect.deleteProperty(e,"pageSize"),Reflect.deleteProperty(e,"tabType"),e.tabType=this.tabType,Le(e).then((function(e){t.$fileStreamDownload(e)})))}}},Ie=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Be=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"charts-map-wrapper"},[a("div",{staticClass:"charts-map-content",attrs:{id:"AssetChangeCharts"}},[t._v(" contactTimesCharts ")])])}],Fe=(a("b64b"),{name:"AssetChangeCharts",data:function(){return{myCharts:null,showSize:10}},props:{chartsMapData:{type:Object,default:function(){}}},watch:{showSize:function(){var t=this;console.log(this),this.$nextTick((function(){t.renderEcharts()}))},chartsMapData:{deep:!0,handler:function(){this.renderEcharts()}}},mounted:function(){this.renderEcharts()},methods:{renderEcharts:function(){var t=this,e=[],a={};for(var s in this.chartsMapData.month.forEach((function(e){for(var s in t.chartsMapData.data){var n=t.chartsMapData.data[s];a[s]||(a[s]=[]);var r=n.find((function(t){return t.month==e})),o=n[0];r?a[s].push(r):a[s].push({bfhm:o.bfhm,bfkh:o.bfkh,bfzh:o.bfzh,count:"0",expenditureAmount:o.expenditureAmount,jysj:o.jysj,jyye:"0",month:e,netIncome:o.netIncome,revenueAmount:o.revenueAmount,transactionAmount:"0"})}})),a)e.push({type:"line",name:s,data:a[s].map((function(t){return t.jyye}))});var n={legend:{y:"top",data:Object.keys(this.chartsMapData.data)},tooltip:{trigger:"axis",order:"seriesAsc",formatter:function(t){var e=t[0].axisValueLabel+"<br>";return t.forEach((function(t){e+=t.marker+" "+t.seriesName+" : "+t.value+"<br>"})),e},axisPointer:{type:"shadow"}},toolbox:{feature:{saveAsImage:{type:"png",name:"资产变化"}}},xAxis:[{type:"category",data:this.chartsMapData.month,axisTick:{alignWithLabel:!0}}],dataZoom:[{type:"slider",show:!0,xAxisIndex:[0],bottom:-5,start:0,end:100}],yAxis:[{type:"value",max:function(t){return Math.floor(t.max)+1},min:function(t){return t.min<0?Math.floor(t.min)-1:0}}],series:e},r=echarts.init(document.getElementById("AssetChangeCharts"));r.setOption(n),window.onresize=function(){r.resize()}}}}),Ve=Fe,Ge=(a("a6b4"),Object(c["a"])(Ve,Ie,Be,!1,null,"7523e19b",null)),qe=Ge.exports,We={name:"assetChangeListTable",mixins:[Pe],components:{AssetChangeCharts:qe},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},TRANSACTION_SELECT:function(){return this.$store.state.bill.TRANSACTION_SELECT}},data:function(){return{optionMap:{total:0,min:void 0,max:void 0,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:{},handleChartsMapData:!0}},methods:{getData:function(t){var e=this;return Object(Pt["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.list&&0!==t.list.length){a.next=2;break}return a.abrupt("return");case 2:return e.params=t,a.next=5,je(t);case 5:return s=a.sent,s.success?(e.tableData=s.data.records,e.optionMap.total=s.data.total,e.optionMap.currentPageNo=s.data.current,e.optionMap.pageSize=s.data.size):(e.$message.error(s.msg),e.tableData=[]),a.next=9,ze(t);case 9:n=a.sent,n.success?(e.chartsMapData=n.data,e.handleChartsMapData=!e.chartsMapData.month.length):(e.$message.error(n.msg),e.tableData=[]);case 11:case"end":return a.stop()}}),a)})))()},showDetail:function(t){var e={};for(var a in this.params)e[a]=this.params[a];e.bfzh=t.bfzh,e.month=t.month,this.$dataDetailDialog.show(e)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?this.selectCaseList.length>1?this.$message.error("仅支持单户名及以下层级选择"):(this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},Ue=We,Ke=(a("dae1"),Object(c["a"])(Ue,ke,xe,!1,null,"ad00c6a4",null)),He=Ke.exports,Ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易时间：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("重置")])],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v(" "+t._s(t.showChartsMap?"收入渠道统计":"收入渠道统计列表")+" ")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.downloadResult}},[t._v("导出")]),a("el-button",{attrs:{size:"small",type:"text",disabled:0===t.chartsMapData.length},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),a("template",{slot:"common-table"},[t.showChartsMap?a("ChartsPie",{attrs:{downloadChartsName:t.downloadChartsName,echartsGlag:t.echartsGlag,chartsMapData:t.chartsMapData}}):a("el-table",{attrs:{height:"100%",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index)))]}}],null,!1,282622886)}),a("el-table-column",{attrs:{prop:"bfhm",label:"本方户名"}}),a("el-table-column",{attrs:{prop:"channelType",label:"收入渠道类型"}}),a("el-table-column",{attrs:{prop:"count",label:"总收入笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row)}}},[t._v(t._s(e.row.count))])]}}],null,!1,4101944237)}),a("el-table-column",{attrs:{prop:"revenueAmount",label:"总交易金额(万元)"}}),a("el-table-column",{attrs:{prop:"incomeProportion",label:"收入占比"}})],1)],1)],2)},Xe=[],Je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"charts-map-wrapper"},[a("div",{staticClass:"search-chart-map-header"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.echartsGlag,expression:"echartsGlag"}],staticClass:"label"},[t._v("本方账号")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.echartsGlag,expression:"echartsGlag"}],staticClass:"value"},[a("el-select",{attrs:{size:"small"},model:{value:t.currentPersonCardNumber,callback:function(e){t.currentPersonCardNumber=e},expression:"currentPersonCardNumber"}},t._l(t.chartsMapData,(function(t,e){return a("el-option",{key:e,attrs:{value:t.key,label:t.key}})})),1)],1),a("div",{staticClass:"label"},[t._v("显示条数")]),a("div",{staticClass:"value"},[a("el-select",{attrs:{size:"small"},model:{value:t.showSize,callback:function(e){t.showSize=e},expression:"showSize"}},[a("el-option",{attrs:{value:5,label:"前5条"}}),a("el-option",{attrs:{value:10,label:"前10条"}}),a("el-option",{attrs:{value:20,label:"前20条"}})],1)],1)]),a("div",{staticClass:"charts-map-content",attrs:{id:"ChartsPie"}},[t._v("contactTimesCharts")])])},Ze=[],Qe={name:"ChartsPie",data:function(){return{myCharts:null,showSize:10,currentPersonCardNumber:""}},props:{chartsMapData:{type:Array,default:function(){return[]}},downloadChartsName:{type:String},echartsGlag:{type:Boolean,default:!1},seriesOption:{type:Array,default:function(){return[]}},dataOption:{type:Object,default:function(){}}},computed:{optionData:function(){var t=this;return this.chartsMapData.length?this.chartsMapData.find((function(e){return e.key===t.currentPersonCardNumber})).data:[]}},watch:{currentPersonCardNumber:function(){var t=this;this.$nextTick((function(){t.renderEcharts()}))},showSize:function(){var t=this;console.log(this),this.$nextTick((function(){t.renderEcharts()}))},chartsMapData:{deep:!0,handler:function(){this.optionData=this.chartsMapData,this.renderEcharts()}}},mounted:function(){this.currentPersonCardNumber=this.chartsMapData.length&&this.chartsMapData[0].key,this.renderEcharts()},methods:{renderEcharts:function(){var t,e=this,a=[],s=this.echartsGlag?this.optionData:this.chartsMapData,n=s.slice(0,this.showSize),r=[];n.forEach((function(t){r.push({value:e.echartsGlag?t.proportionTransactions.substring(0,t.proportionTransactions.indexOf("%")):t.revenueAmount,name:t.channelType,incomeProportion:e.echartsGlag?"":t.incomeProportion});var s=a.every((function(e){return t.bfhm!=e.bfhm}));s&&a.push(t)})),t={title:{text:this.echartsGlag?"":a.map((function(t){return t.bfhm})),left:"center"},tooltip:{trigger:"item",order:"seriesAsc",formatter:function(t){var a="",s=n[t.dataIndex];if(e.echartsGlag)for(var r in e.dataOption)a+=e.dataOption[r]+(s[r]?s[r]:"")+"<br>";else a+=e.downloadChartsName+"<br>"+"".concat(t.data.name?t.data.name+" : ":"")+t.data.value+"(".concat(t.data.incomeProportion,")");return a},axisPointer:{type:"shadow"}},toolbox:{feature:{saveAsImage:{type:"png",name:this.downloadChartsName}}},legend:[{type:"scroll",height:"70%",orient:"vertical",left:"5%",top:"middle",data:r.map((function(t){return t.name}))}],series:[{type:"pie",radius:"50%",data:r,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};var o=echarts.init(document.getElementById("ChartsPie"));t&&o.setOption(t)}}},ta=Qe,ea=(a("ec0f"),Object(c["a"])(ta,Je,Ze,!1,null,"17d42926",null)),aa=ea.exports,sa={name:"revenueChannelStatistics",mixins:[Pe],components:{ChartsPie:aa},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},BORROW_OR_LEND_SELECT:function(){return this.$store.state.bill.BORROW_OR_LEND_SELECT}},data:function(){return{optionMap:{total:0,min:void 0,max:void 0,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:[],downloadChartsName:"收入渠道",echartsGlag:!1}},methods:{getData:function(t){var e=this;return Object(Pt["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.list&&0!==t.list.length){a.next=2;break}return a.abrupt("return");case 2:return e.params=t,a.next=5,Se(t);case 5:return s=a.sent,s.success?(e.tableData=s.data.records,e.optionMap.total=s.data.total,e.optionMap.currentPageNo=s.data.current,e.optionMap.pageSize=s.data.size):(e.$message.error(s.msg),e.tableData=[]),a.next=9,$e(t);case 9:n=a.sent,n.success?e.chartsMapData=n.data:(e.$message.error(n.msg),e.tableData=[]);case 11:case"end":return a.stop()}}),a)})))()},showDetail:function(t){var e={};for(var a in this.params)e[a]=this.params[a];e.channelType=t.channelType,this.$dataDetailDialog.show(e)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?this.selectCaseList.length>1?this.$message.error("仅支持单户名及以下层级选择"):(this.optionMap.jdbz=this.BORROW_OR_LEND_SELECT.find((function(t){return"贷"===t.label})).value,this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},na=sa,ra=(a("e7e4"),Object(c["a"])(na,Ye,Xe,!1,null,"8c915d6a",null)),oa=ra.exports,la=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易时间：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("重置")])],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v(" "+t._s(t.showChartsMap?"支出渠道统计":"支出渠道统计列表")+" ")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.downloadResult}},[t._v("导出")]),a("el-button",{attrs:{size:"small",type:"text",disabled:0===t.chartsMapData.length},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),a("template",{slot:"common-table"},[t.showChartsMap?a("ChartsPie",{attrs:{downloadChartsName:t.downloadChartsName,chartsMapData:t.chartsMapData,echartsGlag:t.echartsGlag}}):a("el-table",{attrs:{height:"100%",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index)))]}}],null,!1,282622886)}),a("el-table-column",{attrs:{prop:"bfhm",label:"本方账号"}}),a("el-table-column",{attrs:{prop:"channelType",label:"支出渠道类型"}}),a("el-table-column",{attrs:{prop:"count",label:"总支出笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row)}}},[t._v(t._s(e.row.count))])]}}],null,!1,4101944237)}),a("el-table-column",{attrs:{prop:"revenueAmount",label:"总支出金额(万元)"}}),a("el-table-column",{attrs:{prop:"incomeProportion",label:"支出占比"}})],1)],1)],2)},ia=[],ca={name:"expenditureChannelStatistics",mixins:[Pe],components:{ChartsPie:aa},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},BORROW_OR_LEND_SELECT:function(){return this.$store.state.bill.BORROW_OR_LEND_SELECT}},data:function(){return{optionMap:{total:0,min:void 0,max:void 0,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:[],downloadChartsName:"支出渠道",echartsGlag:!1}},methods:{getData:function(t){var e=this;return Object(Pt["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.list&&0!==t.list.length){a.next=2;break}return a.abrupt("return");case 2:return e.params=t,a.next=5,Se(t);case 5:return s=a.sent,s.success?(e.tableData=s.data.records,e.optionMap.total=s.data.total,e.optionMap.currentPageNo=s.data.current,e.optionMap.pageSize=s.data.size):(e.$message.error(s.msg),e.tableData=[]),a.next=9,$e(t);case 9:n=a.sent,n.success?e.chartsMapData=n.data:(e.$message.error(n.msg),e.tableData=[]);case 11:case"end":return a.stop()}}),a)})))()},showDetail:function(t){var e={};for(var a in this.params)e[a]=this.params[a];e.channelType=t.channelType,this.$dataDetailDialog.show(e)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?this.selectCaseList.length>1?this.$message.error("仅支持单户名及以下层级选择"):(this.optionMap.jdbz=this.BORROW_OR_LEND_SELECT.find((function(t){return"借"===t.label})).value,this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},ua=ca,pa=(a("e4a1"),Object(c["a"])(ua,la,ia,!1,null,"e33201d4",null)),ha=pa.exports,ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("连续交易次数不少于：")]),a("div",{staticClass:"search-value"},[a("el-input-number",{attrs:{"controls-position":"right",min:0,size:"small"},model:{value:t.optionMap.count,callback:function(e){t.$set(t.optionMap,"count",e)},expression:"optionMap.count"}})],1)])]),a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("连续交易时间间隔(h)：")]),a("div",{staticClass:"search-value"},[a("el-input-number",{attrs:{"controls-position":"right",min:0,size:"small"},model:{value:t.optionMap.timeInterval,callback:function(e){t.$set(t.optionMap,"timeInterval",e)},expression:"optionMap.timeInterval"}})],1)])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("重置")])],1)])])],1),a("el-row",[a("el-col",{attrs:{span:9}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易时间：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v(" "+t._s(t.showChartsMap?"高频交易分析":"高频交易分析列表")+" ")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.downloadResult}},[t._v("导出")]),a("el-button",{attrs:{size:"small",type:"text",disabled:0===t.chartsMapData.length},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),a("template",{slot:"common-table"},[t.showChartsMap?a("PublicCharts",{attrs:{echartsGlag:t.echartsGlag,downloadChartsName:t.downloadChartsName,chartsMapData:t.chartsMapData,seriesOption:[{name:"总交易额(万元)",type:"bar",stack:"1",barMaxWidth:"100",dataKey:"transactionAmount"},{name:"总收入笔数",type:"line",stack:"2",dataKey:"count"}],dataOption:{bfzh:"本方账号：",bfhm:"本方户名：",startTime:"开始时间：",endTime:"结束时间：",count:"交易笔数：",transactionAmount:"总交易金额 (万元) ："}}}):a("el-table",{attrs:{height:"100%",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index)))]}}],null,!1,282622886)}),a("el-table-column",{attrs:{prop:"bfzh",label:"本方账号"}}),a("el-table-column",{attrs:{prop:"bfhm",label:"本方户名"}}),a("el-table-column",{attrs:{prop:"startTime",label:"起始时间"}}),a("el-table-column",{attrs:{prop:"endTime",label:"结束时间"}}),a("el-table-column",{attrs:{prop:"count",label:"总交易笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row)}}},[t._v(t._s(e.row.count))])]}}],null,!1,4101944237)}),a("el-table-column",{attrs:{prop:"transactionAmount",label:"总交易金额(万元)"}}),a("el-table-column",{attrs:{prop:"revenueAmount",label:"总收入金额(万元)"}}),a("el-table-column",{attrs:{prop:"expenditureAmount",label:"总支出金额(万元)"}}),a("el-table-column",{attrs:{prop:"netIncome",label:"净收入(万元)"}})],1)],1)],2)},da=[],fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"charts-map-wrapper"},[a("div",{staticClass:"search-chart-map-header"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.echartsGlag,expression:"echartsGlag"}],staticClass:"label"},[t._v("本方账号")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.echartsGlag,expression:"echartsGlag"}],staticClass:"value"},[a("el-select",{attrs:{size:"small"},model:{value:t.currentPersonCardNumber,callback:function(e){t.currentPersonCardNumber=e},expression:"currentPersonCardNumber"}},t._l(t.chartsMapData,(function(t,e){return a("el-option",{key:e,attrs:{value:t.bfzh,label:t.bfzh}})})),1)],1),a("div",{staticClass:"label"},[t._v("显示条数")]),a("div",{staticClass:"value"},[a("el-select",{attrs:{size:"small"},model:{value:t.showSize,callback:function(e){t.showSize=e},expression:"showSize"}},[a("el-option",{attrs:{value:5,label:"前5条"}}),a("el-option",{attrs:{value:10,label:"前10条"}}),a("el-option",{attrs:{value:20,label:"前20条"}})],1)],1)]),a("div",{staticClass:"charts-map-content",attrs:{id:"PublicCharts"}},[t._v("contactTimesCharts")])])},ba=[],ga={name:"PublicCharts",data:function(){return{myCharts:null,showSize:10,currentPersonCardNumber:""}},props:{chartsMapData:{type:Array,default:function(){return[]}},echartsGlag:{type:Boolean,default:!1},seriesOption:{type:Array,default:function(){return[]}},dataOption:{type:Object,default:function(){}},downloadChartsName:{type:String}},computed:{optionData:function(){var t=this;return this.chartsMapData.length?this.chartsMapData.find((function(e){return e.bfzh===t.currentPersonCardNumber})).data:[]}},watch:{currentPersonCardNumber:function(){var t=this;console.log(this),this.$nextTick((function(){t.renderEcharts()}))},showSize:function(){var t=this;console.log(this),this.$nextTick((function(){t.renderEcharts()}))},chartsMapData:{deep:!0,handler:function(){this.optionData=this.chartsMapData,this.renderEcharts()}}},mounted:function(){this.currentPersonCardNumber=this.chartsMapData.length&&this.chartsMapData[0].bfzh,this.renderEcharts()},methods:{renderEcharts:function(){var t=this,e=this.echartsGlag?this.optionData:this.chartsMapData,a=e.slice(0,this.showSize);this.seriesOption.forEach((function(t){t.data=a.map((function(e){return e[t.dataKey]}))}));var s={legend:{y:"top",data:this.seriesOption.map((function(t){return t.name}))},tooltip:{trigger:"axis",order:"seriesAsc",formatter:function(e){var s="",n=a[e[0].dataIndex];for(var r in t.dataOption)s+=t.dataOption[r]+(n[r]?n[r]:"")+"<br>";return s},axisPointer:{type:"shadow"}},toolbox:{feature:{saveAsImage:{type:"png",name:this.downloadChartsName}}},xAxis:[{type:"category",data:a.map((function(t){return(t.bfhm?t.bfhm:t.jywddm?t.jywddm:"")+(t.bfzh?t.bfzh:t.jywdmc?t.jywdmc:"")}))}],dataZoom:[{type:"slider",show:!0,xAxisIndex:[0],bottom:-5,start:0,end:100}],yAxis:[{type:"value",barMinHeight:10,splitLine:{lineStyle:{type:"dashed"}},max:function(t){return Math.floor(t.max)+1},min:function(t){return t.min<0?Math.floor(t.min)-1:0}}],series:this.seriesOption},n=echarts.init(document.getElementById("PublicCharts"));n.setOption(s),window.onresize=function(){n.resize()}}}},va=ga,Ca=(a("7983"),Object(c["a"])(va,fa,ba,!1,null,"95a3ef2c",null)),ya=Ca.exports,wa={name:"highTradingListTable",mixins:[Pe],components:{PublicCharts:ya},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},TRANSACTION_SELECT:function(){return this.$store.state.bill.TRANSACTION_SELECT}},data:function(){return{optionMap:{total:0,min:void 0,max:void 0,count:3,timeInterval:2,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:[],echartsGlag:!1,downloadChartsName:"高频交易"}},methods:{getData:function(t){var e=this;return Object(Pt["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.list&&0!==t.list.length){a.next=2;break}return a.abrupt("return");case 2:return e.params=t,a.next=5,Ne(t);case 5:return s=a.sent,s.success?(e.tableData=s.data.records,e.optionMap.total=s.data.total,e.optionMap.currentPageNo=s.data.current,e.optionMap.pageSize=s.data.size):(e.$message.error(s.msg),e.tableData=[]),a.next=9,Oe(t);case 9:n=a.sent,n.success?e.chartsMapData=n.data:(e.$message.error(n.msg),e.tableData=[]);case 11:case"end":return a.stop()}}),a)})))()},showDetail:function(t){console.log("data",t);var e={};for(var a in this.params)e[a]=this.params[a];e.bfzh=t.bfzh,e.searchBeginTime=t.startTime,e.searchEndTime=t.endTime,this.$dataDetailDialog.show(e)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?(this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},Ma=wa,Ta=(a("59fe"),Object(c["a"])(Ma,ma,da,!1,null,"3b0cd828",null)),_a=Ta.exports,Da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("单笔交易金额不少于  ")]),a("div",{staticClass:"search-value new-search-value"},[a("el-input-number",{attrs:{"controls-position":"right",step:1e3,min:0,size:"small"},model:{value:t.optionMap.jyje,callback:function(e){t.$set(t.optionMap,"jyje",e)},expression:"optionMap.jyje"}})],1),a("div",{staticClass:"search-label-suffix"},[t._v("  元")])])]),a("el-col",{attrs:{span:9}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易时间：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])]),a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("重置")])],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v("高额交易分析")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.downloadResult}},[t._v("导出")])],1)]),a("template",{slot:"common-table"},[a("el-table",{attrs:{height:"100%",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index)))]}}])}),a("el-table-column",{attrs:{prop:"bfkh",label:"本方卡号"}}),a("el-table-column",{attrs:{prop:"bfzh",label:"本方账号"}}),a("el-table-column",{attrs:{prop:"bfhm",label:"本方户名"}}),a("el-table-column",{attrs:{prop:"bfkhh",label:"本方开户银行"}}),a("el-table-column",{attrs:{prop:"jysj",label:"交易时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("handleDate")(e.row.jysj))+" ")]}}])}),a("el-table-column",{attrs:{prop:"jyje",label:"交易金额(元)"}}),a("el-table-column",{attrs:{prop:"jyye",label:"交易余额(元)"}}),a("el-table-column",{attrs:{prop:"biz",label:"币种"}}),a("el-table-column",{attrs:{prop:"jdbz",label:"借贷标志"}}),a("el-table-column",{attrs:{prop:"jydfzh",label:"对方账号"}}),a("el-table-column",{attrs:{prop:"jydfkh",label:"对方卡号"}}),a("el-table-column",{attrs:{prop:"jydfmc",label:"对方名称"}}),a("el-table-column",{attrs:{prop:"jydfzhkhh",label:"对方开户行"}}),a("el-table-column",{attrs:{prop:"jywdmc",label:"交易网点"}}),a("el-table-column",{attrs:{prop:"jyzy",label:"交易网点交易摘要"}}),a("el-table-column",{attrs:{prop:"bz",label:"备注"}})],1)],1)],2)},ka=[],xa=a("c1df"),ja=a.n(xa),za={name:"greatNumberDealListTable",mixins:[Pe],components:{},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},TRANSACTION_SELECT:function(){return this.$store.state.bill.TRANSACTION_SELECT}},filters:{handleDate:function(t){return ja()(t).format("YYYY-MM-DD hh:mm:ss")}},data:function(){return{optionMap:{total:0,min:void 0,max:void 0,jyje:1e3,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:[]}},methods:{getData:function(t){var e=this;return Object(Pt["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.list&&0!==t.list.length){a.next=2;break}return a.abrupt("return");case 2:return e.params=t,a.next=5,Re(t);case 5:s=a.sent,s.success?(e.tableData=s.data.records,e.optionMap.total=s.data.total,e.optionMap.currentPageNo=s.data.current,e.optionMap.pageSize=s.data.size):(e.$message.error(s.msg),e.tableData=[]);case 7:case"end":return a.stop()}}),a)})))()},showDetail:function(t){var e={};for(var a in this.params)e[a]=this.params[a];e.bfzh=t.bfzh,e.jydfzh=t.jydfzh,this.$refs.dataDetailDialog.show(e)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?(this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},Sa=za,$a=(a("f2a7"),Object(c["a"])(Sa,Da,ka,!1,null,"69c4b2de",null)),Na=$a.exports,Oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("中转金额不小于（万元)  ")]),a("div",{staticClass:"search-value"},[a("el-input-number",{attrs:{"controls-position":"right",min:0,size:"small"},model:{value:t.optionMap.jyje,callback:function(e){t.$set(t.optionMap,"jyje",e)},expression:"optionMap.jyje"}})],1)])]),a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("中转资金浮动比率  ")]),a("div",{staticClass:"search-value"},[a("el-row",{staticStyle:{display:"inline-block","vertical-align":"middle"}},[a("el-col",{attrs:{span:25}},[a("el-input-number",{attrs:{step:.1,min:0,"controls-position":"right",size:"small"},model:{value:t.optionMap.floatingRatioMin,callback:function(e){t.$set(t.optionMap,"floatingRatioMin",e)},expression:"optionMap.floatingRatioMin"}})],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center",transform:"scaleX(2)",margin:"0 10px"},attrs:{span:25}},[t._v("-")]),a("el-col",{attrs:{span:25}},[a("el-input-number",{attrs:{step:.1,min:0,max:99999,"controls-position":"right",size:"small"},model:{value:t.optionMap.floatingRatioMax,callback:function(e){t.$set(t.optionMap,"floatingRatioMax",e)},expression:"optionMap.floatingRatioMax"}})],1)],1)],1)])]),a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("中转时间间隔(h)：")]),a("div",{staticClass:"search-value"},[a("el-input-number",{attrs:{"controls-position":"right",min:0,size:"small"},model:{value:t.optionMap.timeInterval,callback:function(e){t.$set(t.optionMap,"timeInterval",e)},expression:"optionMap.timeInterval"}})],1)])]),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("重置")])],1)])])],1),a("el-row",[a("el-col",{attrs:{span:9}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易时间：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v(" "+t._s(t.showChartsMap?"中转资金分析":"中转资金分析列表")+" ")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.downloadResult}},[t._v("导出")]),a("el-button",{attrs:{size:"small",type:"text",disabled:0===t.chartsMapData.length},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),a("template",{slot:"common-table"},[t.showChartsMap?a("PublicCharts",{attrs:{echartsGlag:t.echartsGlag,chartsMapData:t.chartsMapData,downloadChartsName:t.downloadChartsName,seriesOption:[{name:"中转金额(万元)",type:"bar",stack:"1",barMaxWidth:"100",dataKey:"jyje"}],dataOption:{bfzh:"本方账号：",bfhm:"本方户名：",startTime:"开始时间：",endTime:"开始时间：",count:"交易笔数：",jyje:"中转金额 (万元) ：",expenditureAmount:"支出收入 (万元) ："}}}):a("el-table",{attrs:{height:"100%",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index)))]}}],null,!1,282622886)}),a("el-table-column",{attrs:{prop:"bfzh",label:"本方账号"}}),a("el-table-column",{attrs:{prop:"bfhm",label:"本方户名"}}),a("el-table-column",{attrs:{prop:"startTime",label:"起始时间"}}),a("el-table-column",{attrs:{prop:"endTime",label:"结束时间"}}),a("el-table-column",{attrs:{prop:"jyje",label:"中转金额(万元)"}}),a("el-table-column",{attrs:{prop:"count",label:"总交易笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row)}}},[t._v(t._s(e.row.count))])]}}],null,!1,4101944237)}),a("el-table-column",{attrs:{prop:"revenueAmount",label:"总收入金额(万元)"}}),a("el-table-column",{attrs:{prop:"expenditureAmount",label:"总支出金额(万元)"}}),a("el-table-column",{attrs:{prop:"incomeProportion",label:"支出收入占比"}})],1)],1)],2)},Ra=[],Ea={name:"transferFundsAnalysisListTable",mixins:[Pe],components:{PublicCharts:ya},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},TRANSACTION_SELECT:function(){return this.$store.state.bill.TRANSACTION_SELECT}},data:function(){return{optionMap:{floatingRatioMin:.9,floatingRatioMax:1.1,total:0,min:void 0,max:void 0,jyje:1,timeInterval:24,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:[],echartsGlag:!0,downloadChartsName:"中转资金分析"}},methods:{getData:function(t){var e=this;return Object(Pt["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.list&&0!==t.list.length){a.next=2;break}return a.abrupt("return");case 2:return e.params=t,a.next=5,Ee(t);case 5:return s=a.sent,s.success?(e.tableData=s.data.records,e.optionMap.total=s.data.total,e.optionMap.currentPageNo=s.data.current,e.optionMap.pageSize=s.data.size):(e.$message.error(s.msg),e.tableData=[]),a.next=9,Ae(t);case 9:n=a.sent,n.success?e.chartsMapData=n.data:(e.$message.error(n.msg),e.tableData=[]);case 11:case"end":return a.stop()}}),a)})))()},showDetail:function(t){var e={};for(var a in this.params)e[a]=this.params[a];e.bfzh=t.bfzh,e.searchBeginTime=t.startTime,e.searchEndTime=t.endTime,this.$dataDetailDialog.show(e)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?(this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},Aa=Ea,La=(a("ffab"),Object(c["a"])(Aa,Oa,Ra,!1,null,"dec16318",null)),Pa=La.exports,Ia={name:"ransactionAnalysis",components:{selectTree:bt},data:function(){return{activeName:"1",selectTreeData:[],componentsMap:{1:He,2:oa,3:ha,4:_a,5:Na,6:Pa},activeComponent:"1"}},methods:{handleClick:function(t){this.activeComponent=this.activeName},handleChange:function(t){this.selectTreeData=t,this.activeComponent=this.activeName}}},Ba=Ia,Fa=(a("cc38"),Object(c["a"])(Ba,_e,De,!1,null,"aace12a6",null)),Va=Fa.exports,Ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-analysis-wrapper"},[a("div",{staticClass:"data-tree-side"},[a("selectTree",{ref:"selectTree",on:{handleChange:t.handleChange}})],1),a("div",{staticClass:"data-table-side"},[a("div",{staticClass:"default-tabs-wrapper"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"交易地点分析",name:"1"}}),a("el-tab-pane",{attrs:{label:"交易类型分析",name:"2"}})],1)],1),a("div",{staticClass:"table-wrapper"},[a(t.componentsMap[t.activeComponent],{tag:"component",attrs:{tabType:t.componentsMap[t.activeComponent].name,selectTreeData:t.selectTreeData}})],1)])])},qa=[],Wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:9}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易时间：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])]),a("el-col",{attrs:{span:15}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("重置")])],1)])])],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易网点号：")]),a("div",{staticClass:"search-value"},[a("el-input",{attrs:{size:"small",placeholder:"请填写"},model:{value:t.optionMap.jywddm,callback:function(e){t.$set(t.optionMap,"jywddm",e)},expression:"optionMap.jywddm"}})],1)])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易网点名称：")]),a("div",{staticClass:"search-value"},[a("el-input",{attrs:{size:"small",placeholder:"请填写"},model:{value:t.optionMap.jywdmc,callback:function(e){t.$set(t.optionMap,"jywdmc",e)},expression:"optionMap.jywdmc"}})],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v(" 交易地点分析 ")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.downloadResult}},[t._v("导出")]),a("el-button",{attrs:{size:"small",type:"text",disabled:0===t.chartsMapData.length},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),a("template",{slot:"common-table"},[t.showChartsMap?a("PublicCharts",{attrs:{echartsGlag:t.echartsGlag,chartsMapData:t.chartsMapData,seriesOption:[{name:"总收入金额(万元)",type:"bar",stack:"1",barMaxWidth:"100",dataKey:"revenueAmount"},{name:"总收入笔数",type:"line",stack:"2",dataKey:"count"}],dataOption:{startTime:"启始时间：",endTime:"结束时间：",count:"交易笔数：",transactionAmount:"总交易金额 (万元) ："}}}):a("el-table",{attrs:{height:"100%",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index)))]}}],null,!1,282622886)}),a("el-table-column",{attrs:{prop:"jywddm",label:"交易网点号"}}),a("el-table-column",{attrs:{prop:"jywdmc",label:"交易网点名称"}}),a("el-table-column",{attrs:{prop:"startTime",label:"起始时间"}}),a("el-table-column",{attrs:{prop:"endTime",label:"结束时间"}}),a("el-table-column",{attrs:{prop:"count",label:"总交易笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row)}}},[t._v(t._s(e.row.count))])]}}],null,!1,4101944237)}),a("el-table-column",{attrs:{prop:"transactionAmount",label:"总交易金额(万元)"}}),a("el-table-column",{attrs:{prop:"revenueAmount",label:"总收入金额(万元)"}}),a("el-table-column",{attrs:{prop:"expenditureAmount",label:"总支出金额(万元)"}})],1)],1)],2)},Ua=[],Ka=function(t){return Object(g["a"])({method:"post",url:"/transaction-trajectory/placeTransaction",data:t,loading:!0})},Ha=function(t){return Object(g["a"])({method:"post",url:"/transaction-trajectory/placeTransactionChart",data:t,loading:!0})},Ya=function(t){return Object(g["a"])({method:"post",url:"/transaction-trajectory/transactionType",data:t,loading:!0})},Xa=function(t){return Object(g["a"])({method:"post",url:"/transaction-trajectory/transactionTypeChart",data:t,loading:!0})},Ja=function(t){return Object(g["a"])({method:"post",url:"/transaction-trajectory/transactionExport",data:t,responseType:"blob"})},Za={data:function(){return{commonTableRefName:this.$vnode.tag,currentCaseId:this.$storage.get("data-analysis-current-case"),showChartsMap:!1}},props:{selectTreeData:{type:Array,default:function(){return[]}},tabType:{type:String}},computed:{selectAccountList:function(){return this.selectTreeData.filter((function(t){return 3===t.sign}))},selectCardList:function(){return this.selectTreeData.filter((function(t){return 4===t.sign}))},selectBillList:function(){return this.selectTreeData.filter((function(t){return 5===t.sign}))},selectCaseList:function(){return this.selectTreeData.filter((function(t){return 2===t.sign}))},switchBtnName:function(){return this.showChartsMap?"列表展示":"图形展示"}},methods:{downloadResult:function(){this.transactionExportOperation()},transactionExportOperation:function(){var t=this,e=this.$deepClone(this.params);0!==this.tableData.length&&(Reflect.deleteProperty(e,"pageNo"),Reflect.deleteProperty(e,"pageSize"),Reflect.deleteProperty(e,"tabType"),e.tabType=this.tabType,Ja(e).then((function(e){t.$fileStreamDownload(e)})))}}},Qa={name:"transactionPlaceAnalysisListTable",mixins:[Za],components:{PublicCharts:ya},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},TRANSACTION_SELECT:function(){return this.$store.state.bill.TRANSACTION_SELECT}},data:function(){return{optionMap:{jywddm:"",jywdmc:"",total:0,min:void 0,max:void 0,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:[],handleChartsMapData:!0,echartsGlag:!1}},methods:{getData:function(t){var e=this;return Object(Pt["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.list&&0!==t.list.length){a.next=2;break}return a.abrupt("return");case 2:return e.params=t,a.next=5,Ka(t);case 5:return s=a.sent,s.success?(e.tableData=s.data.records,e.optionMap.total=s.data.total,e.optionMap.currentPageNo=s.data.current,e.optionMap.pageSize=s.data.size):(e.$message.error(s.msg),e.tableData=[]),a.next=9,Ha(t);case 9:n=a.sent,n.success?e.chartsMapData=n.data:(e.$message.error(n.msg),e.tableData=[]);case 11:case"end":return a.stop()}}),a)})))()},showDetail:function(t){var e={};for(var a in this.params)e[a]=this.params[a];e.jywddm=t.jywddm,e.jywdmc=t.jywdmc,e.searchBeginTime=t.startTime,e.searchEndTime=t.endTime,this.$dataDetailDialog.show(e)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?(this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},ts=Qa,es=(a("699f"),Object(c["a"])(ts,Wa,Ua,!1,null,"281676b1",null)),as=es.exports,ss=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:9}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易时间：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])]),a("el-col",{attrs:{span:15}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("重置")])],1)])])],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易网点号：")]),a("div",{staticClass:"search-value"},[a("el-input",{attrs:{size:"small",placeholder:"请填写"},model:{value:t.optionMap.jywddm,callback:function(e){t.$set(t.optionMap,"jywddm",e)},expression:"optionMap.jywddm"}})],1)])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易网点名称：")]),a("div",{staticClass:"search-value"},[a("el-input",{attrs:{size:"small",placeholder:"请填写"},model:{value:t.optionMap.jywdmc,callback:function(e){t.$set(t.optionMap,"jywdmc",e)},expression:"optionMap.jywdmc"}})],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v("交易类型分析")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.downloadResult}},[t._v("导出")]),a("el-button",{attrs:{size:"small",type:"text",disabled:0===t.chartsMapData.length},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),a("template",{slot:"common-table"},[t.showChartsMap?a("ChartsPie",{attrs:{downloadChartsName:t.downloadChartsName,echartsGlag:t.echartsGlag,chartsMapData:t.chartsMapData,dataOption:{channelType:"交易类型：",count:"交易笔数：",transactionAmount:"总交易金额 (万元) ："}}}):a("el-table",{attrs:{height:"100%",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index)))]}}],null,!1,282622886)}),a("el-table-column",{attrs:{prop:"jywddm",label:"交易网点号"}}),a("el-table-column",{attrs:{prop:"jywdmc",label:"交易网点名称"}}),a("el-table-column",{attrs:{prop:"startTime",label:"起始时间"}}),a("el-table-column",{attrs:{prop:"endTime",label:"结束时间"}}),a("el-table-column",{attrs:{prop:"channelType",label:"交易类型"}}),a("el-table-column",{attrs:{prop:"count",label:"总交易笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row)}}},[t._v(t._s(e.row.count))])]}}],null,!1,4101944237)}),a("el-table-column",{attrs:{prop:"transactionAmount",label:"总交易金额(万元)"}}),a("el-table-column",{attrs:{prop:"revenueAmount",label:"总收入金额(万元)"}}),a("el-table-column",{attrs:{prop:"expenditureAmount",label:"总支出金额(万元)"}}),a("el-table-column",{attrs:{prop:"proportionTransactions",label:"交易占比"}})],1)],1)],2)},ns=[],rs={name:"transactionTypeAnalysisListTable",mixins:[Za],components:{ChartsPie:aa},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},TRANSACTION_SELECT:function(){return this.$store.state.bill.TRANSACTION_SELECT}},data:function(){return{optionMap:{jywddm:"",jywdmc:"",total:0,min:void 0,max:void 0,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:[],echartsGlag:!0,downloadChartsName:"交易类型分析"}},methods:{getData:function(t){var e=this;return Object(Pt["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.list&&0!==t.list.length){a.next=2;break}return a.abrupt("return");case 2:return e.params=t,a.next=5,Ya(t);case 5:return s=a.sent,s.success?(e.tableData=s.data.records,e.optionMap.total=s.data.total,e.optionMap.currentPageNo=s.data.current,e.optionMap.pageSize=s.data.size):(e.$message.error(s.msg),e.tableData=[]),a.next=9,Xa(t);case 9:n=a.sent,n.success?e.chartsMapData=n.data:(e.$message.error(n.msg),e.tableData=[]);case 11:case"end":return a.stop()}}),a)})))()},showDetail:function(t){var e={};for(var a in this.params)e[a]=this.params[a];e.jywddm=t.jywddm,e.jywdmc=t.jywdmc,e.channelType=t.channelType,e.searchBeginTime=t.startTime,e.searchEndTime=t.endTime,this.$dataDetailDialog.show(e)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?(this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},os=rs,ls=(a("b982"),Object(c["a"])(os,ss,ns,!1,null,"610587c0",null)),is=ls.exports,cs={name:"trajectoryAnalysis",components:{selectTree:bt},data:function(){return{activeName:"1",selectTreeData:[],componentsMap:{1:as,2:is},activeComponent:"1"}},methods:{handleClick:function(t){this.activeComponent=this.activeName},handleChange:function(t){this.selectTreeData=t,this.activeComponent=this.activeName}}},us=cs,ps=(a("8666"),Object(c["a"])(us,Ga,qa,!1,null,"5c62c8c6",null)),hs=ps.exports,ms=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-analysis-wrapper"},[a("div",{staticClass:"data-tree-side"},[a("selectTree",{ref:"selectTree",on:{handleChange:t.handleChange}})],1),a("div",{staticClass:"data-table-side"},[a("div",{staticClass:"default-tabs-wrapper"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"交易时段分析",name:"1"}}),a("el-tab-pane",{attrs:{label:"互相交易人分析",name:"2"}}),a("el-tab-pane",{attrs:{label:"共同交易人分析",name:"3"}})],1)],1),a("div",{staticClass:"table-wrapper"},[a(t.componentsMap[t.activeComponent],{tag:"component",attrs:{tabType:t.activeName,selectTreeData:t.selectTreeData}})],1)])])},ds=[],fs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{fixTable:"",optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("联系时段：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])]),a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-value"},[a("el-radio",{attrs:{label:0},model:{value:t.optionMap.dateType,callback:function(e){t.$set(t.optionMap,"dateType",e)},expression:"optionMap.dateType"}},[t._v("全部")]),a("el-radio",{attrs:{label:1},model:{value:t.optionMap.dateType,callback:function(e){t.$set(t.optionMap,"dateType",e)},expression:"optionMap.dateType"}},[t._v("工作日")]),a("el-radio",{attrs:{label:2},model:{value:t.optionMap.dateType,callback:function(e){t.$set(t.optionMap,"dateType",e)},expression:"optionMap.dateType"}},[t._v("非工作日")])],1)])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("取消")])],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v("共同交易人分析")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.exportReport}},[t._v("导出")]),a("el-button",{attrs:{size:"small",type:"text",disabled:!t.chartsMapData},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),a("template",{slot:"common-table"},[t.showChartsMap?a("baseRelationCharts",{attrs:{chartsMapData:t.chartsMapData,toolTipFormatOptions:{bfzh:"本方账号",bfhm:"本方户名",jydfzh:"对方账号",dfmc:"对方户名",totalTransNum:"总交易笔数",totalAmount:"总交易金额(万元)"}}}):a("el-table",{ref:"doLayoutTable",attrs:{height:"100%",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",fixed:"",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index))+" ")]}}],null,!1,1762826854)}),a("el-table-column",{attrs:{fixed:"","min-width":"150",width:t.colWidth(),align:"center",prop:"account",label:"共同交易人"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.account&&e.row.account.hm))]),a("div",[t._v(t._s(e.row.account&&e.row.account.zh))])]}}],null,!1,2615015235)}),t._l(t.tableHeader,(function(e){return a("el-table-column",{key:"tableHeader_"+e.zh,attrs:{"min-width":"200",align:"center",width:t.colWidth()},scopedSlots:t._u([{key:"default",fn:function(s){return[a("div",{staticClass:"init-table-header-gap-top"},[t._v("总交易次数： "),a("span",{staticStyle:{color:"#3077ff",cursor:"pointer"},on:{click:function(a){return t.handleDetail(s.row,e.zh)}}},[t._v(" "+t._s(s.row.transDetails&&s.row.transDetails[e.zh]&&s.row.transDetails[e.zh].totalTransNum))])]),a("div",{staticClass:"init-table-header-gap-bottom"},[t._v(" 总交易金额(万元)："+t._s(s.row.transDetails&&s.row.transDetails[e.zh]&&s.row.transDetails[e.zh].totalAmount)+" ")])]}}],null,!0)},[a("template",{slot:"header"},[a("div",{staticClass:"init-table-header-gap-top",staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.hm)+" ")]),a("div",{staticClass:"init-table-header-gap-bottom",staticStyle:{"text-align":"center"}},[t._v(t._s(e.zh))])])],2)}))],2)],1)],2)},bs=[],gs={data:function(){return{commonTableRefName:this.$vnode.tag,currentCaseId:this.$storage.get("data-analysis-current-case"),showChartsMap:!1}},props:{selectTreeData:{type:Array,default:function(){return[]}}},computed:{selectAccountList:function(){return this.selectTreeData.filter((function(t){return 3===t.sign}))},selectCardList:function(){return this.selectTreeData.filter((function(t){return 4===t.sign}))},selectBillList:function(){return this.selectTreeData.filter((function(t){return 5===t.sign}))},switchBtnName:function(){return this.showChartsMap?"列表展示":"图形展示"}}},vs=function(t){return Object(g["a"])({method:"post",url:"/transaction-period/transaction-period-page",data:t,loading:!0})},Cs=function(t){return Object(g["a"])({method:"post",url:"/transaction-period/transaction-period-chart",data:t,loading:!0})},ys=function(t){return Object(g["a"])({method:"post",url:"/transaction-period/transaction-period-export",data:t,responseType:"blob",loading:!0})},ws=function(t){return Object(g["a"])({method:"post",url:"/transaction-mutual/page",data:t,loading:!0})},Ms=function(t){return Object(g["a"])({method:"post",url:"/transaction-mutual/chart",data:t,loading:!0})},Ts=function(t){return Object(g["a"])({method:"post",url:"/transaction-mutual/export",data:t,responseType:"blob",loading:!0})},_s=function(t){return Object(g["a"])({method:"post",url:"/transaction-common/page",data:t,loading:!0})},Ds=function(t){return Object(g["a"])({method:"post",url:"/transaction-common/chart",data:t,loading:!0})},ks=function(t){return Object(g["a"])({method:"post",url:"/transaction-common/export",data:t,responseType:"blob",loading:!0})},xs=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},js=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"charts-map-wrapper"},[a("div",{staticClass:"charts-map-content",attrs:{id:"baseRelationCharts"}})])}],zs=a("a9dd"),Ss=a.n(zs),$s=a("fbb7"),Ns=a.n($s),Os={name:"baseRelationCharts",data:function(){return{myCharts:null,showSize:10,optionData:[],baseUrl:"/"}},props:{chartsMapData:{type:Object,default:function(){}},toolTipFormatOptions:{type:Object,default:function(){return{bfzh:"本方账号",bfhm:"本方户名",jydfzh:"对方账号",dfmc:"对方户名",totalTransNum:"总交易笔数",totalAmount:"总交易金额(万元)",incomeAmount:"总收入金额(万元)",expendAmount:"总支出金额(万元)",netIncome:"净收入(万元)"}}},selectPhoneList:{type:Array,default:function(){return[]}}},watch:{chartsMapData:{deep:!0,handler:function(){this.renderEcharts()}}},mounted:function(){this.renderEcharts()},methods:{renderEcharts:function(){var t=this,e=this.$echarts.init(document.getElementById("baseRelationCharts")),a=this.chartsMapData.nodes&&this.chartsMapData.nodes.map((function(t){return{name:t.account,username:t.name,category:t.bf}})),s=this.chartsMapData.links&&this.chartsMapData.links.map((function(t){return t.source=t.bfzh,t.target=t.jydfzh,t})),n="image://"+Ss.a,r="image://"+Ns.a;a.forEach((function(t){0===t.category?(t.symbol=n,t.symbolSize=25):1===t.category&&(t.symbol=r,t.symbolSize=20)}));var o={legend:{x:"center",show:!1,data:[{name:1},{name:2}]},tooltip:{trigger:"item",formatter:function(e){if("node"===e.dataType){var a=e.data.username?"<div>姓名 : "+e.data.username+"</div>":"",s=e.data.name?"<div>账号 : "+e.data.name+"</div>":"";return a+s}if("edge"===e.dataType){var n="";for(var r in t.toolTipFormatOptions)n+=t.toolTipFormatOptions[r]+" : "+(e.data[r]?"<span>"+e.data[r]+"</span><br>":"<br>");return n}}},toolbox:{feature:{saveAsImage:{type:"png",name:"互相通话分析"}}},series:[{type:"graph",layout:"force",draggable:!0,roam:!0,zoom:3,focusNodeAdjacency:!0,edgeSymbol:["circle","circle"],edgeSymbolSize:[0,0],lineStyle:{curveness:0},data:a,links:s,categories:[{name:0},{name:1},{name:2}],emphasis:{focus:"adjacency",lineStyle:{width:2,color:"#0099ff"},label:{show:!0,color:"#000",position:"bottom"}}}]};e.setOption(o),window.onresize=function(){e.resize()}}}},Rs=Os,Es=Object(c["a"])(Rs,xs,js,!1,null,"2ab6e40e",null),As=Es.exports,Ls={name:"jointTradersAnalysis",mixins:[gs],components:{baseRelationCharts:As},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},TRANSACTION_SELECT:function(){return this.$store.state.bill.TRANSACTION_SELECT}},data:function(){return{optionMap:{total:0,dateType:0,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:null,tableHeader:[]}},methods:{colWidth:function(){return"calc(".concat(100/(this.tableHeader.length+1),"% - ").concat(80/(this.tableHeader.length+1),"px)")},exportReport:function(){var t=this;0!==this.tableData.length&&ks(this.params).then((function(e){t.$fileStreamDownload(e)}))},getData:function(t){var e=this;return Object(Pt["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.tableData=[],e.$nextTick((function(){e.$refs.doLayoutTable.doLayout()})),t.list&&0!==t.list.length){a.next=4;break}return a.abrupt("return");case 4:return e.params=t,a.next=7,_s(t);case 7:return s=a.sent,s.success?(e.tableData=s.data.dataLists,e.tableHeader=s.data.header,e.optionMap.total=s.data.total,e.optionMap.currentPageNo=s.data.current,e.optionMap.pageSize=s.data.size):(e.$message.error(s.msg),e.tableData=[]),a.next=11,Ds(t);case 11:n=a.sent,n.success?e.chartsMapData=Object.keys(n.data).length?n.data:null:(e.$message.error(n.msg),e.chartsMapData=null);case 13:case"end":return a.stop()}}),a)})))()},handleDetail:function(t,e){var a={};for(var s in this.params)a[s]=this.params[s];a.bfzh=e,a.jydfzh=t.account.zh,this.$dataDetailDialog.show(a)},showDetail:function(t){var e={};for(var a in this.params)e[a]=this.params[a];e.bfzh=t.bfzh,e.jydfzh=t.jydfzh},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?this.selectAccountList.length<1?this.$message.error("至少选择两个账号进行分析"):(this.optionMap.caseId=this.currentCaseId,this.optionMap.jyzh=this.selectAccountList.map((function(t){return t.label.replace(/[^\d]/g,"")})),this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},Ps=Ls,Is=(a("d8af"),Object(c["a"])(Ps,fs,bs,!1,null,"eabb61e4",null)),Bs=Is.exports,Fs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("联系时段：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])]),a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-value"},[a("el-radio",{attrs:{label:0},model:{value:t.optionMap.dateType,callback:function(e){t.$set(t.optionMap,"dateType",e)},expression:"optionMap.dateType"}},[t._v("全部")]),a("el-radio",{attrs:{label:1},model:{value:t.optionMap.dateType,callback:function(e){t.$set(t.optionMap,"dateType",e)},expression:"optionMap.dateType"}},[t._v("工作日")]),a("el-radio",{attrs:{label:2},model:{value:t.optionMap.dateType,callback:function(e){t.$set(t.optionMap,"dateType",e)},expression:"optionMap.dateType"}},[t._v("非工作日")])],1)])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("取消")])],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v("互相交易人分析")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.exportReport}},[t._v("导出")]),a("el-button",{attrs:{size:"small",type:"text",disabled:!t.chartsMapData},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),a("template",{slot:"common-table"},[t.showChartsMap?a("mulRelationCharts",{attrs:{chartsMapData:t.chartsMapData}}):a("el-table",{attrs:{height:"100%",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index))+" ")]}}],null,!1,1842277062)}),a("el-table-column",{attrs:{prop:"bfzh",label:"本方账号"}}),a("el-table-column",{attrs:{prop:"jydfmc",label:"本方户名"}}),a("el-table-column",{attrs:{prop:"jydfzh",label:"对方账号"}}),a("el-table-column",{attrs:{prop:"dfmc",label:"对方名称"}}),a("el-table-column",{attrs:{prop:"startTime",label:"起始时间"}}),a("el-table-column",{attrs:{prop:"endTime",label:"结束时间"}}),a("el-table-column",{attrs:{prop:"period",label:"交易时段"}}),a("el-table-column",{attrs:{prop:"totalTransNum",label:"总交易笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row)}}},[t._v(t._s(e.row.totalTransNum))])]}}],null,!1,3891607648)}),a("el-table-column",{attrs:{prop:"totalAmount",label:"总交易金额(万元)"}}),a("el-table-column",{attrs:{prop:"incomeNum",label:"总收入笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row,"贷")}}},[t._v(t._s(e.row.incomeNum))])]}}],null,!1,1481616352)}),a("el-table-column",{attrs:{prop:"incomeAmount",label:"总收入金额(万元)"}}),a("el-table-column",{attrs:{prop:"expendNum",label:"总支出笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row,"借")}}},[t._v(t._s(e.row.expendNum))])]}}],null,!1,2004547337)}),a("el-table-column",{attrs:{prop:"expendAmount",label:"总支出金额(万元)"}}),a("el-table-column",{attrs:{prop:"netIncome",label:"净收入(万元)"}}),a("el-table-column",{attrs:{prop:"relation",label:"办案人员判定关系"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.relations)+" ")]}}],null,!1,4214532200)})],1)],1)],2)},Vs=[],Gs=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},qs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"charts-map-wrapper"},[a("div",{staticClass:"charts-map-content",staticStyle:{height:"100%"},attrs:{id:"baseRelationCharts"}})])}],Ws={name:"mulRelationCharts",data:function(){return{myCharts:null,showSize:10,optionData:[],baseUrl:"/",loading:!1}},props:{chartsMapData:{type:Object,default:function(){}},toolTipFormatOptions:{type:Object,default:function(){return{bfzh:"本方账号",bfhm:"本方户名",jydfzh:"对方账号",dfmc:"对方户名",totalTransNum:"总交易笔数",totalAmount:"总交易金额(万元)",incomeAmount:"总收入金额(万元)",expendAmount:"总支出金额(万元)",netIncome:"净收入(万元)"}}}},watch:{chartsMapData:{deep:!0,handler:function(){this.renderEcharts()}}},mounted:function(){this.renderEcharts()},methods:{renderEcharts:function(){var t=this,e=this.$echarts.init(document.getElementById("baseRelationCharts")),a=this.chartsMapData.nodes&&this.$deepClone(this.chartsMapData).nodes.map((function(t){return{name:t.account,username:t.name,category:t.bf}})),s=this.chartsMapData.links&&this.$deepClone(this.chartsMapData).links.map((function(t){return t.source=t.bfzh,t.target=t.jydfzh,t})),n="image://"+Ss.a;a.forEach((function(t){t.symbol=n,t.symbolSize=25})),s.forEach((function(e){console.log(e),t.$set(e,"lineStyle",{}),1===e.color&&(e.lineStyle.color="#0099ff"),1===e.arrowType?(e.symbol=["","arrow"],e.edgeSymbolSize=[10,10]):2===e.arrowType&&(e.symbol=["arrow","arrow"],e.edgeSymbolSize=[10,10])}));var r={legend:{x:"center",show:!1,data:[{name:1},{name:2}]},tooltip:{trigger:"item",formatter:function(e){if("node"===e.dataType){var a=e.data.username?"<div>姓名 : "+e.data.username+"</div>":"",s=e.data.name?"<div>账号 : "+e.data.name+"</div>":"";return a+s}if("edge"===e.dataType){var n="";for(var r in t.toolTipFormatOptions)n+=t.toolTipFormatOptions[r]+" : "+(e.data[r]?"<span>"+e.data[r]+"</span><br>":"<br>");return n}}},toolbox:{feature:{saveAsImage:{type:"png"}}},series:{type:"graph",layout:"force",draggable:!0,roam:!0,zoom:5,focusNodeAdjacency:!0,edgeSymbol:["",""],edgeSymbolSize:[10,10],force:{repulsion:100},lineStyle:{width:3,curveness:.1},data:a,links:s,categories:[{name:0},{name:1},{name:2}],emphasis:{focus:"adjacency",lineStyle:{},label:{show:!0,color:"#000",position:"bottom"}}}};e.setOption(r),e.resize(),window.onresize=function(){e.resize()},this.myChart=e}}},Us=Ws,Ks=Object(c["a"])(Us,Gs,qs,!1,null,"b5357700",null),Hs=Ks.exports,Ys={name:"mutualTraderAnalysis",mixins:[gs],components:{MulRelationCharts:Hs},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},TRANSACTION_SELECT:function(){return this.$store.state.bill.TRANSACTION_SELECT},BORROW_OR_LEND_SELECT:function(){return this.$store.state.bill.BORROW_OR_LEND_SELECT}},data:function(){return{optionMap:{total:0,dateType:0,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:null}},methods:{getData:function(t){var e=this;return Object(Pt["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.list&&0!==t.list.length){a.next=2;break}return a.abrupt("return");case 2:return e.params=t,a.next=5,ws(t);case 5:return s=a.sent,s.success?(e.tableData=s.data.records,e.optionMap.total=s.data.total,e.optionMap.currentPageNo=s.data.current,e.optionMap.pageSize=s.data.size):(e.$message.error(s.msg),e.tableData=[]),a.next=9,Ms(t);case 9:if(n=a.sent,!n.success){a.next=17;break}if(e.chartsMapData=Object.keys(n.data).length?n.data:null,e.chartsMapData){a.next=14;break}return a.abrupt("return");case 14:n.data.nodes&&n.data.nodes.forEach((function(t){if(2===t.target){var e=t.bfzh;t.bfzh=t.jydfzh,t.jydfzh=e;var a=t.bfhm;t.bfhm=t.dfmc,t.dfmc=a}})),a.next=19;break;case 17:e.$message.error(n.msg),e.chartsMapData=null;case 19:case"end":return a.stop()}}),a)})))()},exportReport:function(){var t=this;0!==this.tableData.length&&Ts(this.params).then((function(e){t.$fileStreamDownload(e)}))},showDetail:function(t,e){var a={};for(var s in this.params)a[s]=this.params[s];a.bfzh=t.bfzh,a.jydfzh=t.jydfzh,a.searchBeginTime=t.startTime,a.searchEndTime=t.endTime,e&&(a.jdbz=this.BORROW_OR_LEND_SELECT.find((function(t){return t.label===e})).value),this.$dataDetailDialog.show(a)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?this.selectAccountList.length<1?this.$message.error("至少选择两个账号进行分析"):(this.optionMap.jyzh=this.selectAccountList.map((function(t){return t.label.replace(/[^\d]/g,"")})),this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},Xs=Ys,Js=(a("904d"),Object(c["a"])(Xs,Fs,Vs,!1,null,"65477746",null)),Zs=Js.exports,Qs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("对方账号：")]),a("div",{staticClass:"search-value"},[a("el-input",{attrs:{size:"small",placeholder:"请填写"},model:{value:t.optionMap.jydfzh,callback:function(e){t.$set(t.optionMap,"jydfzh",e)},expression:"optionMap.jydfzh"}})],1)])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("总交易笔数：")]),a("div",{staticClass:"search-value"},[a("el-select",{attrs:{size:"small"},model:{value:t.optionMap.count,callback:function(e){t.$set(t.optionMap,"count",e)},expression:"optionMap.count"}},t._l(t.TRANSACTION_SELECT,(function(e,s){return a("el-option",{key:t.commonTableRefName+"_"+e.label+"_"+e.value+"_"+s,attrs:{label:e.label,value:e.value}})})),1)],1)])]),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("总交易金额(万元)：")]),a("div",{staticClass:"search-value"},[a("VCountNumPick",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("取消")])],1)])])],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("联系时段：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])]),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-value"},[a("el-radio",{attrs:{label:0},model:{value:t.optionMap.dateType,callback:function(e){t.$set(t.optionMap,"dateType",e)},expression:"optionMap.dateType"}},[t._v("全部")]),a("el-radio",{attrs:{label:1},model:{value:t.optionMap.dateType,callback:function(e){t.$set(t.optionMap,"dateType",e)},expression:"optionMap.dateType"}},[t._v("工作日")]),a("el-radio",{attrs:{label:2},model:{value:t.optionMap.dateType,callback:function(e){t.$set(t.optionMap,"dateType",e)},expression:"optionMap.dateType"}},[t._v("非工作日")])],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v("交易时段分析")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.exportReport}},[t._v("导出")]),a("el-button",{attrs:{size:"small",type:"text",disabled:0===t.chartsMapData.length},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),a("template",{slot:"common-table"},[t.showChartsMap?a("baseRelationCharts",{attrs:{chartsMapData:t.chartsMapData}}):a("el-table",{attrs:{height:"100%",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index))+" ")]}}],null,!1,1842277062)}),a("el-table-column",{attrs:{prop:"bfzh",label:"本方账号"}}),a("el-table-column",{attrs:{prop:"jydfmc",label:"本方户名"}}),a("el-table-column",{attrs:{prop:"jydfzh",label:"对方账号"}}),a("el-table-column",{attrs:{prop:"dfmc",label:"对方名称"}}),a("el-table-column",{attrs:{prop:"startTime",label:"起始时间"}}),a("el-table-column",{attrs:{prop:"endTime",label:"结束时间"}}),a("el-table-column",{attrs:{prop:"period",label:"交易时段"}}),a("el-table-column",{attrs:{prop:"totalTransNum",label:"总交易笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row)}}},[t._v(t._s(e.row.totalTransNum))])]}}],null,!1,3891607648)}),a("el-table-column",{attrs:{prop:"totalAmount",label:"总交易金额(万元)"}}),a("el-table-column",{attrs:{prop:"incomeNum",label:"总收入笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row,"贷")}}},[t._v(t._s(e.row.incomeNum))])]}}],null,!1,1481616352)}),a("el-table-column",{attrs:{prop:"incomeAmount",label:"总收入金额(万元)"}}),a("el-table-column",{attrs:{prop:"expendNum",label:"总支出笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row,"借")}}},[t._v(t._s(e.row.expendNum))])]}}],null,!1,2004547337)}),a("el-table-column",{attrs:{prop:"expendAmount",label:"总支出金额(万元)"}}),a("el-table-column",{attrs:{prop:"netIncome",label:"净收入(万元)"}}),a("el-table-column",{attrs:{prop:"relation",label:"办案人员判定关系"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.relations)+" ")]}}],null,!1,4214532200)})],1)],1)],2)},tn=[],en={name:"tradingPeriodAnalysis",mixins:[gs],components:{baseRelationCharts:As},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},TRANSACTION_SELECT:function(){return this.$store.state.bill.TRANSACTION_SELECT},BORROW_OR_LEND_SELECT:function(){return this.$store.state.bill.BORROW_OR_LEND_SELECT}},data:function(){return{optionMap:{total:0,jydfzh:"",dateType:0,count:"",min:void 0,max:void 0,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:[]}},methods:{exportReport:function(){var t=this;0!==this.tableData.length&&ys(this.params).then((function(e){t.$fileStreamDownload(e)}))},getData:function(t){var e=this;return Object(Pt["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.list&&0!==t.list.length){a.next=2;break}return a.abrupt("return");case 2:return e.params=e.$deepClone(t),e.params.jydfzh||(e.params.jydfzh=void 0),a.next=6,vs(e.params);case 6:return s=a.sent,s.success?(e.tableData=s.data.records,e.optionMap.total=s.data.total,e.optionMap.currentPageNo=s.data.current,e.optionMap.pageSize=s.data.size):(e.$message.error(s.msg),e.tableData=[]),a.next=10,Cs(e.params);case 10:n=a.sent,n.success?e.chartsMapData=n.data:(e.$message.error(n.msg),e.chartsMapData=[]);case 12:case"end":return a.stop()}}),a)})))()},showDetail:function(t,e){var a={};for(var s in this.params)a[s]=this.params[s];a.bfzh=t.bfzh,a.jydfzh=t.jydfzh,a.searchBeginTime=t.startTime,a.searchEndTime=t.endTime,e&&(a.jdbz=this.BORROW_OR_LEND_SELECT.find((function(t){return t.label===e})).value),this.$dataDetailDialog.show(a)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?(this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},an=en,sn=(a("1ee7"),Object(c["a"])(an,Qs,tn,!1,null,"db0d38f4",null)),nn=sn.exports,rn={name:"intimacyAnalysis",components:{selectTree:bt,jointTradersAnalysis:Bs,mutualTraderAnalysis:Zs,tradingPeriodAnalysis:nn},data:function(){return{activeName:"1",selectTreeData:[],componentsMap:{1:"tradingPeriodAnalysis",2:"mutualTraderAnalysis",3:"jointTradersAnalysis"},activeComponent:"1"}},methods:{handleClick:function(){this.activeComponent=this.activeName},handleChange:function(t){this.selectTreeData=t,this.activeComponent=this.activeName}}},on=rn,ln=(a("155c"),Object(c["a"])(on,ms,ds,!1,null,"fe0bd9ce",null)),cn=ln.exports,un=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-analysis-wrapper"},[a("div",{staticClass:"data-tree-side"},[a("selectTree",{ref:"selectTree",on:{handleChange:t.handleChange}})],1),a("div",{staticClass:"data-table-side"},[a("div",{staticClass:"default-tabs-wrapper"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"账单标记",name:"1"}}),a("el-tab-pane",{attrs:{label:"资金流向分析",name:"2"}})],1)],1),a("div",{staticClass:"table-wrapper"},[a(t.componentsMap[t.activeComponent],{tag:"component",attrs:{tabType:t.activeName,selectTreeData:t.selectTreeData}})],1)])])},pn=[],hn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{fixTable:"",optionMap:t.optionMap,name:"contact-count-table-loading"},on:{request:t.getBillPageList}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("对方账号：")]),a("div",{staticClass:"search-value"},[a("el-input",{attrs:{size:"small",placeholder:"请填写"},model:{value:t.optionMap.jydfzh,callback:function(e){t.$set(t.optionMap,"jydfzh",e)},expression:"optionMap.jydfzh"}})],1)])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("借贷标志：")]),a("div",{staticClass:"search-value"},[a("el-select",{attrs:{size:"small"},model:{value:t.optionMap.jdbz,callback:function(e){t.$set(t.optionMap,"jdbz",e)},expression:"optionMap.jdbz"}},t._l(t.BORROW_OR_LEND_SELECT,(function(e,s){return a("el-option",{key:t.commonTableRefName+"_"+e.label+"_"+e.value+"_"+s,attrs:{label:e.label,value:e.value}})})),1)],1)])]),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易金额(万元)：")]),a("div",{staticClass:"search-value"},[a("VCountNumPick",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("取消")])],1)])])],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易时间：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v("账单标记")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.showSetRemarkDialog}},[t._v("标记")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.exportReport}},[t._v("导出")])],1)]),a("template",{slot:"common-table"},[a("dataTable",{attrs:{fixed:"",tableData:t.tableData},on:{checkTable:t.checkTable,toBillBack:t.toBillBack}}),a("dataTracingDialog",{ref:"dataTracingDialog",attrs:{remarkDep:t.remarkDep}}),a("setRemarkDialog",{ref:"setRemarkDialog1",attrs:{checkList:t.checkList},on:{search:t.search}})],1)],2)},mn=[],dn={data:function(){return{commonTableRefName:this.$vnode.tag,currentCaseId:this.$storage.get("data-analysis-current-case"),showChartsMap:!1}},props:{selectTreeData:{type:Array,default:function(){return[]}}},computed:{selectAccountList:function(){return this.selectTreeData.filter((function(t){return 3===t.sign}))},selectCardList:function(){return this.selectTreeData.filter((function(t){return 4===t.sign}))},selectBillList:function(){return this.selectTreeData.filter((function(t){return 5===t.sign}))},switchBtnName:function(){return this.showChartsMap?"列表展示":"图形展示"}}},fn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"数据详情","append-to-body":"",top:"7vh",width:"calc(100% - 20px)",visible:t.visible,"before-close":t.handleClose,"custom-class":"detail-table-dialog data-tracing-dialog",name:"data-detail-loading"},on:{"update:visible":function(e){t.visible=e}}},[a("div",{staticClass:"multi-common-page-wrapper"},[t.visible?a("VCommonSearchTablePage",{ref:"dataTracingCommonTable",attrs:{isContain:"",optionMap:t.optionMap,name:"contact-count-table-loading"},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易时间：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("取消")])],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v("账单数据列表")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.showSetRemarkDialog}},[t._v("标记")]),a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("导出")])],1)]),a("template",{slot:"common-table"},[a("dataTable",{attrs:{tableData:t.tableData},on:{checkTable:t.checkTable,toBillBack:t.toBillBack}}),a("dataTracingDialog",{ref:"dataTracingDialog"})],1)],2):t._e(),a("dataTracingDialog",{ref:t.refName,attrs:{remarkDep:t.remarkDep}}),a("setRemarkDialog",{ref:"setRemarkDialog2",attrs:{checkList:t.checkList},on:{search:t.search}})],1),a("div",{attrs:{slot:"footer",align:"center"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.handleClose}},[t._v("关闭")])],1)])},bn=[],gn=(a("25f0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{attrs:{height:"100%","empty-text":"暂无数据","cell-class-name":t.rowClassName,data:t.tableData},on:{"selection-change":t.selectionChange}},[a("el-table-column",{attrs:{fixed:t.fixed,align:"center",type:"selection",width:"50"}}),a("el-table-column",{attrs:{fixed:t.fixed,"min-width":"100",prop:"bfkh",label:"本方卡号"}}),a("el-table-column",{attrs:{fixed:t.fixed,prop:"bfzh","min-width":"100",label:"本方账号"}}),a("el-table-column",{attrs:{fixed:t.fixed,prop:"bfhm","min-width":"100",label:"本方户名"}}),a("el-table-column",{attrs:{prop:"bfkhh","min-width":"120",label:"本方开户银行"}}),a("el-table-column",{attrs:{prop:"jysj","min-width":"100",label:"交易时间"}}),a("el-table-column",{attrs:{prop:"jyje","min-width":"120",label:"交易金额(元)"}}),a("el-table-column",{attrs:{prop:"jyye","min-width":"120",label:"交易余额(元)"}}),a("el-table-column",{attrs:{prop:"biz","min-width":"100",label:"币种"}}),a("el-table-column",{attrs:{prop:"jdbz","min-width":"100",label:"借贷标志"}}),a("el-table-column",{attrs:{prop:"jydfzh","min-width":"100",label:"对方账号"},scopedSlots:t._u([{key:"default",fn:function(e){return["是"===e.row.bill?a("span",{staticClass:"table-text-btn",on:{click:function(a){return t.$emit("toBillBack",e.row)}}},[t._v(t._s(e.row.jydfzh))]):a("span",[t._v(t._s(e.row.jydfzh))])]}}])}),a("el-table-column",{attrs:{prop:"jydfkh","min-width":"100",label:"对方卡号"}}),a("el-table-column",{attrs:{prop:"jydfmc","min-width":"100",label:"对方名称"}}),a("el-table-column",{attrs:{prop:"jydfzhkhh","min-width":"100",label:"对方开户行"}}),a("el-table-column",{attrs:{prop:"jywdmc","min-width":"100",label:"交易网点"}}),a("el-table-column",{attrs:{prop:"jyzy","min-width":"100",label:"交易摘要"}}),a("el-table-column",{attrs:{prop:"bz","min-width":"100",label:"备注"}}),a("el-table-column",{attrs:{prop:"bill","min-width":"100",label:"是否调单"}}),a("el-table-column",{attrs:{prop:"remark","min-width":"100",label:"标记"}})],1)}),vn=[],Cn={name:"dataTable",props:{fixed:{type:Boolean,default:!1},tableData:{type:Array,default:function(){return[]}}},methods:{selectionChange:function(t){this.$emit("checkTable",t)},rowClassName:function(t){var e=t.row;return e.position?"position-row":""}}},yn=Cn,wn=(a("825f"),Object(c["a"])(yn,gn,vn,!1,null,"6bd8f890",null)),Mn=wn.exports,Tn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{"append-to-body":"",title:"标记",width:"400px",visible:t.visible,"before-close":t.handleClose},on:{"update:visible":function(e){t.visible=e}}},[a("div",[a("el-input",{attrs:{type:"textarea"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1),a("div",{attrs:{slot:"footer",align:"center"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.submitForm}},[t._v("确认")]),a("el-button",{attrs:{size:"small"}},[t._v("关闭")])],1)])},_n=[],Dn={name:"setRemarkDialog",props:{checkList:{type:Array,default:function(){return[]}}},data:function(){return{visible:!1,remark:""}},methods:{show:function(){this.visible=!0},setRemark:function(){var t=this,e={ids:this.checkList.map((function(t){return t.id})),remark:this.remark};Tt(e).then((function(e){e.success?(t.$message.success(e.msg||"标记成功"),t.handleClose(),t.$emit("search",!1)):t.$message.error(e.msg||"标记失败")}))},submitForm:function(){this.remark?this.setRemark():this.handleClose()},handleClose:function(t){t instanceof Function&&t(),this.visible=!1,this.remark=""}}},kn=Dn,xn=Object(c["a"])(kn,Tn,_n,!1,null,"1b416be4",null),jn=xn.exports,zn={name:"dataTracingDialog",components:{dataTable:Mn,setRemarkDialog:jn},props:{remarkDep:{type:Array,default:function(){return[]}}},computed:{BORROW_OR_LEND_SELECT:function(){return this.$store.state.bill.BORROW_OR_LEND_SELECT}},data:function(){return{visible:!1,num:0,refName:this.$vnode.tag,caseId:this.$storage.get("data-analysis-current-case"),optionMap:{total:0,currentPageNo:0,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],checkList:[]}},methods:{toBillBack:function(t){t.position||this.$refs[this.refName].show(t)},show:function(t){this.remarkDep.length>2?this.$message.warning("考虑到性能问题，暂只支持三级追溯"):(this.refName=this.$vnode.tag+"_"+Math.random().toString(32).slice(2),this.visible=!0,console.log(this.refName,t,this),this.optionMap.caseId=this.caseId,this.optionMap.bfzh=t.jydfzh,this.optionMap.jydfzh=t.bfzh,this.optionMap.jyje=t.jyje,this.optionMap.jysj=t.jysj,this.optionMap.jdbz=this.BORROW_OR_LEND_SELECT.find((function(e){return e.label===t.jdbz})).value,this.remarkDep.push(this))},checkTable:function(t){this.checkList=t},showSetRemarkDialog:function(){0!==this.checkList.length?this.$refs.setRemarkDialog2.show():this.$message.warning("请勾选需要标记的数据")},getData:function(t){var e=this;Mt(t).then((function(t){t.success?(e.tableData=t.data.records,e.optionMap.total=t.data.total,e.optionMap.currentPageNo=t.data.current,e.optionMap.pageSize=t.data.size):(e.$message.error(t.msg),e.tableData=[])}))},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.dataTracingCommonTable.search(t)},refreshSearch:function(){this.$refs.dataTracingCommonTable.refreshSearch()},handleClose:function(t){var e=this;t instanceof Function&&t(),this.visible=!1,this.optionMap.currentPageNo=0,this.optionMap.pageSize=10,this.optionMap.total=0,this.optionMap.searchBeginTime="",this.optionMap.searchEndTime="",this.tableData=[];var a=this.remarkDep.findIndex((function(t){return t._uid===e._uid}));this.remarkDep.splice(a,1)}}},Sn=zn,$n=(a("f085"),Object(c["a"])(Sn,fn,bn,!1,null,"ca4cf060",null)),Nn=$n.exports,On={name:"billSignListTable",mixins:[dn],components:{dataTracingDialog:Nn,dataTable:Mn,setRemarkDialog:jn},data:function(){return{optionMap:{total:0,jydfzh:"",jdbz:"",min:void 0,max:void 0,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],checkList:[],remarkDep:[],params:{}}},computed:{BORROW_OR_LEND_SELECT:function(){return this.$store.state.bill.BORROW_OR_LEND_SELECT}},mounted:function(){console.log(this.commonTableRefName,"this"),console.log(this.$refs[this.commonTableRefName],"this")},methods:{getBillPageList:function(t){var e=this;t.list&&0!==t.list.length&&(this.params=this.$deepClone(t),this.params.jydfzh||(this.params.jydfzh=void 0),wt(this.params).then((function(t){t.success?(e.tableData=t.data.records,e.optionMap.total=t.data.total,e.optionMap.currentPageNo=t.data.current,e.optionMap.pageSize=t.data.size):(e.$message.error(t.msg),e.tableData=[])})))},toBillBack:function(t){this.$refs.dataTracingDialog.show(t)},checkTable:function(t){this.checkList=t},showSetRemarkDialog:function(){0!==this.checkList.length?this.$refs.setRemarkDialog1.show():this.$message.warning("请勾选需要标记的数据")},exportReport:function(){var t=this,e=Object(m["a"])(Object(m["a"])({},this.params),{},{tabType:this.$options.name});0!==this.tableData.length&&jt(e).then((function(e){t.$fileStreamDownload(e)}))},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?(this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},Rn=On,En=(a("9030"),Object(c["a"])(Rn,hn,mn,!1,null,"48bf6818",null)),An=En.exports,Ln=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{fixTable:"",optionMap:t.optionMap,name:"contact-count-table-loading"},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("标记信息：")]),a("div",{staticClass:"search-value"},[a("el-input",{attrs:{size:"small",placeholder:"请填写"},model:{value:t.optionMap.sign,callback:function(e){t.$set(t.optionMap,"sign",e)},expression:"optionMap.sign"}})],1)])]),a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易时间：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])]),a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("取消")])],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v("资金流向分析")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.exportReport}},[t._v("导出")]),a("el-button",{attrs:{size:"small",type:"text",disabled:0===t.chartsMapData.length},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),a("template",{slot:"common-table"},[t.showChartsMap?a("capitalFlowCharts",{attrs:{chartsMapData:t.chartsMapData}}):a("el-table",{attrs:{height:"100%","empty-text":"暂无数据",data:t.tableData}},[a("el-table-column",{attrs:{fixed:"",type:"index",label:"序号",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index)))]}}],null,!1,2933862790)}),a("el-table-column",{attrs:{fixed:"","min-width":"100",prop:"bfkh",label:"本方卡号"}}),a("el-table-column",{attrs:{fixed:"",prop:"bfzh","min-width":"100",label:"本方账号"}}),a("el-table-column",{attrs:{fixed:"",prop:"bfhm","min-width":"100",label:"本方户名"}}),a("el-table-column",{attrs:{prop:"bfkhh","min-width":"120",label:"本方开户银行"}}),a("el-table-column",{attrs:{prop:"jysj","min-width":"100",label:"交易时间"}}),a("el-table-column",{attrs:{prop:"jyje","min-width":"120",label:"交易金额(元)"}}),a("el-table-column",{attrs:{prop:"jyye","min-width":"120",label:"交易余额(元)"}}),a("el-table-column",{attrs:{prop:"biz","min-width":"100",label:"币种"}}),a("el-table-column",{attrs:{prop:"jdbz","min-width":"100",label:"借贷标志"}}),a("el-table-column",{attrs:{prop:"jydfzh","min-width":"100",label:"对方账号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.jydfzh))])]}}],null,!1,2929602469)}),a("el-table-column",{attrs:{prop:"jydfkh","min-width":"100",label:"对方卡号"}}),a("el-table-column",{attrs:{prop:"jydfmc","min-width":"100",label:"对方名称"}}),a("el-table-column",{attrs:{prop:"jydfzhkhh","min-width":"100",label:"对方开户行"}}),a("el-table-column",{attrs:{prop:"jywdmc","min-width":"100",label:"交易网点"}}),a("el-table-column",{attrs:{prop:"jyzy","min-width":"100",label:"交易摘要"}}),a("el-table-column",{attrs:{prop:"bz","min-width":"100",label:"备注"}}),a("el-table-column",{attrs:{prop:"remark","min-width":"100",label:"标记"}})],1)],1)],2)},Pn=[],In=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"charts-map-wrapper"},[a("div",{staticClass:"search-chart-map-header"},[a("div",{staticClass:"label"},[t._v(" 本方账号 ")]),a("div",{staticClass:"value"},[a("el-select",{attrs:{size:"small"},model:{value:t.currentRemark,callback:function(e){t.currentRemark=e},expression:"currentRemark"}},t._l(t.chartsMapData,(function(t){return a("el-option",{key:"currentRemark_"+t.remark,attrs:{value:t.remark,label:t.remark}})})),1)],1)]),a("div",{staticClass:"charts-map-content",attrs:{id:"capitalFlowCharts"}},[t._v("capitalFlowCharts")])])},Bn=[],Fn={name:"capitalFlowCharts",data:function(){return{myCharts:null,currentRemark:""}},props:{chartsMapData:{type:Array,default:function(){return[]}},toolTipFormatOptions:{type:Object,default:function(){return{totalTransNum:"交易笔数",totalAmount:"交易金额(万元)",timeRange:"交易时间"}}}},computed:{optionData:function(){var t=this;return this.chartsMapData.length?this.chartsMapData.find((function(e){return e.remark===t.currentRemark})).data:[]}},watch:{currentRemark:function(){var t=this;console.log(this),this.$nextTick((function(){t.renderEcharts()}))},chartsMapData:{deep:!0,handler:function(){this.renderEcharts()}}},mounted:function(){this.currentRemark=this.chartsMapData.length&&this.chartsMapData[0].remark,this.renderEcharts()},methods:{renderEcharts:function(){var t=this,e=this.$echarts.init(document.getElementById("capitalFlowCharts")),a=this.optionData.nodes&&this.optionData.nodes.map((function(t){return{name:t.account,username:t.name,category:t.bf}})),s=this.optionData.links&&this.optionData.links.map((function(t){return t.source=t.bfzh,t.target=t.jydfzh,t.timeRange=t.startTime+"~"+t.endTime,t})),n="image://"+Ss.a;a.forEach((function(t){t.symbol=n,t.symbolSize=20}));var r={legend:{x:"center",show:!1,data:[{name:1},{name:2}]},tooltip:{trigger:"item",formatter:function(e){if("node"===e.dataType){var a=e.data.username?"<div>姓名 : "+e.data.username+"</div>":"",s=e.data.name?"<div>账号 : "+e.data.name+"</div>":"";return a+s}if("edge"===e.dataType){var n="";for(var r in t.toolTipFormatOptions)n+=t.toolTipFormatOptions[r]+" : "+(e.data[r]?"<span>"+e.data[r]+"</span><br>":"<br>");return n}}},toolbox:{feature:{saveAsImage:{type:"png",name:"互相通话分析"}}},series:[{type:"graph",layout:"force",draggable:!0,roam:!0,zoom:3,focusNodeAdjacency:!0,edgeSymbol:["circle","arrow"],edgeSymbolSize:[0,10],lineStyle:{curveness:.1,color:"#0099ff"},data:a,links:s,categories:[{name:0},{name:1},{name:2}],emphasis:{focus:"adjacency",lineStyle:{width:2},label:{show:!0,color:"#000",position:"bottom"}}}]};e.setOption(r),window.onresize=function(){e.resize()}}}},Vn=Fn,Gn=(a("9e77"),Object(c["a"])(Vn,In,Bn,!1,null,"24ca8bff",null)),qn=Gn.exports,Wn={name:"capitalFlowTable",mixins:[dn],components:{capitalFlowCharts:qn},data:function(){return{optionMap:{total:0,sign:"",currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:[]}},computed:{BORROW_OR_LEND_SELECT:function(){return this.$store.state.bill.BORROW_OR_LEND_SELECT}},mounted:function(){console.log(this.commonTableRefName,"this"),console.log(this.$refs[this.commonTableRefName],"this")},methods:{exportReport:function(){var t=this;0!==this.tableData.length&&$t(this.params).then((function(e){t.$fileStreamDownload(e)}))},getData:function(t){var e=this;return Object(Pt["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.list&&0!==t.list.length){a.next=2;break}return a.abrupt("return");case 2:return e.params=t,a.next=5,zt(t);case 5:return s=a.sent,s.success?(e.tableData=s.data.records,e.optionMap.total=s.data.total,e.optionMap.currentPageNo=s.data.current,e.optionMap.pageSize=s.data.size):(e.$message.error(s.msg),e.tableData=[]),a.next=9,St(t);case 9:n=a.sent,n.success?e.chartsMapData=n.data:(e.$message.error(n.msg),e.chartsMapData=[]);case 11:case"end":return a.stop()}}),a)})))()},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?(this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap}}},Un=Wn,Kn=(a("9e13"),Object(c["a"])(Un,Ln,Pn,!1,null,"ef8c123c",null)),Hn=Kn.exports,Yn={name:"capitalFlowAnalysis",components:{selectTree:bt,billSignListTable:An,capitalFlowTable:Hn},data:function(){return{activeName:"1",selectTreeData:[],componentsMap:{1:"billSignListTable",2:"capitalFlowTable"},activeComponent:"1"}},methods:{handleClick:function(){this.activeComponent=this.activeName},handleChange:function(t){this.selectTreeData=t,this.activeComponent=this.activeName}}},Xn=Yn,Jn=(a("7f3f"),Object(c["a"])(Xn,un,pn,!1,null,"65f4ac3d",null)),Zn=Jn.exports,Qn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-analysis-wrapper"},[a("div",{staticClass:"data-tree-side"},[a("selectTree",{ref:"selectTree",on:{handleChange:t.handleChange}})],1),a("div",{staticClass:"data-table-side"},[a("div",{staticClass:"default-tabs-wrapper"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"短时间多次转账",name:"1"}}),a("el-tab-pane",{attrs:{label:"短时间多次提款",name:"2"}}),a("el-tab-pane",{attrs:{label:"短时间多次存款",name:"3"}})],1)],1),a("div",{staticClass:"table-wrapper"},[a(t.componentsMap[t.activeComponent],{tag:"component",attrs:{tabType:t.componentsMap[t.activeComponent].name,selectTreeData:t.selectTreeData}})],1)])])},tr=[],er=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("多次转账次数不少于：")]),a("div",{staticClass:"search-value"},[a("el-input-number",{attrs:{"controls-position":"right",min:0,size:"small"},model:{value:t.optionMap.count,callback:function(e){t.$set(t.optionMap,"count",e)},expression:"optionMap.count"}})],1)])]),a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("连续转账时间间隔（h）：")]),a("div",{staticClass:"search-value"},[a("el-input-number",{attrs:{"controls-position":"right",min:0,size:"small"},model:{value:t.optionMap.timeInterval,callback:function(e){t.$set(t.optionMap,"timeInterval",e)},expression:"optionMap.timeInterval"}})],1)])]),a("el-col",{attrs:{span:10}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("重置")])],1)])])],1),a("el-row",[a("el-col",{attrs:{span:9}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易时间：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v("短时间多次转账")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.downloadResult}},[t._v("导出")]),a("el-button",{attrs:{size:"small",type:"text",disabled:0===t.chartsMapData.length},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),a("template",{slot:"common-table"},[t.showChartsMap?a("PublicCharts",{attrs:{echartsGlag:t.echartsGlag,downloadChartsName:t.downloadChartsName,chartsMapData:t.chartsMapData,seriesOption:[{name:"总交易额(万元)",type:"bar",stack:"1",barMaxWidth:"100",dataKey:"transactionAmount"},{name:"总收入笔数",type:"line",stack:"2",dataKey:"count"}],dataOption:{bfzh:"本方账号：",bfhm:"本方户名：",startTime:"开始时间：",endTime:"结束时间：",count:"交易笔数：",transactionAmount:"总交易金额 (万元) ："}}}):a("el-table",{attrs:{height:"100%",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index)))]}}],null,!1,282622886)}),a("el-table-column",{attrs:{prop:"bfzh",label:"本方账号"}}),a("el-table-column",{attrs:{prop:"bfhm",label:"本方户名"}}),a("el-table-column",{attrs:{prop:"startTime",label:"起始时间"}}),a("el-table-column",{attrs:{prop:"endTime",label:"结束时间"}}),a("el-table-column",{attrs:{prop:"count",label:"总交易笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row)}}},[t._v(t._s(e.row.count))])]}}],null,!1,4101944237)}),a("el-table-column",{attrs:{prop:"transactionAmount",label:"总交易金额(万元)"}}),a("el-table-column",{attrs:{prop:"revenueAmount",label:"总收入金额(万元)"}}),a("el-table-column",{attrs:{prop:"expenditureAmount",label:"总支出金额(万元)"}}),a("el-table-column",{attrs:{prop:"netIncome",label:"净收入(万元)"}})],1)],1)],2)},ar=[],sr=function(t){return Object(g["a"])({method:"post",url:"/suspicious-point/transferAccounts",data:t,loading:!0})},nr=function(t){return Object(g["a"])({method:"post",url:"/suspicious-point/transferAccountsChart",data:t,loading:!0})},rr=function(t){return Object(g["a"])({method:"post",url:"/suspicious-point/suspiciousPointExport",data:t,responseType:"blob"})},or={data:function(){return{commonTableRefName:this.$vnode.tag,currentCaseId:this.$storage.get("data-analysis-current-case"),showChartsMap:!1}},props:{selectTreeData:{type:Array,default:function(){return[]}},tabType:{type:String}},computed:{selectAccountList:function(){return this.selectTreeData.filter((function(t){return 3===t.sign}))},selectCardList:function(){return this.selectTreeData.filter((function(t){return 4===t.sign}))},selectBillList:function(){return this.selectTreeData.filter((function(t){return 5===t.sign}))},selectCaseList:function(){return this.selectTreeData.filter((function(t){return 2===t.sign}))},switchBtnName:function(){return this.showChartsMap?"列表展示":"图形展示"}},methods:{downloadResult:function(){this.featureAnalysisExportOperation()},featureAnalysisExportOperation:function(){var t=this,e=this.$deepClone(this.params);0!==this.tableData.length&&(Reflect.deleteProperty(e,"pageNo"),Reflect.deleteProperty(e,"pageSize"),Reflect.deleteProperty(e,"tabType"),e.tabType=this.tabType,rr(e).then((function(e){t.$fileStreamDownload(e)})))}}},lr={name:"shortTimeMultipleTransfersListTable",mixins:[or],components:{PublicCharts:ya},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},TRANSACTION_SELECT:function(){return this.$store.state.bill.TRANSACTION_SELECT}},data:function(){return{optionMap:{count:3,timeInterval:2,total:0,min:void 0,max:void 0,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:"",tabType:this.$options.name},tableData:[],params:{},chartsMapData:[],echartsGlag:!1,downloadChartsName:"短时间多次转账"}},methods:{getData:function(t){var e=this;return Object(Pt["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.list&&0!==t.list.length){a.next=2;break}return a.abrupt("return");case 2:return e.params=t,a.next=5,sr(t);case 5:return s=a.sent,s.success?(e.tableData=s.data.records,e.optionMap.total=s.data.total,e.optionMap.currentPageNo=s.data.current,e.optionMap.pageSize=s.data.size):(e.$message.error(s.msg),e.tableData=[]),a.next=9,nr(t);case 9:n=a.sent,n.success?e.chartsMapData=n.data:(e.$message.error(n.msg),e.tableData=[]);case 11:case"end":return a.stop()}}),a)})))()},showDetail:function(t){var e={};for(var a in this.params)e[a]=this.params[a];e.bfzh=t.bfzh,e.searchBeginTime=t.startTime,e.searchEndTime=t.endTime,this.$dataDetailDialog.show(e)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?(this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},ir=lr,cr=(a("ff1c"),Object(c["a"])(ir,er,ar,!1,null,"74aba897",null)),ur=cr.exports,pr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("多次提款次数不少于：")]),a("div",{staticClass:"search-value"},[a("el-input-number",{attrs:{"controls-position":"right",min:0,size:"small"},model:{value:t.optionMap.count,callback:function(e){t.$set(t.optionMap,"count",e)},expression:"optionMap.count"}})],1)])]),a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("连续提款时间间隔（h）：")]),a("div",{staticClass:"search-value"},[a("el-input-number",{attrs:{"controls-position":"right",min:0,size:"small"},model:{value:t.optionMap.timeInterval,callback:function(e){t.$set(t.optionMap,"timeInterval",e)},expression:"optionMap.timeInterval"}})],1)])]),a("el-col",{attrs:{span:10}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("重置")])],1)])])],1),a("el-row",[a("el-col",{attrs:{span:9}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易时间：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v("短时间多次提款")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.downloadResult}},[t._v("导出")]),a("el-button",{attrs:{size:"small",type:"text",disabled:0===t.chartsMapData.length},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),a("template",{slot:"common-table"},[t.showChartsMap?a("PublicCharts",{attrs:{echartsGlag:t.echartsGlag,downloadChartsName:t.downloadChartsName,chartsMapData:t.chartsMapData,seriesOption:[{name:"总交易额(万元)",type:"bar",stack:"1",barMaxWidth:"100",dataKey:"transactionAmount"},{name:"总收入笔数",type:"line",stack:"2",dataKey:"count"}],dataOption:{bfzh:"本方账号：",bfhm:"本方户名：",startTime:"开始时间：",endTime:"结束时间：",count:"交易笔数：",transactionAmount:"总交易金额 (万元) ："}}}):a("el-table",{attrs:{height:"100%",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index)))]}}],null,!1,282622886)}),a("el-table-column",{attrs:{prop:"bfzh",label:"本方账号"}}),a("el-table-column",{attrs:{prop:"bfhm",label:"本方户名"}}),a("el-table-column",{attrs:{prop:"startTime",label:"起始时间"}}),a("el-table-column",{attrs:{prop:"endTime",label:"结束时间"}}),a("el-table-column",{attrs:{prop:"count",label:"总提款笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row)}}},[t._v(t._s(e.row.count))])]}}],null,!1,4101944237)}),a("el-table-column",{attrs:{prop:"transactionAmount",label:"总提款金额(万元)"}})],1)],1)],2)},hr=[],mr={name:"shortTimeMultipleDrawingListTable",mixins:[or],components:{PublicCharts:ya},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},TRANSACTION_SELECT:function(){return this.$store.state.bill.TRANSACTION_SELECT}},data:function(){return{optionMap:{count:3,timeInterval:2,total:0,min:void 0,max:void 0,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:"",tabType:this.$options.name},tableData:[],params:{},chartsMapData:[],echartsGlag:!1}},methods:{getData:function(t){var e=this;return Object(Pt["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.list&&0!==t.list.length){a.next=2;break}return a.abrupt("return");case 2:return e.params=t,a.next=5,sr(t);case 5:return s=a.sent,s.success?(e.tableData=s.data.records,e.optionMap.total=s.data.total,e.optionMap.currentPageNo=s.data.current,e.optionMap.pageSize=s.data.size):(e.$message.error(s.msg),e.tableData=[]),a.next=9,nr(t);case 9:n=a.sent,n.success?e.chartsMapData=n.data:(e.$message.error(n.msg),e.tableData=[]);case 11:case"end":return a.stop()}}),a)})))()},showDetail:function(t){var e={};for(var a in this.params)e[a]=this.params[a];e.bfzh=t.bfzh,e.searchBeginTime=t.startTime,e.searchEndTime=t.endTime,this.$dataDetailDialog.show(e)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?(this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},dr=mr,fr=(a("61c0"),Object(c["a"])(dr,pr,hr,!1,null,"370b4ada",null)),br=fr.exports,gr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("多次存款次数不少于：")]),a("div",{staticClass:"search-value"},[a("el-input-number",{attrs:{"controls-position":"right",min:0,size:"small"},model:{value:t.optionMap.count,callback:function(e){t.$set(t.optionMap,"count",e)},expression:"optionMap.count"}})],1)])]),a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("连续存款时间间隔（h）：")]),a("div",{staticClass:"search-value"},[a("el-input-number",{attrs:{"controls-position":"right",min:0,size:"small"},model:{value:t.optionMap.timeInterval,callback:function(e){t.$set(t.optionMap,"timeInterval",e)},expression:"optionMap.timeInterval"}})],1)])]),a("el-col",{attrs:{span:10}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("重置")])],1)])])],1),a("el-row",[a("el-col",{attrs:{span:9}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易时间：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v("短时间多次存款")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.downloadResult}},[t._v("导出")]),a("el-button",{attrs:{size:"small",type:"text",disabled:0===t.chartsMapData.length},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),a("template",{slot:"common-table"},[t.showChartsMap?a("PublicCharts",{attrs:{echartsGlag:t.echartsGlag,downloadChartsName:t.downloadChartsName,chartsMapData:t.chartsMapData,seriesOption:[{name:"总交易额(万元)",type:"bar",stack:"1",barMaxWidth:"100",dataKey:"transactionAmount"},{name:"总收入笔数",type:"line",stack:"2",dataKey:"count"}],dataOption:{bfzh:"本方账号：",bfhm:"本方户名：",startTime:"开始时间：",endTime:"结束时间：",count:"交易笔数：",transactionAmount:"总交易金额 (万元) ："}}}):a("el-table",{attrs:{height:"100%",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index)))]}}],null,!1,282622886)}),a("el-table-column",{attrs:{prop:"bfzh",label:"本方账号"}}),a("el-table-column",{attrs:{prop:"bfhm",label:"本方户名"}}),a("el-table-column",{attrs:{prop:"startTime",label:"起始时间"}}),a("el-table-column",{attrs:{prop:"endTime",label:"结束时间"}}),a("el-table-column",{attrs:{prop:"count",label:"总存款笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row)}}},[t._v(t._s(e.row.count))])]}}],null,!1,4101944237)}),a("el-table-column",{attrs:{prop:"transactionAmount",label:"总交易金额(万元)"}})],1)],1)],2)},vr=[],Cr={name:"shortTimeMultipleDepositListTable",mixins:[or],components:{PublicCharts:ya},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},TRANSACTION_SELECT:function(){return this.$store.state.bill.TRANSACTION_SELECT}},data:function(){return{optionMap:{count:3,timeInterval:2,total:0,min:void 0,max:void 0,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:"",tabType:this.$options.name},tableData:[],params:{},chartsMapData:[],echartsGlag:!1}},methods:{getData:function(t){var e=this;return Object(Pt["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.list&&0!==t.list.length){a.next=2;break}return a.abrupt("return");case 2:return e.params=t,a.next=5,sr(t);case 5:return s=a.sent,s.success?(e.tableData=s.data.records,e.optionMap.total=s.data.total,e.optionMap.currentPageNo=s.data.current,e.optionMap.pageSize=s.data.size):(e.$message.error(s.msg),e.tableData=[]),a.next=9,nr(t);case 9:n=a.sent,n.success?e.chartsMapData=n.data:(e.$message.error(n.msg),e.tableData=[]);case 11:case"end":return a.stop()}}),a)})))()},showDetail:function(t){var e={};for(var a in this.params)e[a]=this.params[a];e.bfzh=t.bfzh,e.searchBeginTime=t.startTime,e.searchEndTime=t.endTime,this.$dataDetailDialog.show(e)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?(this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},yr=Cr,wr=(a("afdc"),Object(c["a"])(yr,gr,vr,!1,null,"532bfd0e",null)),Mr=wr.exports,Tr={name:"suspiciousAnalysis",components:{selectTree:bt},data:function(){return{activeName:"1",selectTreeData:[],componentsMap:{1:ur,2:br,3:Mr},activeComponent:"1"}},methods:{handleClick:function(t){this.activeComponent=this.activeName},handleChange:function(t){this.selectTreeData=t,this.activeComponent=this.activeName}}},_r=Tr,Dr=(a("99dd"),Object(c["a"])(_r,Qn,tr,!1,null,"0b8ea9cc",null)),kr=Dr.exports,xr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-analysis-wrapper"},[a("div",{staticClass:"data-tree-side"},[a("selectTree",{ref:"selectTree",attrs:{isGroup:""},on:{handleChange:t.handleChange}})],1),a("div",{staticClass:"data-table-side"},[a("div",{staticClass:"default-tabs-wrapper"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"团伙管理",name:"1"}}),a("el-tab-pane",{attrs:{label:"团伙资产统计",name:"2"}}),a("el-tab-pane",{attrs:{label:"团伙收支分析",name:"3"}}),a("el-tab-pane",{attrs:{label:"团伙成员交易分析",name:"4"}})],1)],1),a("div",{staticClass:"table-wrapper"},[a(t.componentsMap[t.activeComponent],{tag:"component",attrs:{tabType:t.activeName,selectTreeData:t.selectTreeData}})],1)])])},jr=[],zr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("团伙名称：")]),a("div",{staticClass:"search-value"},[a("el-input",{attrs:{size:"small"},model:{value:t.optionMap.name,callback:function(e){t.$set(t.optionMap,"name",e)},expression:"optionMap.name"}})],1)])]),a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("创建时间：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("取消")])],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v("团伙管理")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.showAddSetGangDialog()}}},[t._v("创建团伙")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.exportReport}},[t._v("导出")])],1)]),a("template",{slot:"common-table"},[t.showChartsMap?t._e():a("el-table",{attrs:{height:"100%",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index))+" ")]}}],null,!1,1842277062)}),a("el-table-column",{attrs:{prop:"name",label:"团伙名称"}}),a("el-table-column",{attrs:{prop:"remark","show-overflow-tooltip":"",label:"备注"}}),a("el-table-column",{attrs:{prop:"createUser",label:"创建人"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showAddSetGangDialog(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showAddMember(e.row)}}},[t._v("添加成员")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.deleteMember(e.row)}}},[t._v("删除")])]}}],null,!1,652690333)})],1),a("createGang",{ref:"createGang",on:{refreshSearch:t.refreshSearch}}),a("addMember",{ref:"addMember"})],1)],2)},Sr=[],$r={data:function(){return{commonTableRefName:this.$vnode.tag,currentCaseId:this.$storage.get("data-analysis-current-case"),showChartsMap:!1}},props:{selectTreeData:{type:Array,default:function(){return[]}}},computed:{selectAccountList:function(){return this.selectTreeData.filter((function(t){return 3===t.sign}))},selectCardList:function(){return this.selectTreeData.filter((function(t){return 4===t.sign}))},selectBillList:function(){return this.selectTreeData.filter((function(t){return 5===t.sign}))},selectGangList:function(){return this.selectTreeData.filter((function(t){return 6===t.sign}))},switchBtnName:function(){return this.showChartsMap?"列表展示":"图形展示"}}},Nr=function(t){return Object(g["a"])({method:"post",url:"/gangs-management/gangs",data:t,loading:!0})},Or=function(t){return Object(g["a"])({method:"delete",url:"/gangs-management/gangs/"+t,loading:!0})},Rr=function(t){return Object(g["a"])({method:"get",url:"/gangs-management/gangs",params:t,loading:!0})},Er=function(t){return Object(g["a"])({method:"post",url:"/gangs-member/page",data:t,loading:!0})},Ar=function(t){return Object(g["a"])({method:"post",url:"/gangs-member/member",data:t,loading:!0})},Lr=function(t){return Object(g["a"])({method:"get",url:"/gangs-management/export",params:t,loading:!0,responseType:"blob"})},Pr=function(t){return Object(g["a"])({method:"post",url:"/gangs-asset-statistic/gangAssetStaticsPage",data:t,loading:!0})},Ir=function(t){return Object(g["a"])({method:"post",url:"/gangs-asset-statistic/gangAssetStaticsChart",data:t,loading:!0})},Br=function(t){return Object(g["a"])({method:"post",url:"/gangs-asset-statistic/gangAssetStaticsExport",data:t,loading:!0,responseType:"blob"})},Fr=function(t){return Object(g["a"])({method:"post",url:"/gangs-analysis/page",data:t,loading:!0})},Vr=function(t){return Object(g["a"])({method:"post",url:"/gangs-analysis/chart",data:t,loading:!0})},Gr=function(t){return Object(g["a"])({method:"post",url:"/gangs-analysis/export",data:t,loading:!0,responseType:"blob"})},qr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"团伙信息",width:"600px",visible:t.visible,"before-close":t.handleClose,"load-name":"create-case-dialog"},on:{"update:visible":function(e){t.visible=e}}},[a("div",{staticClass:"dialog-body-wrapper"},[a("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"团伙名称",prop:"name"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入",maxlength:"50"},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"创建时间",prop:"createTime"}},[a("VDateTimePick",{attrs:{disabled:""},model:{value:t.ruleForm.createTime,callback:function(e){t.$set(t.ruleForm,"createTime",e)},expression:"ruleForm.createTime"}})],1),a("el-form-item",{attrs:{label:"创建人",prop:"createUser"}},[a("el-input",{attrs:{disabled:"",size:"small"},model:{value:t.ruleForm.createUser,callback:function(e){t.$set(t.ruleForm,"createUser",e)},expression:"ruleForm.createUser"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入",maxlength:"1000"},model:{value:t.ruleForm.remark,callback:function(e){t.$set(t.ruleForm,"remark",e)},expression:"ruleForm.remark"}})],1)],1)],1),a("div",{attrs:{slot:"footer",align:"center"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.handleClose}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.addCaseOperation}},[t._v("提交")])],1)])},Wr=[],Ur={name:"createGang",inject:["selectTreeReload"],data:function(){return{visible:!1,ruleForm:{name:"",createTime:"",createUser:"",remark:""},rules:{name:[{required:!0,message:"请输入团伙名称",trigger:"blur"}],createTime:[{required:!1,message:"请输入完整的创建时间",trigger:"blur"}]}}},methods:{addCaseOperation:function(){var t=this,e=this.ruleForm;this.$refs.ruleForm.validate((function(a){if(!a)return console.log("error submit!!"),!1;Nr(e).then((function(e){e.success?(t.$emit("refreshSearch"),t.handleClose(),t.$message.success(e.msg),t.selectTreeReload()):t.$message.error(e.msg)}))}))},show:function(t){this.visible=!0,this.ruleForm.caseId=this.$storage.get("data-analysis-current-case"),this.ruleForm.createTime=this.$moment(new Date).format("YYYY-MM-DD HH:mm:ss"),this.ruleForm.createUser=this.$storage.get("userInfo").name,t&&(this.ruleForm.name=t.name,this.ruleForm.createTime=t.createTime,this.ruleForm.remark=t.remark,this.ruleForm.createUser=t.createUser,this.ruleForm.id=t.id)},handleClose:function(t){this.$refs.ruleForm.resetFields(),this.ruleForm.name="",this.ruleForm.createTime="",this.ruleForm.remark="",this.ruleForm.createUser="",this.visible=!1,Reflect.deleteProperty(this.ruleForm,"id"),t instanceof Function&&t()}}},Kr=Ur,Hr=(a("37bc0"),Object(c["a"])(Kr,qr,Wr,!1,null,"f7034fdc",null)),Yr=Hr.exports,Xr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"成员管理",top:"7vh",width:"900px",visible:t.visible,"before-close":t.handleClose,"custom-class":"detail-table-dialog"},on:{"update:visible":function(e){t.visible=e}}},[a("div",{staticClass:"multi-common-page-wrapper"},[t.visible?a("VCommonSearchTablePage",{ref:"summaryReportCommonTable",attrs:{isContain:"",showTableTitle:!1,optionMap:t.optionMap},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("成员搜索：")]),a("div",{staticClass:"search-value"},[a("el-input",{attrs:{size:"small"},model:{value:t.optionMap.searchValue,callback:function(e){t.$set(t.optionMap,"searchValue",e)},expression:"optionMap.searchValue"}})],1)])]),a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("查询")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("重置")])],1)])])],1)],1),a("template",{slot:"common-table"},[a("el-table",{ref:"addMemberMultipleTable",attrs:{height:"100%",data:t.tableData},on:{"select-all":t.handleAllSelectionChange,select:t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"name",label:"户名"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"idCard",label:"证件号"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"account",label:"账号"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"cardNumber",label:"卡号"}}),a("el-table-column",{attrs:{width:"100","show-overflow-tooltip":"",prop:"bankType",label:"银行类型"}})],1)],1)],2):t._e()],1),a("div",{attrs:{slot:"footer",align:"center"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.handleClose}},[t._v("取消")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.submit}},[t._v("提交")])],1)])},Jr=[],Zr={name:"addMember",props:{},inject:["selectTreeReload"],data:function(){return{visible:!1,current:{},optionMap:{searchValue:"",total:0,pageSize:10,currentPageNo:1},tableData:[],accountAndCards:[],params:{},accountAndCardsFlag:!0}},watch:{tableData:{deep:!0,handler:function(t){var e=this;t.forEach((function(t){var a=e.accountAndCards.find((function(e){return e.account===t.account&&e.cardNumber===t.cardNumber}));a&&e.$nextTick((function(){e.$refs.addMemberMultipleTable.toggleRowSelection(t,!0)}))}))}}},methods:{show:function(t){this.visible=!0,this.current=t},getData:function(t){var e=this;this.params=t,this.params.gangId=this.current.id,this.params.caseId=this.$storage.get("data-analysis-current-case"),this.tableData=[],Er(t).then((function(t){t.success?(e.tableData=t.data.members,e.accountAndCardsFlag&&(e.accountAndCards=t.data.accountAndCards,e.accountAndCardsFlag=!1),e.optionMap.total=t.data.total,e.optionMap.currentPageNo=t.data.current,e.optionMap.pageSize=t.data.size):e.$message.error(t.msg)}))},handleSelectionChange:function(t,e){console.log(t,e);var a=this.accountAndCards.findIndex((function(t){return t.account===e.account&&t.cardNumber===e.cardNumber}));a>-1?this.accountAndCards.splice(a,1):this.accountAndCards.push({account:e.account,cardNumber:e.cardNumber})},handleAllSelectionChange:function(t){var e=this;console.log(t);var a=t.length;if(a>0){var s=[];t.forEach((function(t){var a=e.accountAndCards.findIndex((function(e){return e.account===t.account&&e.cardNumber===t.cardNumber}));-1===a&&s.push({account:t.account,cardNumber:t.cardNumber})})),this.accountAndCards=[].concat(Object(h["a"])(this.accountAndCards),s)}else this.tableData.forEach((function(t){var a=e.accountAndCards.findIndex((function(e){return e.account===t.account&&e.cardNumber===t.cardNumber}));a>-1&&e.accountAndCards.splice(a,1)}))},submit:function(){var t=this;Ar({gangId:this.current.id,accountCards:this.accountAndCards}).then((function(e){e.success?(t.$message.success(e.msg||"添加成功"),t.selectTreeReload(),t.handleClose()):t.$message.error(e.msg||"添加失败")}))},search:function(){this.$refs.summaryReportCommonTable.search()},refreshSearch:function(){this.$refs.summaryReportCommonTable.refreshSearch()},handleClose:function(t){this.accountAndCards=[],this.optionMap.searchValue="",this.optionMap.total=0,this.optionMap.pageSize=10,this.optionMap.currentPageNo=1,this.accountAndCardsFlag=!0,t instanceof Function&&t(),this.visible=!1}}},Qr=Zr,to=(a("71b7"),Object(c["a"])(Qr,Xr,Jr,!1,null,"5810316c",null)),eo=to.exports,ao={name:"gangManageTable",mixins:[$r],inject:["selectTreeReload"],components:{createGang:Yr,addMember:eo},data:function(){return{optionMap:{total:0,name:"",currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:"",caseId:this.$storage.get("data-analysis-current-case")},tableData:[],params:{},chartsMapData:[]}},methods:{showAddSetGangDialog:function(t){this.$refs.createGang.show(t)},showAddMember:function(t){this.$refs.addMember.show(t)},exportReport:function(){var t=this;0!==this.tableData.length&&Lr(this.params).then((function(e){t.$fileStreamDownload(e)}))},getData:function(t){var e=this;return Object(Pt["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.params=t,a.next=3,Rr(t);case 3:s=a.sent,s.success?(e.tableData=s.data.records,e.optionMap.total=s.data.total,e.optionMap.currentPageNo=s.data.current,e.optionMap.pageSize=s.data.size):(e.$message.error(s.msg),e.tableData=[]);case 5:case"end":return a.stop()}}),a)})))()},deleteMember:function(t){var e=this;this.$confirm("确认删除？").then((function(){Or(t.id).then((function(t){t.success?(e.selectTreeReload(),e.refreshSearch(),e.$message.success(t.msg||"删除成功")):e.$message.error(t.msg||"删除失败")}))})).catch((function(t){console.log(t)}))},showDetail:function(t){var e={};for(var a in this.params)e[a]=this.params[a];e.bfzh=t.bfzh,e.jydfzh=t.jydfzh},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs[this.commonTableRefName].search(t)},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},so=ao,no=(a("f247"),Object(c["a"])(so,zr,Sr,!1,null,"17a5304a",null)),ro=no.exports,oo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易时间：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])]),a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("取消")])],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v("团伙资产统计")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.exportReport}},[t._v("导出")]),a("el-button",{attrs:{size:"small",type:"text",disabled:0===t.chartsMapData.length},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),a("template",{slot:"common-table"},[t.showChartsMap?a("fundGangLineChart",{attrs:{chartsMapData:t.chartsMapData}}):a("el-table",{attrs:{height:"100%",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index))+" ")]}}],null,!1,1842277062)}),a("el-table-column",{attrs:{prop:"gangName",label:"团伙名称"}}),a("el-table-column",{attrs:{prop:"month",label:"月份"}}),a("el-table-column",{attrs:{prop:"createUser",label:"总交易笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row)}}},[t._v(t._s(e.row.totalTransNum))])]}}],null,!1,3891607648)}),a("el-table-column",{attrs:{prop:"totalAmount",label:"总交易金额(万元)"}}),a("el-table-column",{attrs:{prop:"incomeAmount",label:"总收入金额(万元)"}}),a("el-table-column",{attrs:{prop:"expendAmount",label:"总支出金额(万元)"}}),a("el-table-column",{attrs:{prop:"netIncome",label:"净收入(万元)"}}),a("el-table-column",{attrs:{prop:"jyye",label:"总余额(万元)"}})],1)],1)],2)},lo=[],io=(a("a15b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"charts-map-wrapper"},[a("div",{staticClass:"search-chart-map-header"},[a("div",{staticClass:"label"},[t._v(" 显示条数 ")]),a("div",{staticClass:"value"},[a("el-select",{attrs:{size:"small"},model:{value:t.showSize,callback:function(e){t.showSize=e},expression:"showSize"}},[a("el-option",{attrs:{value:5,label:"前5条"}}),a("el-option",{attrs:{value:10,label:"前10条"}}),a("el-option",{attrs:{value:20,label:"前20条"}})],1)],1)]),a("div",{staticClass:"charts-map-content",attrs:{id:"billBaseCharts"}},[t._v("contactTimesCharts")])])}),co=[],uo={name:"fundGangLineChart",data:function(){return{myCharts:null,showSize:10}},props:{chartsMapData:{type:Array,default:function(){return[]}},seriesOption:{type:Array,default:function(){return[{type:"line",stack:"1",barMaxWidth:"100",dataKey:"jyye"}]}}},watch:{showSize:function(){var t=this;console.log(this),this.$nextTick((function(){t.renderEcharts()}))},chartsMapData:{deep:!0,handler:function(){this.renderEcharts()}}},mounted:function(){this.renderEcharts()},methods:{renderEcharts:function(){var t=this.chartsMapData.slice(0,this.showSize);this.seriesOption.forEach((function(e){e.name=t[0].gangName,e.data=t.map((function(t){return t[e.dataKey]}))}));var e={legend:{y:"top"},tooltip:{trigger:"axis",order:"seriesAsc",formatter:function(t){console.log(t);var e="";return e+="<div>"+t[0].axisValue+"</div><div>交易余额(万元): "+t[0].data+"</div>",e},axisPointer:{type:"line"}},toolbox:{feature:{saveAsImage:{type:"png",name:"下载"}}},xAxis:[{type:"category",data:t.map((function(t){return t.month})),axisTick:{alignWithLabel:!0}}],dataZoom:[{type:"slider",show:!0,xAxisIndex:[0],bottom:-5,start:0,end:100}],yAxis:[{type:"value",barMinHeight:10,splitLine:{lineStyle:{type:"dashed"}},max:function(t){return Math.floor(t.max)+1},min:function(t){return t.min<0?Math.floor(t.min)-1:0}}],series:this.seriesOption},a=echarts.init(document.getElementById("billBaseCharts"));a.setOption(e),window.onresize=function(){a.resize()}}}},po=uo,ho=(a("cf91"),Object(c["a"])(po,io,co,!1,null,"924b0aca",null)),mo=ho.exports,fo={name:"gangAssetStatisticsTable",mixins:[$r],components:{fundGangLineChart:mo},data:function(){return{optionMap:{total:0,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:[]}},methods:{getData:function(t){var e=this;return Object(Pt["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.list&&0!==t.list.length){a.next=2;break}return a.abrupt("return");case 2:return e.params=t,a.next=5,Pr(t);case 5:return s=a.sent,s.success?(e.tableData=s.data.records,e.optionMap.total=s.data.total,e.optionMap.currentPageNo=s.data.current,e.optionMap.pageSize=s.data.size):(e.$message.error(s.msg),e.tableData=[]),a.next=9,Ir(t);case 9:n=a.sent,n.success?e.chartsMapData=n.data:(e.$message.error(n.msg),e.chartsMapData=[]);case 11:case"end":return a.stop()}}),a)})))()},showDetail:function(t){var e={};for(var a in this.params)e[a]=this.params[a];e.bfzh=t.bfzh,e.jydfzh=t.jydfzh,e.month=t.month,this.$dataDetailDialog.show(e)},exportReport:function(){var t=this;0!==this.tableData.length&&Br(this.params).then((function(e){t.$fileStreamDownload(e)}))},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?this.selectGangList.length>1?this.$message.error("此功能仅支持单个团伙下的分析"):(this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.optionMap.gangId=this.selectGangList.map((function(t){return t.id})).join(),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},bo=fo,go=(a("49e0"),Object(c["a"])(bo,oo,lo,!1,null,"b74f7ca8",null)),vo=go.exports,Co=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("对方账号：")]),a("div",{staticClass:"search-value"},[a("el-input",{attrs:{size:"small",placeholder:"请填写"},model:{value:t.optionMap.jydfzh,callback:function(e){t.$set(t.optionMap,"jydfzh",e)},expression:"optionMap.jydfzh"}})],1)])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("总交易笔数：")]),a("div",{staticClass:"search-value"},[a("el-select",{attrs:{size:"small"},model:{value:t.optionMap.count,callback:function(e){t.$set(t.optionMap,"count",e)},expression:"optionMap.count"}},t._l(t.TRANSACTION_SELECT,(function(e,s){return a("el-option",{key:t.commonTableRefName+"_"+e.label+"_"+e.value+"_"+s,attrs:{label:e.label,value:e.value}})})),1)],1)])]),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("总交易金额(万元)：")]),a("div",{staticClass:"search-value"},[a("VCountNumPick",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("取消")])],1)])])],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("交易时间：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v("团伙收支分析")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.exportReport}},[t._v("导出")]),a("el-button",{attrs:{size:"small",type:"text",disabled:0===t.chartsMapData.length},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),a("template",{slot:"common-table"},[t.showChartsMap?a("gangIncomeCharts",{attrs:{chartsMapData:t.chartsMapData}}):a("el-table",{attrs:{height:"100%",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index)))]}}],null,!1,2933862790)}),a("el-table-column",{attrs:{prop:"gangName",label:"团伙名称"}}),a("el-table-column",{attrs:{prop:"jydfzh",label:"对方账号"}}),a("el-table-column",{attrs:{prop:"jydfmc",label:"对方名称"}}),a("el-table-column",{attrs:{prop:"count",label:"总交易笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row)}}},[t._v(t._s(e.row.totalTransNum))])]}}],null,!1,3891607648)}),a("el-table-column",{attrs:{prop:"totalAmount",label:"总交易金额(万元)"}}),a("el-table-column",{attrs:{prop:"incomeAmount",label:"总收入金额(万元)"}}),a("el-table-column",{attrs:{prop:"expendAmount",label:"总支出金额(万元)"}}),a("el-table-column",{attrs:{prop:"netIncome",label:"净收入(万元)"}})],1)],1)],2)},yo=[],wo=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Mo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"charts-map-wrapper"},[a("div",{staticClass:"charts-map-content",attrs:{id:"gangIncomeCharts"}})])}],To={name:"gangIncomeCharts",data:function(){return{myCharts:null,showSize:10,optionData:[],baseUrl:"/"}},props:{chartsMapData:{type:Array,default:function(){return[]}},toolTipFormatOptions:{type:Object,default:function(){return{gangName:"团伙名称",jydfzh:"对方账号",jydfmc:"对方户名",totalTransNum:"总交易笔数",totalAmount:"总交易金额(万元)",incomeAmount:"总收入金额(万元)",expendAmount:"总支出金额(万元)",netIncome:"净收入(万元)"}}},selectPhoneList:{type:Array,default:function(){return[]}}},watch:{chartsMapData:{deep:!0,handler:function(){this.renderEcharts()}}},mounted:function(){this.renderEcharts()},methods:{renderEcharts:function(){var t=this,e=this.$echarts.init(document.getElementById("gangIncomeCharts")),a=this.chartsMapData[0],s="image://"+Ss.a,n="image://"+Ns.a;a.nodes&&a.nodes.forEach((function(t){0===t.category?(t.symbol=s,t.symbolSize=25):1===t.category&&(t.symbol=n,t.symbolSize=20)}));var r={legend:{x:"center",show:!1,data:[{name:1},{name:2}]},tooltip:{trigger:"item",formatter:function(e){var a=e.data;if("node"===e.dataType){if(0===a.category)return"团伙名称 : "+a.label;var s="";return s+=a.label?"<div>对方名称:"+a.label+"</div>":"","-1"===a.name?s+="对方账号: 未知":s+=a.name?"<div>对方账号:"+a.name+"</div>":"",s}if("edge"===e.dataType){var n="";for(var r in t.toolTipFormatOptions)n+="jydfzh"===r?t.toolTipFormatOptions[r]+" : "+("-1"!==a.data[r]?"<span>"+a.data[r]+"</span><br>":"<br>"):t.toolTipFormatOptions[r]+" : "+(a.data[r]?"<span>"+a.data[r]+"</span><br>":"<br>");return n}}},toolbox:{feature:{saveAsImage:{type:"png",name:"互相通话分析"}}},series:[{type:"graph",layout:"force",draggable:!0,roam:!0,zoom:3,focusNodeAdjacency:!0,edgeSymbol:["circle","circle"],edgeSymbolSize:[0,0],lineStyle:{curveness:0},data:a.nodes,links:a.links,categories:[{name:0},{name:1},{name:2}],emphasis:{focus:"adjacency",lineStyle:{width:2,color:"#0099ff"},label:{show:!0,color:"#000",position:"bottom",formatter:function(t){var e=t.data;return 0===e.category?e.label:"-1"===e.name?"":e.name}}}}]};e.setOption(r),window.onresize=function(){e.resize()}}}},_o=To,Do=Object(c["a"])(_o,wo,Mo,!1,null,"51a25b99",null),ko=Do.exports,xo={name:"gangIncomeExpenses",mixins:[$r],components:{gangIncomeCharts:ko},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},TRANSACTION_SELECT:function(){return this.$store.state.bill.TRANSACTION_SELECT}},filters:{relationFilters:function(t,e){return t?e.find((function(e){return e.code===t})).name:""}},data:function(){return{optionMap:{total:0,jydfzh:"",count:"",min:void 0,max:void 0,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:[]}},methods:{getData:function(t){var e=this;return Object(Pt["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.list&&0!==t.list.length){a.next=2;break}return a.abrupt("return");case 2:return e.params=e.$deepClone(t),e.params.jydfzh||(e.params.jydfzh=void 0),a.next=6,Fr(e.params);case 6:return s=a.sent,s.success?(e.tableData=s.data.records,e.optionMap.total=s.data.total,e.optionMap.currentPageNo=s.data.current,e.optionMap.pageSize=s.data.size):(e.$message.error(s.msg),e.tableData=[]),a.next=10,Vr(e.params);case 10:n=a.sent,n.success?function(){var t=n.data;e.chartsMapData=[];for(var a=function(a){var s={};s.name=t[a].gangName,s.id=t[a].gangId,s.nodes=[],s.links=[],s.nodes.push({name:t[a].gangId,label:t[a].gangName,category:0}),t[a].transAccounts.forEach((function(e){s.nodes.push({name:e.jydfzh,label:e.jydfmc,category:1}),s.links.push({source:t[a].gangId,target:e.jydfzh,data:Object(m["a"])(Object(m["a"])({},e),{},{gangName:t[a].gangName})})})),e.chartsMapData.push(s)},s=0;s<t.length;s++)a(s);console.log(e.chartsMapData,"this.chartsMapData")}():(e.$message.error(n.msg),e.chartsMapData=[]);case 12:case"end":return a.stop()}}),a)})))()},showDetail:function(t){var e={};for(var a in this.params)e[a]=this.params[a];e.bfzh=t.bfzh,e.jydfzh=t.jydfzh,this.$dataDetailDialog.show(e)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?this.selectGangList.length>1?this.$message.error("此功能仅支持单个团伙下的分析"):(this.optionMap.caseId=this.currentCaseId,this.optionMap.gangId=this.selectGangList.map((function(t){return t.id})).join(),this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()},exportReport:function(){var t=this;0!==this.tableData.length&&Gr(this.params).then((function(e){t.$fileStreamDownload(e)}))}}},jo=xo,zo=(a("a42f"),Object(c["a"])(jo,Co,yo,!1,null,"5cc72d00",null)),So=zo.exports,$o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[a("template",{slot:"common-page-search"},[a("el-row",[a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-label"},[t._v("联系时段：")]),a("div",{staticClass:"search-value"},[a("VDatePicker",{model:{value:t.optionMap,callback:function(e){t.optionMap=e},expression:"optionMap"}})],1)])]),a("el-col",{attrs:{span:25}},[a("div",{staticClass:"search-criteria"},[a("div",{staticClass:"search-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),a("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("取消")])],1)])])],1)],1),a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v("团伙成员交易分析")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.exportReport}},[t._v("导出")]),a("el-button",{attrs:{size:"small",type:"text",disabled:!t.chartsMapData},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),a("template",{slot:"common-table"},[t.showChartsMap?a("mulRelationCharts",{attrs:{chartsMapData:t.chartsMapData}}):a("el-table",{attrs:{height:"100%",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index))+" ")]}}],null,!1,1842277062)}),a("el-table-column",{attrs:{prop:"bfzh",label:"本方账号"}}),a("el-table-column",{attrs:{prop:"jydfmc",label:"本方户名"}}),a("el-table-column",{attrs:{prop:"jydfzh",label:"对方账号"}}),a("el-table-column",{attrs:{prop:"dfmc",label:"对方名称"}}),a("el-table-column",{attrs:{prop:"startTime",label:"起始时间"}}),a("el-table-column",{attrs:{prop:"endTime",label:"结束时间"}}),a("el-table-column",{attrs:{prop:"totalTransNum",label:"总交易笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row)}}},[t._v(t._s(e.row.totalTransNum))])]}}],null,!1,3891607648)}),a("el-table-column",{attrs:{prop:"totalAmount",label:"总交易金额(万元)"}}),a("el-table-column",{attrs:{prop:"incomeNum",label:"总收入笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row,"贷")}}},[t._v(t._s(e.row.incomeNum))])]}}],null,!1,1481616352)}),a("el-table-column",{attrs:{prop:"incomeAmount",label:"总收入金额(万元)"}}),a("el-table-column",{attrs:{prop:"expendNum",label:"总支出笔数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row,"借")}}},[t._v(t._s(e.row.expendNum))])]}}],null,!1,2004547337)}),a("el-table-column",{attrs:{prop:"expendAmount",label:"总支出金额(万元)"}}),a("el-table-column",{attrs:{prop:"netIncome",label:"净收入(万元)"}}),a("el-table-column",{attrs:{prop:"relation",label:"办案人员判定关系"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.relations)+" ")]}}],null,!1,4214532200)})],1)],1)],2)},No=[],Oo={name:"gangMemberTransactions",mixins:[$r],components:{mulRelationCharts:Hs},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},TRANSACTION_SELECT:function(){return this.$store.state.bill.TRANSACTION_SELECT},BORROW_OR_LEND_SELECT:function(){return this.$store.state.bill.BORROW_OR_LEND_SELECT}},data:function(){return{optionMap:{total:0,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:null}},methods:{getData:function(t){var e=this;return Object(Pt["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.list&&0!==t.list.length){a.next=2;break}return a.abrupt("return");case 2:return e.params=t,a.next=5,ws(t);case 5:return s=a.sent,s.success?(e.tableData=s.data.records,e.optionMap.total=s.data.total,e.optionMap.currentPageNo=s.data.current,e.optionMap.pageSize=s.data.size):(e.$message.error(s.msg),e.tableData=[]),a.next=9,Ms(t);case 9:if(n=a.sent,!n.success){a.next=17;break}if(e.chartsMapData=Object.keys(n.data).length?n.data:null,e.chartsMapData){a.next=14;break}return a.abrupt("return");case 14:n.data.nodes&&n.data.nodes.forEach((function(t){if(2===t.target){var e=t.bfzh;t.bfzh=t.jydfzh,t.jydfzh=e;var a=t.bfhm;t.bfhm=t.dfmc,t.dfmc=a}})),a.next=19;break;case 17:e.$message.error(n.msg),e.chartsMapData=null;case 19:case"end":return a.stop()}}),a)})))()},exportReport:function(){var t=this;0!==this.tableData.length&&Ts(this.params).then((function(e){t.$fileStreamDownload(e)}))},showDetail:function(t,e){var a={};for(var s in this.params)a[s]=this.params[s];a.bfzh=t.bfzh,a.jydfzh=t.jydfzh,a.searchBeginTime=t.startTime,a.searchEndTime=t.endTime,e&&(a.jdbz=this.BORROW_OR_LEND_SELECT.find((function(t){return t.label===e})).value),this.$dataDetailDialog.show(a)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?this.selectGangList.length>1?this.$message.error("此功能仅支持单个团伙下的分析"):(this.optionMap.jyzh=this.selectAccountList.map((function(t){return t.label.replace(/[^\d]/g,"")})),this.optionMap.gangId=this.selectGangList.map((function(t){return t.id})).join(),this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},Ro=Oo,Eo=(a("72b2"),Object(c["a"])(Ro,$o,No,!1,null,"24823406",null)),Ao=Eo.exports,Lo={name:"fundGangAnalysis",components:{selectTree:bt,gangManageTable:ro,gangAssetStatisticsTable:vo,gangIncomeExpenses:So,gangMemberTransactions:Ao},provide:function(){return{selectTreeReload:this.selectTreeReload}},data:function(){return{activeName:"1",selectTreeData:[],componentsMap:{1:ro,2:vo,3:So,4:Ao},activeComponent:"1"}},methods:{handleClick:function(){this.activeComponent=this.activeName},selectTreeReload:function(){this.$refs.selectTree.getTree()},handleChange:function(t){this.selectTreeData=t,this.activeComponent=this.activeName}}},Po=Lo,Io=(a("9450"),Object(c["a"])(Po,xr,jr,!1,null,"8175ddd0",null)),Bo=Io.exports,Fo=[{path:"baseCountAnalysis",name:"baseCountAnalysis",component:Te},{path:"ransactionAnalysis",name:"ransactionAnalysis",component:Va},{path:"trajectoryAnalysis",name:"trajectoryAnalysis",component:hs},{path:"intimacyAnalysis",name:"intimacyAnalysis",component:cn},{path:"capitalFlowAnalysis",name:"capitalFlowAnalysis",component:Zn},{path:"suspiciousAnalysis",name:"suspiciousAnalysis",component:kr},{path:"fundgangAnalysis",name:"fundgangAnalysis",component:Bo}],Vo=Fo,Go=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},qo=[],Wo={name:"refreshRouter",beforeRouteEnter:function(t,e,a){a((function(t){t.$router.replace(e.path)}))}},Uo=Wo,Ko=Object(c["a"])(Uo,Go,qo,!1,null,"89b3fa36",null),Ho=Ko.exports,Yo=d["a"].prototype.replace;d["a"].prototype.replace=function(t){return Yo.call(this,t).catch((function(t){return t}))};var Xo=d["a"].prototype.push;d["a"].prototype.push=function(t){return Xo.call(this,t).catch((function(t){return t}))},s["default"].use(d["a"]);var Jo=Object(m["a"])(Object(m["a"])({},ot),Vo);Jo.module=st,Jo.refreshRouter=Ho,Jo.page404=z;var Zo=function(){return new d["a"]({routes:[{path:"/",redirect:"/login"},{path:"/login",name:"login",component:T},{path:"/module",name:"module",component:st,children:[].concat(Object(h["a"])(ot),Object(h["a"])(Vo))},{path:"/refreshRouter",name:"refreshRouter",component:Ho},{path:"*",name:"404",component:z}]})},Qo=Zo(),tl={router:Qo,menu:Jo,routerInit:Zo},el=(a("840a"),a("0fb7"),a("450d"),a("f529")),al=a.n(el),sl=(a("46a1"),a("e5f2")),nl=a.n(sl),rl=(a("9e1f"),a("6ed5")),ol=a.n(rl),ll=(a("be4f"),a("896a")),il=a.n(ll),cl=(a("2986"),a("14e9")),ul=a.n(cl),pl=(a("f225"),a("89a9")),hl=a.n(pl),ml=(a("f4f9"),a("c2cc")),dl=a.n(ml),fl=(a("7a0f"),a("0f6c")),bl=a.n(fl),gl=(a("aaa5"),a("a578")),vl=a.n(gl),Cl=(a("915d"),a("e04d")),yl=a.n(Cl),wl=(a("5e32"),a("6721")),Ml=a.n(wl),Tl=(a("cbb5"),a("8bbc")),_l=a.n(Tl),Dl=(a("e612"),a("dd87")),kl=a.n(Dl),xl=(a("075a"),a("72aa")),jl=a.n(xl),zl=(a("eca7"),a("3787")),Sl=a.n(zl),$l=(a("425f"),a("4105")),Nl=a.n($l),Ol=(a("b84d"),a("c216")),Rl=a.n(Ol),El=(a("8f24"),a("76b9")),Al=a.n(El),Ll=(a("0c67"),a("299c")),Pl=a.n(Ll),Il=(a("4ffc"),a("946e")),Bl=a.n(Il),Fl=(a("d624"),a("3e9c")),Vl=a.n(Fl),Gl=(a("826b"),a("c263")),ql=a.n(Gl),Wl=(a("5466"),a("ecdf")),Ul=a.n(Wl),Kl=(a("38a0"),a("ad41")),Hl=a.n(Kl),Yl=(a("ae26"),a("845f")),Xl=a.n(Yl),Jl=(a("1951"),a("eedf")),Zl=a.n(Jl),Ql=(a("016f"),a("486c")),ti=a.n(Ql),ei=(a("6611"),a("e772")),ai=a.n(ei),si=(a("1f1a"),a("4e4b")),ni=a.n(si),ri=(a("e960"),a("b35b")),oi=a.n(ri),li=(a("d4df"),a("7fc1")),ii=a.n(li),ci=(a("c526f"),a("1599")),ui=a.n(ci),pi=(a("560b"),a("dcdc")),hi=a.n(pi),mi=(a("3c52"),a("0d7b")),di=a.n(mi),fi=(a("fe07"),a("6ac5")),bi=a.n(fi),gi=(a("b5d8"),a("f494")),vi=a.n(gi),Ci=(a("9d4c"),a("e450")),yi=a.n(Ci),wi=(a("10cb"),a("f3ad")),Mi=a.n(wi),Ti=(a("960d"),a("defb")),_i=a.n(Ti),Di=(a("bd49"),a("18ff")),ki=a.n(Di),xi=(a("cb70"),a("b370")),ji=a.n(xi),zi=(a("34db"),a("3803")),Si=a.n(zi),$i=(a("8bd8"),a("4cb2")),Ni=a.n($i),Oi=(a("ce18"),a("f58e")),Ri=a.n(Oi),Ei=(a("4ca3"),a("443e")),Ai=a.n(Ei),Li=(a("a7cc"),a("df33")),Pi=a.n(Li),Ii=(a("672e"),a("101e")),Bi=a.n(Ii),Fi=(a("500f"),{install:function(t){t.use(Bi.a),t.use(Pi.a),t.use(Ai.a),t.use(Ri.a),t.use(Ni.a),t.use(Si.a),t.use(ji.a),t.use(ki.a),t.use(_i.a),t.use(Mi.a),t.use(yi.a),t.use(vi.a),t.use(bi.a),t.use(di.a),t.use(hi.a),t.use(ui.a),t.use(ii.a),t.use(oi.a),t.use(ni.a),t.use(ai.a),t.use(ti.a),t.use(Zl.a),t.use(Xl.a),t.use(Hl.a),t.use(Ul.a),t.use(ql.a),t.use(Vl.a),t.use(Bl.a),t.use(Pl.a),t.use(Al.a),t.use(Rl.a),t.use(Nl.a),t.use(Sl.a),t.use(jl.a),t.use(kl.a),t.use(_l.a),t.use(Ml.a),t.use(yl.a),t.use(vl.a),t.use(bl.a),t.use(dl.a),t.use(hl.a),t.use(ul.a),t.use(il.a.directive),t.prototype.$loading=il.a.service,t.prototype.$msgbox=ol.a,t.prototype.$alert=ol.a.alert,t.prototype.$confirm=ol.a.confirm,t.prototype.$prompt=ol.a.prompt,t.prototype.$notify=nl.a,t.prototype.$message=al.a}}),Vi="VUE-PROJECT-START",Gi=document.createElement("canvas");Gi.width="300",Gi.height="200";var qi=Gi.getContext("2d");qi.font="16px 宋体",qi.fillStyle="rgba(153, 153, 153, 0.3)",qi.rotate(Math.PI/10),qi.fillText(Vi,50,0),qi.stroke();var Wi=Gi.toDataURL("image/png"),Ui=document.createElement("div");function Ki(t){t.appendChild(Ui)}Ui.style.backgroundImage='url("'.concat(Wi,'")'),Ui.style.backgroundPosition="0 0, 150px 150px",Ui.style.position="absolute",Ui.style.width="100vw",Ui.style.height="100vh",Ui.style.zIndex="99999",Ui.style.top="0",Ui.style.left="0",Ui.style.pointerEvents="none";var Hi={install:function(t){t.directive("watermark",(function(t){Ki(t)}))}},Yi=a("2ef0"),Xi=a.n(Yi),Ji="_target",Zi="_id",Qi="v-behave-scroll-active";function tc(t,e){e.immediate&&t.querySelectorAll("["+Ji+"]")[0].classList.add(Qi),t.addEventListener("click",(function(a){for(var s=a.target.getAttribute(Ji),n=t.querySelectorAll("["+Ji+"]"),r=0;r<n.length;r++)n[r].classList.remove(Qi);if(s){var o=document.querySelector(e.target).querySelector("["+Zi+'="'+s+'"]');o&&o.scrollIntoView({behavior:"smooth"}),a.target.classList.add(Qi)}}))}function ec(t,e,a){a.nextTick((function(){var a=t.querySelectorAll("["+Zi+"]"),s=Xi.a.debounce((function(){for(var s=t.getBoundingClientRect().top,n=0;n<a.length;n++){var r=a[n].getBoundingClientRect().top-s,o=a[n+1]?a[n+1].getBoundingClientRect().top-s:void 0;if(r<=0&&(o>=0||void 0===o)){for(var l=document.querySelector(e.source).querySelectorAll("["+Ji+"]"),i=0;i<l.length;i++)l[i].classList.remove(Qi);l[n].classList.add(Qi);break}}}),50,{trailing:!0});t.addEventListener("mouseover",(function(){var e=t.querySelector(".el-scrollbar__wrap")||t;e.addEventListener("scroll",s)})),t.addEventListener("mouseout",(function(){var e=t.querySelector(".el-scrollbar__wrap")||t;e.removeEventListener("scroll",s)}))}))}var ac={install:function(t){t.directive("behaveScroll",(function(e,a){var s={immediate:!0};s=Object(m["a"])(Object(m["a"])({},s),a.value),s.target?tc(e,s):s.source&&ec(e,s,t)}))}},sc=a("953d"),nc=a.n(sc),rc=(a("a753"),a("8096"),a("14e1"),a("53ca")),oc=(a("1276"),a("466d"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("2b3d"),a("9861"),a("f6f4")),lc=a("313e"),ic=a.n(lc);window.echarts=ic.a,window._=Xi.a;var cc={},uc={install:function(t){for(var e in cc.storage={db:"localStorage",get:function(t){var e=window[this.db].getItem(t);try{e=JSON.parse(e),"number"===typeof e&&(e=window[this.db].getItem(t))}catch(a){e=window[this.db].getItem(t)}return e},set:function(t,e){var a;"object"===Object(rc["a"])(e)?a=JSON.stringify(e):(a=e,"number"===typeof a&&a.length>15&&(a=""+a)),window[this.db].setItem(t,a)},remove:function(t){console.log(this.db,"dbdbdbdbdb"),window[this.db].removeItem(t)},clear:function(){console.log(this.db,"dbdbdbdbdb"),window[this.db].clear()}},cc.createRouter=function(t,e){e&&e()},cc.listTotree=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=[],s=e.idKey||"id",n=e.pIdKey||"pId",r=e.childrenKey||"children";return t.forEach((function(e){var o=e;o[r]=[],t.forEach((function(t){var e=t;e[n]===o[s]&&(o[r].push(e),a.push(e[s]))})),0===e[r].length&&(e[r]="")})),t.filter((function(t){return-1===a.indexOf(t[s])}))},cc.treeToList=function(e,a,s){var n=s||"children",r=a||[];return e.forEach((function(e){r.push(e),e[n]&&e[n].length>0&&t.prototype.$treeToList(e[n],r)})),r},cc.deepClone=function(e){var a;if(e&&e.constructor===Array)a=[];else{if(!e||e.constructor!==Object)return e;a={}}for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]&&"object"===Object(rc["a"])(e[s])?(a[s]=e[s].constructor===Array?[]:{},a[s]=t.prototype.$deepClone(e[s])):a[s]=e[s]);return a},cc.dispatch=oc["a"].methods.dispatch,cc.broadcast=oc["a"].methods.broadcast,cc.echarts=ic.a,cc.moment=ja.a,cc.data64URLtoBlob=function(t){var e=t.split(","),a=e[1].substring(0,e[1].length-2),s=e[0].match(/:(.*?);/)[1],n=atob(a),r=n.length,o=new Uint8Array(r);while(r--)o[r]=n.charCodeAt(r);return new Blob([o],{type:s})},cc.fileStreamDownload=function(t,e){var a,s;t.data?(a=new Blob([t.data]),s=decodeURIComponent(t.headers["content-disposition"].split("attachment;fileName=")[1])||e):(a=new Blob([t]),s=e);var n=URL.createObjectURL(a),r=document.createElement("a");r.href=n,r.download=s,document.body.appendChild(r),r.click(),URL.revokeObjectURL(n),r.parentNode.removeChild(r)},cc.pageIndex=function(t,e,a){return e*(t-1)+(a+1)},cc.getPolygonAreaCenter=function(t){var e=0,a=0,s=t.filter((function(t){return"number"===typeof t.lng&&"number"===typeof t.lat}));if(0===s.length)return e=114.289155,a=30.628677,new BMap.Point(e,a);for(var n=0;n<s.length;n++)e+=s[n].lng,a+=s[n].lat;return new BMap.Point(e/s.length,a/s.length)},cc)t.prototype["$"+e]=cc[e]}},pc={numberValid:/^[0-9]*$/,floatNumber:/^[0-9]+.?[0-9]*$/,phoneValid:/(^(\d{3,4}-)?\d{7,8})$|(^((\+86)|(86))?(1)\d{10}$)/,genderValid:/^(男|女)$/,idCardValid:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,bankCardValid:/(^\d{16}$)|(^\d{17}$)|(^\d{18}$)|(^\d{19}$)/},hc={install:function(t){t.prototype.$valid=pc}};function mc(t){return function(e,a){var s=e[t],n=a[t];return n-s}}var dc={install:function(t){t.prototype.$compare=mc}},fc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"数据详情",top:"7vh",width:"calc(100% - 20px)",visible:t.visible,"before-close":t.handleClose,"custom-class":"detail-table-dialog",name:"data-detail-loading"},on:{"update:visible":function(e){t.visible=e}}},[a("div",{staticClass:"multi-common-page-wrapper"},[t.visible?a("VCommonSearchTablePage",{ref:"billDetailDataCommonTable",attrs:{isContain:"",showSearch:!1,optionMap:t.optionMap},on:{request:t.getDetail}},[a("template",{slot:"common-page-content-header"},[a("div",{staticClass:"page-title"},[t._v("账单统计详情")]),a("div",{staticClass:"task-button-wrapper"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.callExportOperation}},[t._v("导出")])],1)]),a("template",{slot:"common-table"},[a("el-table",{attrs:{height:"100%",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,e.$index))+" ")]}}],null,!1,2780608557)}),a("el-table-column",{attrs:{prop:"bfkh",label:"本方卡号"}}),a("el-table-column",{attrs:{prop:"bfzh",label:"本方账号"}}),a("el-table-column",{attrs:{prop:"bfhm",label:"本方户名"}}),a("el-table-column",{attrs:{prop:"bfkhh",label:"本方开户银行"}}),a("el-table-column",{attrs:{prop:"jysj",label:"交易时间"}}),a("el-table-column",{attrs:{prop:"jyje",label:"交易金额(元)"}}),a("el-table-column",{attrs:{prop:"jyye",label:"交易余额(元)"}}),a("el-table-column",{attrs:{prop:"biz",label:"币种"}}),a("el-table-column",{attrs:{prop:"jdbz",label:"借贷标志"}}),a("el-table-column",{attrs:{prop:"jydfzh",label:"对方账号"}}),a("el-table-column",{attrs:{prop:"jydfmc",label:"对方名称"}}),a("el-table-column",{attrs:{prop:"jydfkh",label:"对方卡号"}}),a("el-table-column",{attrs:{prop:"jydfzhkhh",label:"对方开户行"}}),a("el-table-column",{attrs:{prop:"jywdmc",label:"交易网点"}}),a("el-table-column",{attrs:{prop:"jyzy",label:"交易摘要","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"bz",label:"备注","show-overflow-tooltip":""}})],1)],1)],2):t._e()],1),a("div",{attrs:{slot:"footer",align:"center"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.handleClose}},[t._v("关闭")])],1)])},bc=[],gc={name:"dataDetail",props:{currentCaseId:{type:String,default:""}},data:function(){return{visible:!1,tableData:[],currentBill:{},optionMap:{total:0,currentPageNo:1,pageSize:10},params:{}}},methods:{getDetail:function(t){this.$dataDetailDialog.getDetail(t)},handleClose:function(t){this.$dataDetailDialog.handleClose(t)},callExportOperation:function(){var t=this;Object(Kt["c"])(this.params).then((function(e){t.$fileStreamDownload(e)}))}}},vc=gc,Cc=(a("7603"),Object(c["a"])(vc,fc,bc,!1,null,"0fb57e78",null)),yc=Cc.exports,wc=s["default"].extend(yc),Mc={install:function(t){var e=(new wc).$mount(document.createElement("div"));t.prototype.$dataDetailDialog={show:function(t){for(var a in console.log(" $dataDetailDialog :>> ",e),e.currentBill=t,t)e.optionMap[a]=e.optionMap[a]||t[a];e.visible=!0},getDetail:function(t){e.params=t,Object(Kt["j"])(t).then((function(t){t.success?(e.tableData=t.data.records,e.optionMap.total=t.data.total,e.optionMap.currentPageNo=t.data.current,e.optionMap.pageSize=t.data.size):(e.$message.error(t.msg),e.tableData=[])}))},handleClose:function(t){t instanceof Function&&t(),e.tableData=[],e.optionMap=e.$options.data().optionMap,e.visible=!1}},document.body.appendChild(e.$el)}},Tc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("keep-alive",{attrs:{include:t.cachedViewsRouteNameList}},[a("router-view")],1)},_c=[],Dc=(a("2532"),{name:"tagViews",computed:{cachedViewsRouteNameList:function(){return this.$store.state.app.cachedTags.map((function(t){return t.name}))},showRouterView:function(){return!this.cachedViewsRouteNameList.includes(this.$route.name)},key:function(){return this.$route.path}}}),kc=Dc,xc=Object(c["a"])(kc,Tc,_c,!1,null,"338938bd",null),jc=xc.exports,zc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:t.disabled,size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},on:{change:t.startChange},model:{value:t.value.searchBeginTime,callback:function(e){t.$set(t.value,"searchBeginTime",e)},expression:"value.searchBeginTime"}})],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center",transform:"scaleX(2)"},attrs:{span:2}},[t._v("-")]),a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:t.disabled,size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},on:{change:t.endChange},model:{value:t.value.searchEndTime,callback:function(e){t.$set(t.value,"searchEndTime",e)},expression:"value.searchEndTime"}})],1)],1)},Sc=[],$c={name:"VDatePicker",props:{value:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},methods:{startChange:function(t){var e=this;if(t&&this.value.searchEndTime){var a=new Date(t+" 00:00:00").getTime(),s=new Date(this.value.searchEndTime).getTime();s-a<0&&this.$alert("开始时间不得大于结束时间","提示",{type:"error",showClose:!1,callback:function(){e.value.searchBeginTime=""}})}this.value.searchBeginTime=this.value.searchBeginTime&&this.value.searchBeginTime+" 00:00:00"},endChange:function(t){var e=this;if(t&&this.value.searchBeginTime){var a=new Date(t+" 23:59:59").getTime(),s=new Date(this.value.searchBeginTime).getTime();a-s<0&&this.$alert("开始时间不得大于结束时间","提示",{type:"error",showClose:!1,callback:function(){e.value.searchEndTime=""}}),this.value.searchEndTime=this.value.searchEndTime&&this.value.searchEndTime+" 23:59:59"}},clearDatePick:function(){this.searchBeginTime="",this.searchEndTime=""}}},Nc=$c,Oc=Object(c["a"])(Nc,zc,Sc,!1,null,"fab795a8",null),Rc=Oc.exports,Ec=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:t.disabled,size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},on:{change:t.dateTimeChange},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center",transform:"scaleX(2)"},attrs:{span:2}},[t._v("-")]),a("el-col",{attrs:{span:11}},[a("el-time-picker",{staticStyle:{width:"100%"},attrs:{disabled:t.disabled,size:"small","value-format":"hh:mm:ss",placeholder:"选择时间"},on:{change:t.dateTimeChange},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)],1)},Ac=[],Lc={name:"VDateTimePick",props:{disabled:Boolean,value:{type:[Date,String],default:""}},data:function(){return{date:"",time:""}},watch:{value:{immediate:!0,handler:function(t){this.date=t?this.$moment(t).format("YYYY-MM-DD"):this.date,this.time=t?this.$moment(t).format("HH:mm:ss"):this.time}}},methods:{dateTimeChange:function(t){console.log(t);var e=this.date&&this.time?this.date+" "+this.time:"";this.$emit("input",e)}}},Pc=Lc,Ic=Object(c["a"])(Pc,Ec,Ac,!1,null,"50c94a6a",null),Bc=Ic.exports,Fc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticStyle:{display:"inline-block","vertical-align":"middle"}},[a("el-col",{attrs:{span:11}},[a("el-input",{attrs:{"prefix-icon":"el-icon-date",disabled:"",size:"small"},model:{value:t.customTimeStr[0],callback:function(e){t.$set(t.customTimeStr,0,e)},expression:"customTimeStr[0]"}})],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center",transform:"scaleX(2)"},attrs:{span:2}},[t._v("-")]),a("el-col",{attrs:{span:11}},[a("el-input",{attrs:{"prefix-icon":"el-icon-time",disabled:"",size:"small"},model:{value:t.customTimeStr[1],callback:function(e){t.$set(t.customTimeStr,1,e)},expression:"customTimeStr[1]"}})],1)],1)},Vc=[],Gc={name:"VCustomTime",props:{customTimeStr:{type:Array,default:function(){return[]}}}},qc=Gc,Wc=Object(c["a"])(qc,Fc,Vc,!1,null,"f4efab16",null),Uc=Wc.exports,Kc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticStyle:{display:"inline-block","vertical-align":"middle"}},[a("el-col",{attrs:{span:11}},[a("el-input-number",{attrs:{"controls-position":"right",controls:t.controls,size:"small"},model:{value:t.value[t.defaultOption.min],callback:function(e){t.$set(t.value,t.defaultOption.min,e)},expression:"value[defaultOption.min]"}})],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center",transform:"scaleX(2)"},attrs:{span:2}},[t._v("-")]),a("el-col",{attrs:{span:11}},[a("el-input-number",{attrs:{"controls-position":"right",controls:t.controls,size:"small"},model:{value:t.value[t.defaultOption.max],callback:function(e){t.$set(t.value,t.defaultOption.max,e)},expression:"value[defaultOption.max]"}})],1)],1)},Hc=[],Yc={name:"VCountNumPick",props:{value:{type:Object,default:function(){return{}}},controls:{type:Boolean,default:!1},defaultOption:{type:Object,default:function(){return{min:"min",max:"max"}}}}},Xc=Yc,Jc=(a("c4a4"),Object(c["a"])(Xc,Kc,Hc,!1,null,"3afc7c52",null)),Zc=Jc.exports,Qc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-pagination",t._g(t._b({attrs:{"page-sizes":[5,10,20,50],"page-size":t.pageSize,background:t.background,layout:t.layout}},"el-pagination",t.$attrs,!1),t.$listeners))},tu=[],eu=(a("a9e3"),a("c96a"),{name:"VPage",props:{pageSize:{type:Number,default:10}},computed:{background:function(){return!this.$attrs.small},layout:function(){return this.$attrs.small?"prev, pager, next":"prev, pager, next, sizes, jumper"}}}),au=eu,su=Object(c["a"])(au,Qc,tu,!1,null,"75c31328",null),nu=su.exports,ru=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"common-page-wrapper",attrs:{name:"case-loading"}},[!t.isContain&&t.showSearch?a("div",{staticClass:"common-page-search"},[t._t("common-page-search")],2):t._e(),a("div",{staticClass:"common-page-content"},[t.isContain&&t.showSearch?a("div",{staticClass:"common-page-search"},[t._t("common-page-search")],2):t._e(),t.showTableTitle?a("div",{staticClass:"common-page-content-header"},[t._t("common-page-content-header")],2):t._e(),a("div",{staticClass:"common-tabs-wrapper"},[t._t("common-tabs-wrapper")],2),t.fixTable?a("div",{staticClass:"fixed-common-table"},[t._t("common-table")],2):a("div",{staticClass:"common-table"},[t._t("common-table")],2),t.showPager&&!t.showChartsMap?a("div",{staticClass:"common-pagination"},[a("div",{staticClass:"page-total-msg"},[t._v(t._s(t.pageTotalMessage.replace("###",t.optionMap.total)))]),a("VPage",{attrs:{disabled:0===t.optionMap.total,total:t.optionMap.total,"page-size":t.optionMap.pageSize,"current-page":t.optionMap.currentPageNo,small:t.pageSmall},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()])])},ou=[],lu={name:"VCommonSearchTablePage",props:{optionMap:{type:Object,default:function(){return{total:0,currentPageNo:1,pageSize:10}}},isContain:{type:Boolean,default:!1},showSearch:{type:Boolean,default:!0},showTableTitle:{type:Boolean,default:!0},showPager:{type:Boolean,default:!0},showChartsMap:{type:Boolean,default:!1},fixTable:{type:Boolean,default:!1},pageSmall:{type:Boolean,default:!1},isAutoRequest:{type:Boolean,default:!0},pageTotalMessage:{type:String,default:"共###条记录"}},data:function(){return{params:{},refreshParam:{}}},mounted:function(){this.refreshParam=this.$deepClone(this.optionMap),this.params=this.$deepClone(this.optionMap),this.params.pageNo=this.optionMap.currentPageNo,this.params.pageSize=this.optionMap.pageSize,this.isAutoRequest&&this.getRequest()},methods:{getRequest:function(){var t=this.$deepClone(this.params);Reflect.deleteProperty(t,"total"),Reflect.deleteProperty(t,"currentPageNo"),this.$emit("request",t)},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&(this.optionMap.currentPageNo=1),this.params=this.$deepClone(this.optionMap),this.params.pageNo=this.optionMap.currentPageNo,this.params.pageSize=this.optionMap.pageSize,this.getRequest()},refreshSearch:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];for(var e in this.refreshParam)this.optionMap[e]=this.refreshParam[e];this.params=this.$deepClone(this.optionMap),this.params.pageNo=this.optionMap.currentPageNo,this.params.pageSize=this.optionMap.pageSize,t&&this.getRequest()},handleSizeChange:function(t){this.optionMap.currentPageNo=1,this.optionMap.pageSize=t,this.params.pageNo=this.optionMap.currentPageNo,this.params.pageSize=this.optionMap.pageSize,this.getRequest()},handleCurrentChange:function(t){this.optionMap.currentPageNo=t,this.params.pageNo=this.optionMap.currentPageNo,this.getRequest()}}},iu=lu,cu=(a("8d48"),Object(c["a"])(iu,ru,ou,!1,null,"230fa8eb",null)),uu=cu.exports;s["default"].use(Fi),s["default"].use(Hi),s["default"].use(ac),s["default"].use(nc.a),s["default"].use(uc),s["default"].use(hc),s["default"].use(dc),s["default"].use(Mc),s["default"].component("tagViews",jc),s["default"].component("VDatePicker",Rc),s["default"].component("VDateTimePick",Bc),s["default"].component("VCustomTime",Uc),s["default"].component("VCountNumPick",Zc),s["default"].component("VPage",nu),s["default"].component("VCommonSearchTablePage",uu),s["default"].config.productionTip=!1;var pu=s["default"].prototype;tl.router.beforeEach((function(t,e,a){var s=window.localStorage.getItem("authorization");if("login"===t.name)return pu.$storage.remove("menuList"),pu.$storage.remove("authorization"),void a();if("login"!==t.name&&!s)return"login"===e.name?void a("/"):void pu.$confirm("登录凭证无效,请重新登录","提示",{type:"error"}).then((function(){pu.$storage.remove("authorization"),window.location.href="./"}));if(0===t.matched.length&&e.name)a("/404");else{var n=pu.$treeToList(pu.$storage.get("menuList")||[]),r=["login","module","refreshRouter","404"];n.find((function(e){return e.pathName===t.name||r.includes(t.name)}))?a():a("/404")}})),new s["default"]({router:tl.router,store:n["default"],render:function(t){return t(p)}}).$mount("#app")},"59fe":function(t,e,a){"use strict";a("115e")},"5c0b":function(t,e,a){"use strict";a("c58b")},"5eae":function(t,e,a){},"5ee1":function(t,e,a){},"61c0":function(t,e,a){"use strict";a("cab7")},6240:function(t,e,a){},6568:function(t,e,a){},6881:function(t,e,a){},"699f":function(t,e,a){"use strict";a("378f")},"6b1a":function(t,e,a){},"6e17":function(t,e,a){"use strict";a("9b1e")},7186:function(t,e,a){},"71b7":function(t,e,a){"use strict";a("87cc")},"72b2":function(t,e,a){"use strict";a("13ad")},7548:function(t,e,a){},7603:function(t,e,a){"use strict";a("b894")},"76db":function(t,e,a){},7769:function(t,e,a){"use strict";a.r(e);var s={BORROW_OR_LEND_SELECT:[{label:"全部",value:void 0},{label:"借",value:"d"},{label:"贷",value:"c"}],TRANSACTION_SELECT:[{label:"全部",value:void 0},{label:"≥5次",value:"5"},{label:"≥10次",value:"10"},{label:"≥20次",value:"20"},{label:"≥50次",value:"50"}],UPLOAD_FILE_TYPE:{bill:1,account:2},UPLOAD_FILE_FLAG:{success:1,fail:2,invalid:3},APP_CONST_DATA:{}},n={},r={ADD_BREAD:function(t,e){t.breadList.push(e)},SET_CONST_DATA:function(t,e){t.APP_CONST_DATA=e}},o={setConstData:function(t,e){var a=t.commit;a("SET_CONST_DATA",e)}};e["default"]={namespaced:!0,state:s,getters:n,mutations:r,actions:o}},7983:function(t,e,a){"use strict";a("ce2d")},"7bc8":function(t,e,a){"use strict";a("76db")},"7f3f":function(t,e,a){"use strict";a("f010")},"7f51":function(t,e,a){},"7f83":function(t,e,a){"use strict";a("a6b1")},"80b3":function(t,e,a){},"825f":function(t,e,a){"use strict";a("a6919")},8666:function(t,e,a){"use strict";a("7f51")},"87cc":function(t,e,a){},8855:function(t,e,a){},"8d48":function(t,e,a){"use strict";a("ffc1")},"8dcb":function(t,e,a){},"8e5d":function(t,e,a){"use strict";a("3ea2")},9030:function(t,e,a){"use strict";a("d719")},"904d":function(t,e,a){"use strict";a("deb3")},9450:function(t,e,a){"use strict";a("4f73")},9715:function(t,e,a){},"99cf":function(t,e,a){"use strict";a.r(e);var s={appMsg:"appMsg.....",cachedTags:[],breadList:[]},n={computedMsg:function(t){return t.appMsg},computedGetterMsg:function(t,e){return e.computedMsg+"-"+t.appMsg}},r=(a("c740"),a("b0c0"),a("a434"),a("99af"),{CONSOLELOG:function(t,e){console.log(t,e)},ADD_TAGS:function(t,e){t.cachedTags.some((function(t){return t.path===e.path}))||t.cachedTags.push(e)},DELETE_TAGS_VIEWS:function(t,e){var a=t.cachedTags.findIndex((function(t){return t.name===e}));t.cachedTags.splice(a,1)},GET_BREAD:function(t,e){t.breadList=[],t.breadList=t.breadList.concat(e)},ADD_BREAD:function(t,e){t.breadList.push(e)}}),o={actionsConsoleLog:function(t,e){var a=t.commit;a("CONSOLELOG",e)},addTags:function(t,e){var a=t.commit;a("ADD_TAGS",e)},deleteTagsViews:function(t,e){var a=t.commit;a("DELETE_TAGS_VIEWS",e)},resetTags:function(t,e){var a=t.commit;a("RESET_TAGS",e)},getBread:function(t,e){var a=t.commit;a("GET_BREAD",e)},addBread:function(t,e){var a=t.commit;a("ADD_BREAD",e)}};e["default"]={namespaced:!0,state:s,getters:n,mutations:r,actions:o}},"99dd":function(t,e,a){"use strict";a("051b0")},"9b1e":function(t,e,a){},"9e13":function(t,e,a){"use strict";a("5eae")},"9e77":function(t,e,a){"use strict";a("7548")},"9edd":function(t,e,a){},a42f:function(t,e,a){"use strict";a("6568")},a6919:function(t,e,a){},a6b1:function(t,e,a){},a6b4:function(t,e,a){"use strict";a("5ee1")},a9dd:function(t,e,a){t.exports=a.p+"assets/img/data_01.png"},aa5c:function(t,e,a){},abf6:function(t,e,a){},ad31:function(t,e,a){},aef0:function(t,e,a){"use strict";a("ad31")},afdc:function(t,e,a){"use strict";a("4680")},b136:function(t,e,a){"use strict";a("7186")},b164:function(t,e,a){},b55f:function(t,e,a){},b894:function(t,e,a){},b982:function(t,e,a){"use strict";a("b55f")},c085:function(t,e,a){"use strict";a("db95")},c4a4:function(t,e,a){"use strict";a("ec39")},c58b:function(t,e,a){},c636:function(t,e,a){"use strict";a("abf6")},c73c:function(t,e,a){"use strict";a("d3b7");var s=a("2b0e"),n=a("bc3a"),r=a.n(n),o=a("4328"),l=a.n(o),i=window.location.origin;i+="/api";var c,u=r.a.create({baseURL:i}),p={TOKEN_ERROR:1002009};u.interceptors.request.use((function(t){return t.loading&&(t.loading.constructor===Object?c=s["default"].prototype.$loading(t.loading):!0===t.loading?c=s["default"].prototype.$loading():console.error("loading options error")),t.headers.authorization=window.localStorage.getItem("authorization")||"",t.headers.refresh_token=window.localStorage.getItem("refresh_token")||"",t.paramsSerializer=function(t){return encodeURI(l.a.stringify(t,{allowDots:!0,encode:!1}))},t}),(function(t){return c&&c.close(),confirm("请求服务异常request"),Promise.reject(t)})),u.interceptors.response.use((function(t){return window.setTimeout((function(){c&&c.close()}),100),t.data.code===p.TOKEN_ERROR?(alert("登录凭证过期或异常, 请重新登录"),void(window.location.href="./")):(t.headers.authorization&&window.localStorage.setItem("authorization",t.headers.authorization),t.headers.refresh_token&&window.localStorage.setItem("refresh_token",t.headers.refresh_token),c&&c.close(),!0===t.config.originData||"blob"===t.config.responseType?t:t.data)}),(function(t){return console.log(t.response),window.setTimeout((function(){c&&c.close()}),50),confirm("请求服务异常response"),Promise.reject(t)})),u.qs||(u.qs=function(t){return l.a.stringify(t)}),e["a"]=u},cab7:function(t,e,a){},cb09:function(t,e,a){"use strict";a("8855")},cc38:function(t,e,a){"use strict";a("6240")},cd31:function(t,e,a){"use strict";a("9edd")},ce2d:function(t,e,a){},cf91:function(t,e,a){"use strict";a("6b1a")},d1a6:function(t,e,a){"use strict";a("ef16")},d719:function(t,e,a){},d8af:function(t,e,a){"use strict";a("f74c")},dae1:function(t,e,a){"use strict";a("2d8d")},db10:function(t,e,a){"use strict";a("9715")},db95:function(t,e,a){},de30:function(t){t.exports=JSON.parse("{}")},deb3:function(t,e,a){},e21a:function(t,e,a){},e4a1:function(t,e,a){"use strict";a("f167")},e53f:function(t,e,a){"use strict";a("b164")},e7e4:function(t,e,a){"use strict";a("6881")},ec0f:function(t,e,a){"use strict";a("1cc8")},ec39:function(t,e,a){},ed6a:function(t,e,a){},ef16:function(t,e,a){},f010:function(t,e,a){},f085:function(t,e,a){"use strict";a("80b3")},f167:function(t,e,a){},f247:function(t,e,a){"use strict";a("37bc")},f2a7:function(t,e,a){"use strict";a("8dcb")},f331:function(t,e,a){var s={"./app/index.js":"99cf","./bill/index.js":"7769","./index.js":"4360"};function n(t){var e=r(t);return a(e)}function r(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=r,t.exports=n,n.id="f331"},f74c:function(t,e,a){},fbb7:function(t,e,a){t.exports=a.p+"assets/img/data_02.png"},ff1c:function(t,e,a){"use strict";a("0731")},ffab:function(t,e,a){"use strict";a("485c4")},ffc1:function(t,e,a){}},[[0,"runtime","chunk-echarts","chunk-elementUI","vendor"]]])}));