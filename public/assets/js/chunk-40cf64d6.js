(window["webpackJsonp_myapp"]=window["webpackJsonp_myapp"]||[]).push([["chunk-40cf64d6"],{"0ba4":function(t,a,e){},"1c15":function(t,a,e){},"206a":function(t,a,e){},5013:function(t,a,e){},"59fe":function(t,a,e){"use strict";e("5013")},9897:function(t,a,e){},a6b4:function(t,a,e){"use strict";e("1c15")},ad88:function(t,a,e){},cb20:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"data-analysis-wrapper"},[e("div",{staticClass:"data-tree-side"},[e("selectTree",{ref:"selectTree",on:{handleChange:t.handleChange}})],1),e("div",{staticClass:"data-table-side"},[e("div",{staticClass:"default-tabs-wrapper"},[e("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(a){t.activeName=a},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"资产变化",name:"1"}}),e("el-tab-pane",{attrs:{label:"收入渠道统计",name:"2"}}),e("el-tab-pane",{attrs:{label:"支出渠道统计",name:"3"}}),e("el-tab-pane",{attrs:{label:"高频交易",name:"4"}}),e("el-tab-pane",{attrs:{label:"高额交易",name:"5"}}),e("el-tab-pane",{attrs:{label:"中转资金分析",name:"6"}})],1)],1),e("div",{staticClass:"table-wrapper"},[e(t.componentsMap[t.activeComponent],{tag:"component",attrs:{tabType:t.componentsMap[t.activeComponent].name,selectTreeData:t.selectTreeData}})],1)])])},n=[],r=e("6a21"),o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[e("template",{slot:"common-page-search"},[e("el-row",[e("el-col",{attrs:{span:12}},[e("div",{staticClass:"search-criteria"},[e("div",{staticClass:"search-label"},[t._v("交易时间：")]),e("div",{staticClass:"search-value"},[e("VDatePicker",{model:{value:t.optionMap,callback:function(a){t.optionMap=a},expression:"optionMap"}})],1)])]),e("el-col",{attrs:{span:5}},[e("div",{staticClass:"search-criteria"},[e("div",{staticClass:"search-button-wrapper"},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),e("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("重置")])],1)])])],1)],1),e("template",{slot:"common-page-content-header"},[e("div",{staticClass:"page-title"},[t._v(" "+t._s(t.showChartsMap?"资产变化-总余额(万元)":"资产统计列表")+" ")]),e("div",{staticClass:"task-button-wrapper"},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.downloadResult}},[t._v("导出")]),e("el-button",{attrs:{size:"small",type:"text",disabled:t.handleChartsMapData},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),e("template",{slot:"common-table"},[t.showChartsMap?e("AssetChangeCharts",{attrs:{chartsMapData:t.chartsMapData}}):e("el-table",{attrs:{height:"100%",data:t.tableData}},[e("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,a.$index)))]}}],null,!1,282622886)}),e("el-table-column",{attrs:{prop:"bfzh",label:"本方账号"}}),e("el-table-column",{attrs:{prop:"bfhm",label:"本方户名"}}),e("el-table-column",{attrs:{prop:"month",label:"月份"}}),e("el-table-column",{attrs:{prop:"count",label:"总交易笔数"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.showDetail(a.row)}}},[t._v(t._s(a.row.count))])]}}],null,!1,4101944237)}),e("el-table-column",{attrs:{prop:"transactionAmount",label:"总交易金额(万元)"}}),e("el-table-column",{attrs:{prop:"revenueAmount",label:"总收入金额(万元)"}}),e("el-table-column",{attrs:{prop:"expenditureAmount",label:"总支出金额(万元)"}}),e("el-table-column",{attrs:{prop:"netIncome",label:"净收入(万元)"}}),e("el-table-column",{attrs:{prop:"jyye",label:"总余额(万元)"}})],1)],1)],2)},l=[],i=e("1da1"),c=(e("d81d"),e("ac1f"),e("841c"),e("96cf"),e("4de4"),e("d3b7"),e("ac16"),e("f8c9"),e("c73c")),p=function(t){return Object(c["a"])({method:"post",url:"/feature-analysis/assetsChange",data:t,loading:!0})},h=function(t){return Object(c["a"])({method:"post",url:"/feature-analysis/assetsChangeChart",data:t,loading:!0})},u=function(t){return Object(c["a"])({method:"post",url:"/feature-analysis/revenueChannel",data:t,loading:!0})},m=function(t){return Object(c["a"])({method:"post",url:"/feature-analysis/revenueChannelChart",data:t,loading:!0})},d=function(t){return Object(c["a"])({method:"post",url:"/feature-analysis/highFrequencyTrading",data:t,loading:!0})},b=function(t){return Object(c["a"])({method:"post",url:"/feature-analysis/highFrequencyTradingChart",data:t,loading:!0})},f=function(t){return Object(c["a"])({method:"post",url:"/feature-analysis/highValueTransaction",data:t,loading:!0})},g=function(t){return Object(c["a"])({method:"post",url:"/feature-analysis/transferFundsAnalysis",data:t,loading:!0})},v=function(t){return Object(c["a"])({method:"post",url:"/feature-analysis/transferFundsAnalysisChart",data:t,loading:!0})},C=function(t){return Object(c["a"])({method:"post",url:"/feature-analysis/featureAnalysisExport",data:t,responseType:"blob"})},M={data:function(){return{commonTableRefName:this.$vnode.tag,currentCaseId:this.$storage.get("data-analysis-current-case"),showChartsMap:!1}},props:{selectTreeData:{type:Array,default:function(){return[]}},tabType:{type:String}},computed:{selectAccountList:function(){return this.selectTreeData.filter((function(t){return 3===t.sign}))},selectCardList:function(){return this.selectTreeData.filter((function(t){return 4===t.sign}))},selectBillList:function(){return this.selectTreeData.filter((function(t){return 5===t.sign}))},selectCaseList:function(){return this.selectTreeData.filter((function(t){return 2===t.sign}))},switchBtnName:function(){return this.showChartsMap?"列表展示":"图形展示"}},methods:{downloadResult:function(){this.featureAnalysisExportOperation()},featureAnalysisExportOperation:function(){var t=this,a=this.$deepClone(this.params);0!==this.tableData.length&&(Reflect.deleteProperty(a,"pageNo"),Reflect.deleteProperty(a,"pageSize"),Reflect.deleteProperty(a,"tabType"),a.tabType=this.tabType,C(a).then((function(a){t.$fileStreamDownload(a)})))}}},w=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},_=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"charts-map-wrapper"},[e("div",{staticClass:"charts-map-content",attrs:{id:"AssetChangeCharts"}},[t._v(" contactTimesCharts ")])])}],y=(e("159b"),e("7db0"),e("b64b"),{name:"AssetChangeCharts",data:function(){return{myCharts:null,showSize:10}},props:{chartsMapData:{type:Object,default:function(){}}},watch:{showSize:function(){var t=this;console.log(this),this.$nextTick((function(){t.renderEcharts()}))},chartsMapData:{deep:!0,handler:function(){this.renderEcharts()}}},mounted:function(){this.renderEcharts()},methods:{renderEcharts:function(){var t=this,a=[],e={};for(var s in this.chartsMapData.month.forEach((function(a){for(var s in t.chartsMapData.data){var n=t.chartsMapData.data[s];e[s]||(e[s]=[]);var r=n.find((function(t){return t.month==a})),o=n[0];r?e[s].push(r):e[s].push({bfhm:o.bfhm,bfkh:o.bfkh,bfzh:o.bfzh,count:"0",expenditureAmount:o.expenditureAmount,jysj:o.jysj,jyye:"0",month:a,netIncome:o.netIncome,revenueAmount:o.revenueAmount,transactionAmount:"0"})}})),e)a.push({type:"line",name:s,data:e[s].map((function(t){return t.jyye}))});var n={legend:{y:"top",data:Object.keys(this.chartsMapData.data)},tooltip:{trigger:"axis",order:"seriesAsc",formatter:function(t){var a=t[0].axisValueLabel+"<br>";return t.forEach((function(t){a+=t.marker+" "+t.seriesName+" : "+t.value+"<br>"})),a},axisPointer:{type:"shadow"}},toolbox:{feature:{saveAsImage:{type:"png",name:"资产变化"}}},xAxis:[{type:"category",data:this.chartsMapData.month,axisTick:{alignWithLabel:!0}}],dataZoom:[{type:"slider",show:!0,xAxisIndex:[0],bottom:-5,start:0,end:100}],yAxis:[{type:"value",max:function(t){return Math.floor(t.max)+1},min:function(t){return t.min<0?Math.floor(t.min)-1:0}}],series:a},r=echarts.init(document.getElementById("AssetChangeCharts"));r.setOption(n),window.onresize=function(){r.resize()}}}}),T=y,D=(e("a6b4"),e("0c7c")),x=Object(D["a"])(T,w,_,!1,null,"7523e19b",null),k=x.exports,N={name:"assetChangeListTable",mixins:[M],components:{AssetChangeCharts:k},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},TRANSACTION_SELECT:function(){return this.$store.state.bill.TRANSACTION_SELECT}},data:function(){return{optionMap:{total:0,min:void 0,max:void 0,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:{},handleChartsMapData:!0}},methods:{getData:function(t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.list&&0!==t.list.length){e.next=2;break}return e.abrupt("return");case 2:return a.params=t,e.next=5,p(t);case 5:return s=e.sent,s.success?(a.tableData=s.data.records,a.optionMap.total=s.data.total,a.optionMap.currentPageNo=s.data.current,a.optionMap.pageSize=s.data.size):(a.$message.error(s.msg),a.tableData=[]),e.next=9,h(t);case 9:n=e.sent,n.success?(a.chartsMapData=n.data,a.handleChartsMapData=!a.chartsMapData.month.length):(a.$message.error(n.msg),a.tableData=[]);case 11:case"end":return e.stop()}}),e)})))()},showDetail:function(t){var a={};for(var e in this.params)a[e]=this.params[e];a.bfzh=t.bfzh,a.month=t.month,this.$dataDetailDialog.show(a)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?this.selectCaseList.length>1?this.$message.error("仅支持单户名及以下层级选择"):(this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},S=N,z=(e("dae1d"),Object(D["a"])(S,o,l,!1,null,"ad00c6a4",null)),$=z.exports,R=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[e("template",{slot:"common-page-search"},[e("el-row",[e("el-col",{attrs:{span:12}},[e("div",{staticClass:"search-criteria"},[e("div",{staticClass:"search-label"},[t._v("交易时间：")]),e("div",{staticClass:"search-value"},[e("VDatePicker",{model:{value:t.optionMap,callback:function(a){t.optionMap=a},expression:"optionMap"}})],1)])]),e("el-col",{attrs:{span:5}},[e("div",{staticClass:"search-criteria"},[e("div",{staticClass:"search-button-wrapper"},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),e("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("重置")])],1)])])],1)],1),e("template",{slot:"common-page-content-header"},[e("div",{staticClass:"page-title"},[t._v(" "+t._s(t.showChartsMap?"收入渠道统计":"收入渠道统计列表")+" ")]),e("div",{staticClass:"task-button-wrapper"},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.downloadResult}},[t._v("导出")]),e("el-button",{attrs:{size:"small",type:"text",disabled:0===t.chartsMapData.length},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),e("template",{slot:"common-table"},[t.showChartsMap?e("ChartsPie",{attrs:{downloadChartsName:t.downloadChartsName,echartsGlag:t.echartsGlag,chartsMapData:t.chartsMapData}}):e("el-table",{attrs:{height:"100%",data:t.tableData}},[e("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,a.$index)))]}}],null,!1,282622886)}),e("el-table-column",{attrs:{prop:"bfhm",label:"本方户名"}}),e("el-table-column",{attrs:{prop:"channelType",label:"收入渠道类型"}}),e("el-table-column",{attrs:{prop:"count",label:"总收入笔数"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.showDetail(a.row)}}},[t._v(t._s(a.row.count))])]}}],null,!1,4101944237)}),e("el-table-column",{attrs:{prop:"revenueAmount",label:"总交易金额(万元)"}}),e("el-table-column",{attrs:{prop:"incomeProportion",label:"收入占比"}})],1)],1)],2)},j=[],A=e("5113"),O={name:"revenueChannelStatistics",mixins:[M],components:{ChartsPie:A["a"]},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},BORROW_OR_LEND_SELECT:function(){return this.$store.state.bill.BORROW_OR_LEND_SELECT}},data:function(){return{optionMap:{total:0,min:void 0,max:void 0,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:[],downloadChartsName:"收入渠道",echartsGlag:!1}},methods:{getData:function(t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.list&&0!==t.list.length){e.next=2;break}return e.abrupt("return");case 2:return a.params=t,e.next=5,u(t);case 5:return s=e.sent,s.success?(a.tableData=s.data.records,a.optionMap.total=s.data.total,a.optionMap.currentPageNo=s.data.current,a.optionMap.pageSize=s.data.size):(a.$message.error(s.msg),a.tableData=[]),e.next=9,m(t);case 9:n=e.sent,n.success?a.chartsMapData=n.data:(a.$message.error(n.msg),a.tableData=[]);case 11:case"end":return e.stop()}}),e)})))()},showDetail:function(t){var a={};for(var e in this.params)a[e]=this.params[e];a.channelType=t.channelType,this.$dataDetailDialog.show(a)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?this.selectCaseList.length>1?this.$message.error("仅支持单户名及以下层级选择"):(this.optionMap.jdbz=this.BORROW_OR_LEND_SELECT.find((function(t){return"贷"===t.label})).value,this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},E=O,P=(e("e7e4"),Object(D["a"])(E,R,j,!1,null,"8c915d6a",null)),L=P.exports,I=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[e("template",{slot:"common-page-search"},[e("el-row",[e("el-col",{attrs:{span:12}},[e("div",{staticClass:"search-criteria"},[e("div",{staticClass:"search-label"},[t._v("交易时间：")]),e("div",{staticClass:"search-value"},[e("VDatePicker",{model:{value:t.optionMap,callback:function(a){t.optionMap=a},expression:"optionMap"}})],1)])]),e("el-col",{attrs:{span:12}},[e("div",{staticClass:"search-criteria"},[e("div",{staticClass:"search-button-wrapper"},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),e("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("重置")])],1)])])],1)],1),e("template",{slot:"common-page-content-header"},[e("div",{staticClass:"page-title"},[t._v(" "+t._s(t.showChartsMap?"支出渠道统计":"支出渠道统计列表")+" ")]),e("div",{staticClass:"task-button-wrapper"},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.downloadResult}},[t._v("导出")]),e("el-button",{attrs:{size:"small",type:"text",disabled:0===t.chartsMapData.length},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),e("template",{slot:"common-table"},[t.showChartsMap?e("ChartsPie",{attrs:{downloadChartsName:t.downloadChartsName,chartsMapData:t.chartsMapData,echartsGlag:t.echartsGlag}}):e("el-table",{attrs:{height:"100%",data:t.tableData}},[e("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,a.$index)))]}}],null,!1,282622886)}),e("el-table-column",{attrs:{prop:"bfhm",label:"本方账号"}}),e("el-table-column",{attrs:{prop:"channelType",label:"支出渠道类型"}}),e("el-table-column",{attrs:{prop:"count",label:"总支出笔数"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.showDetail(a.row)}}},[t._v(t._s(a.row.count))])]}}],null,!1,4101944237)}),e("el-table-column",{attrs:{prop:"revenueAmount",label:"总支出金额(万元)"}}),e("el-table-column",{attrs:{prop:"incomeProportion",label:"支出占比"}})],1)],1)],2)},B=[],V={name:"expenditureChannelStatistics",mixins:[M],components:{ChartsPie:A["a"]},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},BORROW_OR_LEND_SELECT:function(){return this.$store.state.bill.BORROW_OR_LEND_SELECT}},data:function(){return{optionMap:{total:0,min:void 0,max:void 0,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:[],downloadChartsName:"支出渠道",echartsGlag:!1}},methods:{getData:function(t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.list&&0!==t.list.length){e.next=2;break}return e.abrupt("return");case 2:return a.params=t,e.next=5,u(t);case 5:return s=e.sent,s.success?(a.tableData=s.data.records,a.optionMap.total=s.data.total,a.optionMap.currentPageNo=s.data.current,a.optionMap.pageSize=s.data.size):(a.$message.error(s.msg),a.tableData=[]),e.next=9,m(t);case 9:n=e.sent,n.success?a.chartsMapData=n.data:(a.$message.error(n.msg),a.tableData=[]);case 11:case"end":return e.stop()}}),e)})))()},showDetail:function(t){var a={};for(var e in this.params)a[e]=this.params[e];a.channelType=t.channelType,this.$dataDetailDialog.show(a)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?this.selectCaseList.length>1?this.$message.error("仅支持单户名及以下层级选择"):(this.optionMap.jdbz=this.BORROW_OR_LEND_SELECT.find((function(t){return"借"===t.label})).value,this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},G=V,W=(e("e4a1"),Object(D["a"])(G,I,B,!1,null,"e33201d4",null)),q=W.exports,F=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[e("template",{slot:"common-page-search"},[e("el-row",[e("el-col",{attrs:{span:25}},[e("div",{staticClass:"search-criteria"},[e("div",{staticClass:"search-label"},[t._v("连续交易次数不少于：")]),e("div",{staticClass:"search-value"},[e("el-input-number",{attrs:{"controls-position":"right",min:0,size:"small"},model:{value:t.optionMap.count,callback:function(a){t.$set(t.optionMap,"count",a)},expression:"optionMap.count"}})],1)])]),e("el-col",{attrs:{span:25}},[e("div",{staticClass:"search-criteria"},[e("div",{staticClass:"search-label"},[t._v("连续交易时间间隔(h)：")]),e("div",{staticClass:"search-value"},[e("el-input-number",{attrs:{"controls-position":"right",min:0,size:"small"},model:{value:t.optionMap.timeInterval,callback:function(a){t.$set(t.optionMap,"timeInterval",a)},expression:"optionMap.timeInterval"}})],1)])]),e("el-col",{attrs:{span:6}},[e("div",{staticClass:"search-criteria"},[e("div",{staticClass:"search-button-wrapper"},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),e("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("重置")])],1)])])],1),e("el-row",[e("el-col",{attrs:{span:9}},[e("div",{staticClass:"search-criteria"},[e("div",{staticClass:"search-label"},[t._v("交易时间：")]),e("div",{staticClass:"search-value"},[e("VDatePicker",{model:{value:t.optionMap,callback:function(a){t.optionMap=a},expression:"optionMap"}})],1)])])],1)],1),e("template",{slot:"common-page-content-header"},[e("div",{staticClass:"page-title"},[t._v(" "+t._s(t.showChartsMap?"高频交易分析":"高频交易分析列表")+" ")]),e("div",{staticClass:"task-button-wrapper"},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.downloadResult}},[t._v("导出")]),e("el-button",{attrs:{size:"small",type:"text",disabled:0===t.chartsMapData.length},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),e("template",{slot:"common-table"},[t.showChartsMap?e("PublicCharts",{attrs:{echartsGlag:t.echartsGlag,downloadChartsName:t.downloadChartsName,chartsMapData:t.chartsMapData,seriesOption:[{name:"总交易额(万元)",type:"bar",stack:"1",barMaxWidth:"100",dataKey:"transactionAmount"},{name:"总收入笔数",type:"line",stack:"2",dataKey:"count"}],dataOption:{bfzh:"本方账号：",bfhm:"本方户名：",startTime:"开始时间：",endTime:"结束时间：",count:"交易笔数：",transactionAmount:"总交易金额 (万元) ："}}}):e("el-table",{attrs:{height:"100%",data:t.tableData}},[e("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,a.$index)))]}}],null,!1,282622886)}),e("el-table-column",{attrs:{prop:"bfzh",label:"本方账号"}}),e("el-table-column",{attrs:{prop:"bfhm",label:"本方户名"}}),e("el-table-column",{attrs:{prop:"startTime",label:"起始时间"}}),e("el-table-column",{attrs:{prop:"endTime",label:"结束时间"}}),e("el-table-column",{attrs:{prop:"count",label:"总交易笔数"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.showDetail(a.row)}}},[t._v(t._s(a.row.count))])]}}],null,!1,4101944237)}),e("el-table-column",{attrs:{prop:"transactionAmount",label:"总交易金额(万元)"}}),e("el-table-column",{attrs:{prop:"revenueAmount",label:"总收入金额(万元)"}}),e("el-table-column",{attrs:{prop:"expenditureAmount",label:"总支出金额(万元)"}}),e("el-table-column",{attrs:{prop:"netIncome",label:"净收入(万元)"}})],1)],1)],2)},Y=[],K=e("1b5a"),J={name:"highTradingListTable",mixins:[M],components:{PublicCharts:K["a"]},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},TRANSACTION_SELECT:function(){return this.$store.state.bill.TRANSACTION_SELECT}},data:function(){return{optionMap:{total:0,min:void 0,max:void 0,count:3,timeInterval:2,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:[],echartsGlag:!1,downloadChartsName:"高频交易"}},methods:{getData:function(t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.list&&0!==t.list.length){e.next=2;break}return e.abrupt("return");case 2:return a.params=t,e.next=5,d(t);case 5:return s=e.sent,s.success?(a.tableData=s.data.records,a.optionMap.total=s.data.total,a.optionMap.currentPageNo=s.data.current,a.optionMap.pageSize=s.data.size):(a.$message.error(s.msg),a.tableData=[]),e.next=9,b(t);case 9:n=e.sent,n.success?a.chartsMapData=n.data:(a.$message.error(n.msg),a.tableData=[]);case 11:case"end":return e.stop()}}),e)})))()},showDetail:function(t){console.log("data",t);var a={};for(var e in this.params)a[e]=this.params[e];a.bfzh=t.bfzh,a.searchBeginTime=t.startTime,a.searchEndTime=t.endTime,this.$dataDetailDialog.show(a)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?(this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},X=J,Z=(e("59fe"),Object(D["a"])(X,F,Y,!1,null,"3b0cd828",null)),H=Z.exports,Q=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[e("template",{slot:"common-page-search"},[e("el-row",[e("el-col",{attrs:{span:25}},[e("div",{staticClass:"search-criteria"},[e("div",{staticClass:"search-label"},[t._v("单笔交易金额不少于  ")]),e("div",{staticClass:"search-value new-search-value"},[e("el-input-number",{attrs:{"controls-position":"right",step:1e3,min:0,size:"small"},model:{value:t.optionMap.jyje,callback:function(a){t.$set(t.optionMap,"jyje",a)},expression:"optionMap.jyje"}})],1),e("div",{staticClass:"search-label-suffix"},[t._v("  元")])])]),e("el-col",{attrs:{span:9}},[e("div",{staticClass:"search-criteria"},[e("div",{staticClass:"search-label"},[t._v("交易时间：")]),e("div",{staticClass:"search-value"},[e("VDatePicker",{model:{value:t.optionMap,callback:function(a){t.optionMap=a},expression:"optionMap"}})],1)])]),e("el-col",{attrs:{span:25}},[e("div",{staticClass:"search-criteria"},[e("div",{staticClass:"search-button-wrapper"},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),e("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("重置")])],1)])])],1)],1),e("template",{slot:"common-page-content-header"},[e("div",{staticClass:"page-title"},[t._v("高额交易分析")]),e("div",{staticClass:"task-button-wrapper"},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.downloadResult}},[t._v("导出")])],1)]),e("template",{slot:"common-table"},[e("el-table",{attrs:{height:"100%",data:t.tableData}},[e("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,a.$index)))]}}])}),e("el-table-column",{attrs:{prop:"bfkh",label:"本方卡号"}}),e("el-table-column",{attrs:{prop:"bfzh",label:"本方账号"}}),e("el-table-column",{attrs:{prop:"bfhm",label:"本方户名"}}),e("el-table-column",{attrs:{prop:"bfkhh",label:"本方开户银行"}}),e("el-table-column",{attrs:{prop:"jysj",label:"交易时间"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("handleDate")(a.row.jysj))+" ")]}}])}),e("el-table-column",{attrs:{prop:"jyje",label:"交易金额(元)"}}),e("el-table-column",{attrs:{prop:"jyye",label:"交易余额(元)"}}),e("el-table-column",{attrs:{prop:"biz",label:"币种"}}),e("el-table-column",{attrs:{prop:"jdbz",label:"借贷标志"}}),e("el-table-column",{attrs:{prop:"jydfzh",label:"对方账号"}}),e("el-table-column",{attrs:{prop:"jydfkh",label:"对方卡号"}}),e("el-table-column",{attrs:{prop:"jydfmc",label:"对方名称"}}),e("el-table-column",{attrs:{prop:"jydfzhkhh",label:"对方开户行"}}),e("el-table-column",{attrs:{prop:"jywdmc",label:"交易网点"}}),e("el-table-column",{attrs:{prop:"jyzy",label:"交易网点交易摘要"}}),e("el-table-column",{attrs:{prop:"bz",label:"备注"}})],1)],1)],2)},U=[],tt=e("c1df"),at=e.n(tt),et={name:"greatNumberDealListTable",mixins:[M],components:{},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},TRANSACTION_SELECT:function(){return this.$store.state.bill.TRANSACTION_SELECT}},filters:{handleDate:function(t){return at()(t).format("YYYY-MM-DD hh:mm:ss")}},data:function(){return{optionMap:{total:0,min:void 0,max:void 0,jyje:1e3,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:[]}},methods:{getData:function(t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.list&&0!==t.list.length){e.next=2;break}return e.abrupt("return");case 2:return a.params=t,e.next=5,f(t);case 5:s=e.sent,s.success?(a.tableData=s.data.records,a.optionMap.total=s.data.total,a.optionMap.currentPageNo=s.data.current,a.optionMap.pageSize=s.data.size):(a.$message.error(s.msg),a.tableData=[]);case 7:case"end":return e.stop()}}),e)})))()},showDetail:function(t){var a={};for(var e in this.params)a[e]=this.params[e];a.bfzh=t.bfzh,a.jydfzh=t.jydfzh,this.$refs.dataDetailDialog.show(a)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?(this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},st=et,nt=(e("f2a7"),Object(D["a"])(st,Q,U,!1,null,"69c4b2de",null)),rt=nt.exports,ot=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("VCommonSearchTablePage",{ref:t.commonTableRefName,attrs:{optionMap:t.optionMap,showChartsMap:t.showChartsMap,name:"contact-count-table-loading"},on:{request:t.getData}},[e("template",{slot:"common-page-search"},[e("el-row",[e("el-col",{attrs:{span:25}},[e("div",{staticClass:"search-criteria"},[e("div",{staticClass:"search-label"},[t._v("中转金额不小于（万元)  ")]),e("div",{staticClass:"search-value"},[e("el-input-number",{attrs:{"controls-position":"right",min:0,size:"small"},model:{value:t.optionMap.jyje,callback:function(a){t.$set(t.optionMap,"jyje",a)},expression:"optionMap.jyje"}})],1)])]),e("el-col",{attrs:{span:25}},[e("div",{staticClass:"search-criteria"},[e("div",{staticClass:"search-label"},[t._v("中转资金浮动比率  ")]),e("div",{staticClass:"search-value"},[e("el-row",{staticStyle:{display:"inline-block","vertical-align":"middle"}},[e("el-col",{attrs:{span:25}},[e("el-input-number",{attrs:{step:.1,min:0,"controls-position":"right",size:"small"},model:{value:t.optionMap.floatingRatioMin,callback:function(a){t.$set(t.optionMap,"floatingRatioMin",a)},expression:"optionMap.floatingRatioMin"}})],1),e("el-col",{staticClass:"line",staticStyle:{"text-align":"center",transform:"scaleX(2)",margin:"0 10px"},attrs:{span:25}},[t._v("-")]),e("el-col",{attrs:{span:25}},[e("el-input-number",{attrs:{step:.1,min:0,max:99999,"controls-position":"right",size:"small"},model:{value:t.optionMap.floatingRatioMax,callback:function(a){t.$set(t.optionMap,"floatingRatioMax",a)},expression:"optionMap.floatingRatioMax"}})],1)],1)],1)])]),e("el-col",{attrs:{span:25}},[e("div",{staticClass:"search-criteria"},[e("div",{staticClass:"search-label"},[t._v("中转时间间隔(h)：")]),e("div",{staticClass:"search-value"},[e("el-input-number",{attrs:{"controls-position":"right",min:0,size:"small"},model:{value:t.optionMap.timeInterval,callback:function(a){t.$set(t.optionMap,"timeInterval",a)},expression:"optionMap.timeInterval"}})],1)])]),e("el-col",{attrs:{span:3}},[e("div",{staticClass:"search-criteria"},[e("div",{staticClass:"search-button-wrapper"},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("分析")]),e("el-button",{attrs:{size:"small"},on:{click:t.refreshSearch}},[t._v("重置")])],1)])])],1),e("el-row",[e("el-col",{attrs:{span:9}},[e("div",{staticClass:"search-criteria"},[e("div",{staticClass:"search-label"},[t._v("交易时间：")]),e("div",{staticClass:"search-value"},[e("VDatePicker",{model:{value:t.optionMap,callback:function(a){t.optionMap=a},expression:"optionMap"}})],1)])])],1)],1),e("template",{slot:"common-page-content-header"},[e("div",{staticClass:"page-title"},[t._v(" "+t._s(t.showChartsMap?"中转资金分析":"中转资金分析列表")+" ")]),e("div",{staticClass:"task-button-wrapper"},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.downloadResult}},[t._v("导出")]),e("el-button",{attrs:{size:"small",type:"text",disabled:0===t.chartsMapData.length},on:{click:t.showChartsMapToggle}},[t._v(t._s(t.switchBtnName))])],1)]),e("template",{slot:"common-table"},[t.showChartsMap?e("PublicCharts",{attrs:{echartsGlag:t.echartsGlag,chartsMapData:t.chartsMapData,downloadChartsName:t.downloadChartsName,seriesOption:[{name:"中转金额(万元)",type:"bar",stack:"1",barMaxWidth:"100",dataKey:"jyje"}],dataOption:{bfzh:"本方账号：",bfhm:"本方户名：",startTime:"开始时间：",endTime:"开始时间：",count:"交易笔数：",jyje:"中转金额 (万元) ：",expenditureAmount:"支出收入 (万元) ："}}}):e("el-table",{attrs:{height:"100%",data:t.tableData}},[e("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(t.$pageIndex(t.optionMap.currentPageNo,t.optionMap.pageSize,a.$index)))]}}],null,!1,282622886)}),e("el-table-column",{attrs:{prop:"bfzh",label:"本方账号"}}),e("el-table-column",{attrs:{prop:"bfhm",label:"本方户名"}}),e("el-table-column",{attrs:{prop:"startTime",label:"起始时间"}}),e("el-table-column",{attrs:{prop:"endTime",label:"结束时间"}}),e("el-table-column",{attrs:{prop:"jyje",label:"中转金额(万元)"}}),e("el-table-column",{attrs:{prop:"count",label:"总交易笔数"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.showDetail(a.row)}}},[t._v(t._s(a.row.count))])]}}],null,!1,4101944237)}),e("el-table-column",{attrs:{prop:"revenueAmount",label:"总收入金额(万元)"}}),e("el-table-column",{attrs:{prop:"expenditureAmount",label:"总支出金额(万元)"}}),e("el-table-column",{attrs:{prop:"incomeProportion",label:"支出收入占比"}})],1)],1)],2)},lt=[],it={name:"transferFundsAnalysisListTable",mixins:[M],components:{PublicCharts:K["a"]},computed:{relationList:function(){return this.$store.state.bill.APP_CONST_DATA.relation||[]},TRANSACTION_SELECT:function(){return this.$store.state.bill.TRANSACTION_SELECT}},data:function(){return{optionMap:{floatingRatioMin:.9,floatingRatioMax:1.1,total:0,min:void 0,max:void 0,jyje:1,timeInterval:24,currentPageNo:1,pageSize:10,searchBeginTime:"",searchEndTime:""},tableData:[],params:{},chartsMapData:[],echartsGlag:!0,downloadChartsName:"中转资金分析"}},methods:{getData:function(t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.list&&0!==t.list.length){e.next=2;break}return e.abrupt("return");case 2:return a.params=t,e.next=5,g(t);case 5:return s=e.sent,s.success?(a.tableData=s.data.records,a.optionMap.total=s.data.total,a.optionMap.currentPageNo=s.data.current,a.optionMap.pageSize=s.data.size):(a.$message.error(s.msg),a.tableData=[]),e.next=9,v(t);case 9:n=e.sent,n.success?a.chartsMapData=n.data:(a.$message.error(n.msg),a.tableData=[]);case 11:case"end":return e.stop()}}),e)})))()},showDetail:function(t){var a={};for(var e in this.params)a[e]=this.params[e];a.bfzh=t.bfzh,a.searchBeginTime=t.startTime,a.searchEndTime=t.endTime,this.$dataDetailDialog.show(a)},showChartsMapToggle:function(){this.showChartsMap=!this.showChartsMap},search:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==this.selectBillList.length?(this.optionMap.caseId=this.currentCaseId,this.optionMap.list=this.selectBillList.map((function(t){return{bfkh:t.pid||"",fileId:[t.id]}})),this.$refs[this.commonTableRefName].search(t)):this.$message.error("请选择账单进行分析")},refreshSearch:function(){this.$refs[this.commonTableRefName].refreshSearch()}}},ct=it,pt=(e("ffab"),Object(D["a"])(ct,ot,lt,!1,null,"dec16318",null)),ht=pt.exports,ut={name:"ransactionAnalysis",components:{selectTree:r["a"]},data:function(){return{activeName:"1",selectTreeData:[],componentsMap:{1:$,2:L,3:q,4:H,5:rt,6:ht},activeComponent:"1"}},methods:{handleClick:function(t){this.activeComponent=this.activeName},handleChange:function(t){this.selectTreeData=t,this.activeComponent=this.activeName}}},mt=ut,dt=(e("cc38"),Object(D["a"])(mt,s,n,!1,null,"aace12a6",null));a["default"]=dt.exports},cc38:function(t,a,e){"use strict";e("d724")},d724:function(t,a,e){},dae1d:function(t,a,e){"use strict";e("9897")},e4a1:function(t,a,e){"use strict";e("0ba4")},e7e4:function(t,a,e){"use strict";e("206a")},f2a7:function(t,a,e){"use strict";e("ad88")},f34e:function(t,a,e){},ffab:function(t,a,e){"use strict";e("f34e")}}]);